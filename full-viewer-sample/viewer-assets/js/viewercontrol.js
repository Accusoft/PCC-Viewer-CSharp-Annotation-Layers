var IPCC=IPCC||{};IPCC.Type=IPCC.Type||{};IPCC.Type.prototype=IPCC.Type.prototype||Object.prototype;IPCC.Type.registerNamespace=function(namespacePath){var rootObject=window;var namespaceParts=namespacePath.split('.');var getTypeName=function(){return this.__typeName;};for(var i=0;i<namespaceParts.length;i++){var currentPart=namespaceParts[i];var ns=rootObject[currentPart];var nsType=typeof(ns);if((nsType!=="undefined")&&(ns!==null)){if(nsType==="function"){throw new Error("namespace error: "+namespacePath);}if((typeof(ns)!=="object")||(ns instanceof Array)){throw new Error("Name space error: "+ns);}}if(!ns){ns=rootObject[currentPart]={};}if(!ns.__namespace){ns.__namespace=true;ns.__typeName=namespaceParts.slice(0,i+1).join('.');ns.getName=getTypeName;}rootObject=ns;}};IPCC.Sys=IPCC.Sys||{};IPCC.Sys.UI=IPCC.Sys.UI||{};IPCC.Sys.UI.Control=IPCC.Sys.UI.Control||{};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.initializePageViewPlugin=function(It,UM){var qa=UM.handleTouchEvents!==false;var Lh=new IPCC.Web.UI.PageView(It,qa);if(UM){IPCC.afq(Lh,UM);}Lh.pm(It);Lh.initialize();return Lh;};IPCC.initializePageListPlugin=function(It,bp){var MW=new IPCC.PageList(It);if(bp){IPCC.afq(MW,bp);}MW.pm(It);MW.initialize();return MW;};IPCC.Web.regEnum=function(name,flags){for(var i in this.prototype){if(this.prototype.hasOwnProperty(i)){this[i]=this.prototype[i];}}this.__typeName=name;this.__flags=flags;this.__enum=true;};IPCC.Web.regClass=function(typeName,baseType,interfaceTypes){this.prototype.constructor=this;this.__typeName=typeName;this.__class=true;if(baseType){this.__baseType=baseType;for(var Or in baseType.prototype){if(baseType.prototype.hasOwnProperty(Or)){var atF=baseType.prototype[Or];if(!this.prototype[Or]){this.prototype[Or]=atF;}}}}return this;};IPCC.Web.aDp=function(Xt,SZ,aeI){if(SZ){if(!aeI){SZ.apply(Xt);}else{SZ.apply(Xt,aeI);}}return Xt;};IPCC.Web.UI.DebugErrorLevel=function(){};IPCC.Web.UI.DebugErrorLevel.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugErrorLevel.prototype={Production:0,Development:1,Detailed:2};IPCC.Web.UI.DebugErrorLevel.registerEnum('IPCC.Web.UI.DebugErrorLevel',false);IPCC.Web.UI.DebugItemCause=function(){};IPCC.Web.UI.DebugItemCause.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.DebugItemCause.prototype={FunctionCall:0,Exception:1,Custom:2,UserAction:3,Warning:4};IPCC.Web.UI.DebugItemCause.registerEnum('IPCC.Web.UI.DebugItemCause',false);IPCC.Web.UI.MouseButton=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.MouseButton.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseButton.prototype={leftButton:0,middleButton:1,rightButton:2};IPCC.Web.UI.MouseButton.registerEnum("IPCC.Web.UI.MouseButton");IPCC.Web.UI.Key=function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}throw new IPCC.Web.UI.ImGearNotImplementedException();};IPCC.Web.UI.Key.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Key.prototype={backspace:8,tab:9,enter:13,esc:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,del:127};IPCC.Web.UI.Key.registerEnum("IPCC.Web.UI.Key");IPCC.Web.UI.aJ=function(aoQ){var au=aoQ;var aie=this.type=au.type.toLowerCase();var QV=typeof au.changedTouches!=='undefined';this.rawEvent=au;this.altKey=au.altKey;if(typeof(au.button)!=='undefined'){this.button=(typeof(au.which)!=='undefined')?au.button:(au.button===4)?IPCC.Web.UI.MouseButton.middleButton:(au.button===2)?IPCC.Web.UI.MouseButton.rightButton:IPCC.Web.UI.MouseButton.leftButton;}if(aie==='keypress'){this.charCode=au.charCode||au.keyCode;}else if(au.keyCode&&(au.keyCode===46)){this.keyCode=127;}else{this.keyCode=au.keyCode;}this.clientX=(QV)?au.changedTouches[0].clientX:au.clientX;this.clientY=(QV)?au.changedTouches[0].clientY:au.clientY;this.ctrlKey=au.ctrlKey;this.target=au.target?au.target:au.srcElement;function asZ(aS){var ae=0;var fv=0;while(aS&& !isNaN(aS.offsetLeft)&& !isNaN(aS.offsetTop)){ae+=aS.offsetLeft-aS.scrollLeft;fv+=aS.offsetTop-aS.scrollTop;if(aS.offsetparent){aS=aS.offsetParent;}else{aS=aS.parentNode;}}return{top:fv,left:ae};};var eC=""+aie;var wy='key';if(eC.substr(0,wy.length)!==wy){if((typeof(au.offsetX)!=='undefined')&&(typeof(au.offsetY)!=='undefined')){this.offsetX=au.offsetX;this.offsetY=au.offsetY;}else if(this.target&&(this.target.nodeType!==3)&&(typeof(au.clientX)==='number')){var amo=asZ(this.target);var cA=this.target;var dv=cA.ownerDocument||cA.document||cA;var kz=dv.defaultView||dv.parentWindow;this.offsetX=(kz.pageXOffset||0)+au.clientX-amo.left;this.offsetY=(kz.pageYOffset||0)+au.clientY-amo.top;}}this.screenX=(QV)?au.changedTouches[0].screenX:au.screenX;this.screenY=(QV)?au.changedTouches[0].screenY:au.screenY;this.shiftKey=au.shiftKey;};IPCC.Web.UI.aJ.prototype={preventDefault:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.preventDefault){this.rawEvent.preventDefault();}else if(window.event){this.rawEvent.returnValue=false;}},stopPropagation:function(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}if(this.rawEvent.stopPropagation){this.rawEvent.stopPropagation();}else if(window.event){this.rawEvent.cancelBubble=true;}}};IPCC.Web.UI.aJ.registerClass=IPCC.Web.regClass;IPCC.Web.UI.aJ.registerClass('IPCC.Web.UI.aJ');IPCC.afq=function(dA,kP){var Og;for(var ct in kP){if(kP.hasOwnProperty(ct)){var cg=kP[ct];var aCy=dA["get_"+ct];var afg=dA["set_"+ct];if(typeof(afg)==='function'){afg.apply(dA,[cg]);}else if(cg instanceof Array){Og=aCy.apply(dA);if(!(Og instanceof Array)){throw new new IPCC.Web.UI.ImGearInvalidOperationException(ct+" is not an Array property");}for(var F=0,ba=Og.length,rN=cg.length;F<rN;F++,ba++){Og[ba]=cg[F];}}}}};IPCC.Web.UI.aJ.addHandler=function(element,eventName,handler,autoRemove){IPCC.Web.UI.aJ.Zv(element);if(eventName==="error"){throw new IPCC.Web.UI.ImGearInvalidOperationException(IPCC.fW.addHandlerCantBeUsedForError);}if(!element.aO){element.aO={};}var eventCache=element.aO[eventName];if(!eventCache){element.aO[eventName]=eventCache=[];}var browserHandler;if(element.addEventListener){browserHandler=function(e){return handler.call(element,new IPCC.Web.UI.aJ(e));};element.addEventListener(eventName,browserHandler,false);}else if(element.attachEvent){browserHandler=function(){var e={};try{var doc=element.ownerDocument||element.document||element;var cA=doc.defaultView||doc.parentWindow;e=cA.event;}catch(ex){}return handler.call(element,new IPCC.Web.UI.aJ(e));};element.attachEvent('on'+eventName,browserHandler);}eventCache[eventCache.length]={handler:handler,browserHandler:browserHandler,autoRemove:autoRemove};if(autoRemove){var d=element.dispose;if(d!==IPCC.Web.UI.aJ.ahG){element.dispose=IPCC.Web.UI.aJ.ahG;if(typeof(d)!=="undefined"){element.aiV=d;}}}};IPCC.Web.UI.aJ.clearHandlers=function(element){IPCC.Web.UI.aJ.Zv(element);IPCC.Web.UI.aJ.ajj(element,false);};IPCC.Web.UI.aJ.ajj=function(element,autoRemoving){if(element.aO){var cache=element.aO;for(var name in cache){if(cache.hasOwnProperty(name)){var handlers=cache[name];for(var i=handlers.length-1;i>=0;i--){var entry=handlers[i];if(!autoRemoving||entry.autoRemove){IPCC.Web.UI.aJ.removeHandler(element,name,entry.handler);}}}}element.aO=null;}};IPCC.Web.UI.aJ.ahG=function(){IPCC.Web.UI.aJ.ajj(this,true);var d=this.aiV,type=typeof(d);if(type!=="undefined"){this.dispose=d;this.aiV=null;if(type==="function"){this.dispose();}}};IPCC.Web.UI.aJ.removeHandler=function(element,eventName,handler){IPCC.Web.UI.aJ.bZ(element,eventName,handler);};IPCC.Web.UI.aJ.bZ=function(element,eventName,handler){IPCC.Web.UI.aJ.Zv(element);var browserHandler=null;if((typeof(element.aO)!=='object')|| !element.aO){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}var cache=element.aO[eventName];if(!(cache instanceof Array)){throw new IPCC.Web.UI.ImGearInvalidOperationException('DOM event handler was not added through the DomEvent.addHandler method.');}for(var i=0,l=cache.length;i<l;i++){if(cache[i].handler===handler){browserHandler=cache[i].browserHandler;break;}}if(typeof(browserHandler)!=='function'){throw new IPCC.Web.UI.ImGearInvalidOperationException('Handler was not added through the IPCC.Web.UI.aJ.addHandler method.');}if(element.removeEventListener){element.removeEventListener(eventName,browserHandler,false);}else if(element.detachEvent){element.detachEvent('on'+eventName,browserHandler);}cache.splice(i,1);};IPCC.Web.UI.aJ.Zv=function(element){if(element.tagName&&(element.tagName.toUpperCase()==="SCRIPT")){return;}var doc=element.ownerDocument||element.document||element;if((typeof(element.document)!=='object')&&(element!==doc)&&(typeof(element.nodeType)!=='number')){throw new IPCC.Web.UI.ImGearArgumentException("element",IPCC.fW.argumentDomNode);}};IPCC.qV=function(dQ,Am){var C=this;this.dQ=dQ;this.Am=Am;this.aCB=function(){return C.dQ;};this.aDF=function(){return C.Am;};};IPCC.qV.prototype.get_propertyName=function(){return this.dQ;};IPCC.qV.prototype.get_propertyInfo=function(){return this.Am;};IPCC.Web.wj=function(ae){return!isNaN(ae-0)&&ae!==null;};IPCC.auO=function ImageGearIndexOf(array,item,start){if(typeof(item)==="undefined"){return-1;}var length=array.length;if(length!==0){start=start-0;if(isNaN(start)){start=0;}else{if(isFinite(start)){start=start-(start%1);}if(start<0){start=Math.max(0,length+start);}}for(var i=start;i<length;i++){if((typeof(array[i])!=="undefined")&&(array[i]===item)){return i;}}}return-1;};IPCC.Web.UI.gv=function gv(){if(arguments.length!==0){throw new IPCC.Web.UI.ImGearParameterCountException();}this.Yk={};};IPCC.Web.UI.gv.prototype.cq=function(cD,G){var eY=this.abl(cD,true);eY[eY.length]=G;};IPCC.Web.UI.gv.prototype.addHandler=function(cD,G){this.cq(cD,G);};IPCC.Web.UI.gv.prototype.bZ=function(cD,G){var uj=this.abl(cD);if(!uj){return;}var bh=IPCC.auO(uj,G);if(bh>=0){uj.splice(bh,1);}};IPCC.Web.UI.gv.prototype.removeHandler=function(cD,G){this.bZ(cD,G);};IPCC.Web.UI.gv.prototype.getHandler=function(cD){var uj=this.abl(cD);if(!uj||(uj.length===0)){return null;}var eY=uj.slice();uj=eY;return function(source,args){for(var F=0,rN=uj.length;F<rN;F++){uj[F](source,args);}};};IPCC.Web.UI.gv.prototype.abl=function(cD,amT){if(!this.Yk[cD]){if(!amT){return null;}this.Yk[cD]=[];}return this.Yk[cD];};IPCC.Web.Ft=IPCC.Ft||{};IPCC.Web.Ft.TM=function(aI){if(!this.FT[0][0][0]){this.UK();}var F,ba,eC,HO,Vz,lF=this.FT[0][4],wJ=this.FT[1],sD=aI.length,QF=1;if(sD!==4&&sD!==6&&sD!==8){throw new IPCC.Web.UI.ImGearArgumentException('none',"invalid aes key size");}this.aI=[HO=aI.slice(0),Vz=[]];for(F=sD;F<4*sD+28;F++){eC=HO[F-1];if(F%sD===0||(sD===8&&F%sD===4)){eC=lF[eC>>>24]<<24^lF[eC>>16&255]<<16^lF[eC>>8&255]<<8^lF[eC&255];if(F%sD===0){eC=eC<<8^eC>>>24^QF<<24;QF=QF<<1^(QF>>7)*283;}}HO[F]=HO[F-sD]^eC;}for(ba=0;F;ba++,F--){eC=HO[ba&3?F:F-4];if(F<=4||ba<4){Vz[ba]=eC;}else{Vz[ba]=wJ[0][lF[eC>>>24]]^wJ[1][lF[eC>>16&255]]^wJ[2][lF[eC>>8&255]]^wJ[3][lF[eC&255]];}}};IPCC.Web.Ft.TM.prototype={MX:function(cj){return this.aoE(cj,1);},FT:[[[],[],[],[],[]],[[],[],[],[],[]]],UK:function(){var QD=this.FT[0],wJ=this.FT[1],lF=QD[4],awo=wJ[4],F,ae,zQ,ew=[],fD=[],Wo,ach,acr,jf,MR,Lk;for(F=0;F<256;F++){fD[(ew[F]=F<<1^(F>>7)*283)^F]=F;}for(ae=zQ=0;!lF[ae];ae^=Wo||1,zQ=fD[zQ]||1){jf=zQ^zQ<<1^zQ<<2^zQ<<3^zQ<<4;jf=jf>>8^jf&255^99;lF[ae]=jf;awo[jf]=ae;acr=ew[ach=ew[Wo=ew[ae]]];Lk=acr*0x1010101^ach*0x10001^Wo*0x101^ae*0x1010100;MR=ew[jf]*0x101^jf*0x1010100;for(F=0;F<4;F++){QD[F][ae]=MR=MR<<24^MR>>>8;wJ[F][jf]=Lk=Lk<<24^Lk>>>8;}}for(F=0;F<5;F++){QD[F]=QD[F].slice(0);wJ[F]=wJ[F].slice(0);}},aoE:function(Jp,Mo){if(Jp.length!==4){throw new IPCC.Web.UI.ImGearArgumentException('blocksize','Invalid block size');}var aI=this.aI[Mo],dg=Jp[0]^aI[0],fl=Jp[Mo?3:1]^aI[1],fI=Jp[2]^aI[2],ew=Jp[Mo?1:3]^aI[3],vY,aeu,ait,ayZ=aI.length/4-2,F,Df=4,dY=[0,0,0,0],Je=this.FT[Mo],Mw=Je[0],Ll=Je[1],LH=Je[2],LJ=Je[3],lF=Je[4];for(F=0;F<ayZ;F++){vY=Mw[dg>>>24]^Ll[fl>>16&255]^LH[fI>>8&255]^LJ[ew&255]^aI[Df];aeu=Mw[fl>>>24]^Ll[fI>>16&255]^LH[ew>>8&255]^LJ[dg&255]^aI[Df+1];ait=Mw[fI>>>24]^Ll[ew>>16&255]^LH[dg>>8&255]^LJ[fl&255]^aI[Df+2];ew=Mw[ew>>>24]^Ll[dg>>16&255]^LH[fl>>8&255]^LJ[fI&255]^aI[Df+3];Df+=4;dg=vY;fl=aeu;fI=ait;}for(F=0;F<4;F++){dY[Mo?3& -F:F]=lF[dg>>>24]<<24^lF[fl>>16&255]<<16^lF[fI>>8&255]<<8^lF[ew&255]^aI[Df++];vY=dg;dg=fl;fl=fI;fI=ew;ew=vY;}return dY;}};IPCC.Web.anK='8.4';IPCC.Web.avC=24;IPCC.Web.sx=IPCC.Web.sx||{};IPCC.Web.sx.aaZ=function(sx){if(!this.aI[0]){this.UK();}if(sx){this.eG=sx.eG.slice(0);this.wz=sx.wz.slice(0);this.dm=sx.dm;}else{this.adq();}};IPCC.Web.sx.aaZ.sx=function(cj){return(new IPCC.Web.sx.aaZ()).apH(cj).aAS();};IPCC.Web.sx.aaZ.prototype={aDd:512,adq:function(){this.eG=this.RE.slice(0);this.wz=[];this.dm=0;return this;},apH:function(cj){if(typeof cj==="string"){cj=IPCC.Web.Codec.Cn.rK(cj);}var F,fl=this.wz=IPCC.Web.gj.VF(this.wz,cj),alr=this.dm,ays=this.dm=alr+IPCC.Web.gj.wD(cj);for(F=512+alr& -512;F<=ays;F+=512){this.PY(fl.splice(0,16));}return this;},aAS:function(){var F,fl=this.wz,eG=this.eG;fl=IPCC.Web.gj.VF(fl,[IPCC.Web.gj.Ii(1,1)]);for(F=fl.length+2;F&15;F++){fl.push(0);}fl.push(Math.floor(this.dm/0x100000000));fl.push(this.dm|0);while(fl.length){this.PY(fl.splice(0,16));}this.adq();return eG;},RE:[],aI:[],UK:function(){var F=0,IA=2,bP;function ale(ae){return(ae-Math.floor(ae))*0x100000000|0;};awQ:for(;F<64;IA++){for(bP=2;bP*bP<=IA;bP++){if(IA%bP===0){continue awQ;}}if(F<8){this.RE[F]=ale(Math.pow(IA,1/2));}this.aI[F]=ale(Math.pow(IA,1/3));F++;}},PY:function(nt){var F,eC,dg,fl,kz=nt.slice(0),eG=this.eG,cc=this.aI,Wr=eG[0],rv=eG[1],Kb=eG[2],Ou=eG[3],uY=eG[4],PE=eG[5],KH=eG[6],XQ=eG[7];for(F=0;F<64;F++){if(F<16){eC=kz[F];}else{dg=kz[(F+1)&15];fl=kz[(F+14)&15];eC=kz[F&15]=((dg>>>7^dg>>>18^dg>>>3^dg<<25^dg<<14)+(fl>>>17^fl>>>19^fl>>>10^fl<<15^fl<<13)+kz[F&15]+kz[(F+9)&15])|0;}eC=(eC+XQ+(uY>>>6^uY>>>11^uY>>>25^uY<<26^uY<<21^uY<<7)+(KH^uY&(PE^KH))+cc[F]);XQ=KH;KH=PE;PE=uY;uY=Ou+eC|0;Ou=Kb;Kb=rv;rv=Wr;Wr=(eC+((rv&Kb)^(Ou&(rv^Kb)))+(rv>>>2^rv>>>13^rv>>>22^rv<<30^rv<<19^rv<<10))|0;}eG[0]=eG[0]+Wr|0;eG[1]=eG[1]+rv|0;eG[2]=eG[2]+Kb|0;eG[3]=eG[3]+Ou|0;eG[4]=eG[4]+uY|0;eG[5]=eG[5]+PE|0;eG[6]=eG[6]+KH|0;eG[7]=eG[7]+XQ|0;}};IPCC.Web.zp=function(tY,cs){return IPCC.Web.abj(false,arguments);};IPCC.Web.anx=function(tY,cs){return IPCC.Web.abj(true,arguments);};IPCC.Web.abj=function(useLocale,cs){var aU='';var tY=cs[0];for(var F=0;;){var Mi=tY.indexOf('{',F);var mP=tY.indexOf('}',F);if((Mi<0)&&(mP<0)){aU+=tY.slice(F);break;}if((mP>0)&&((mP<Mi)||(Mi<0))){if(tY.charAt(close+1)!=='}'){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}aU+=tY.slice(F,mP+1);F=mP+2;continue;}aU+=tY.slice(F,Mi);F=Mi+1;if(tY.charAt(F)==='{'){aU+='{';F++;continue;}if(mP<0){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string contains an unmatched opening or closing brace.');}var OM=tY.substring(F,mP);var QL=OM.indexOf(':');var afB=parseInt((QL<0)?OM:OM.substring(0,QL),10)+1;if(isNaN(afB)){throw new IPCC.Web.UI.ImGearArgumentException('format','The format string is invalid.');}var TW=(QL<0)?'':OM.substring(QL+1);var tF=cs[afB];if(typeof(tF)==="undefined"||tF===null){tF='';}if(tF.toFormattedString){aU+=tF.toFormattedString(TW);}else if(useLocale&&tF.anx){aU+=tF.anx(TW);}else if(tF.format){aU+=tF.format(TW);}else{aU+=tF.toString();}F=mP+1;}return aU;};IPCC.Web.UI.ImGearException=function(message,errorInfo){this.message=message;var C=this;if(errorInfo){for(var Wj in errorInfo){if(errorInfo.hasOwnProperty(Wj)){C[Wj]=errorInfo[Wj];}}}};IPCC.Web.UI.ImGearException.prototype=new Error();IPCC.Web.UI.ImGearException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearException.registerClass('IPCC.Web.UI.ImGearException');IPCC.Web.UI.ImGearHttpException=function(statusCode,message,customErrorCode){var hq="IPCC.Web.UI.ImGearHttpException: ";if(message){hq+=message;}this.message=hq;this.statusCode=statusCode;this.customErrorCode=customErrorCode;};IPCC.Web.UI.ImGearHttpException.prototype=new Error();IPCC.Web.UI.ImGearHttpException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearHttpException.registerClass('IPCC.Web.UI.ImGearHttpException');IPCC.Web.UI.ImGearArgumentException=function(paramName,message){var hq="IPCC.Web.UI.ImGearArgumentException: "+(message?message:IPCC.fW.argument);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hq+="\n"+IPCC.Web.zp(IPCC.fW.paramName,paramName);}}this.message=hq;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentException.prototype=new Error();IPCC.Web.UI.ImGearArgumentException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentException.registerClass('IPCC.Web.UI.ImGearArgumentException');IPCC.Web.UI.ImGearArgumentNullException=function(paramName,message){var hq="IPCC.Web.UI.ImGearArgumentNullException: "+(message?message:IPCC.fW.argumentNull);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hq+="\n"+IPCC.Web.zp(IPCC.Res.paramName,paramName);}}this.message=hq;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentNullException.prototype=new Error();IPCC.Web.UI.ImGearArgumentNullException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentNullException.registerClass('IPCC.Web.UI.ImGearArgumentNullException');IPCC.Web.UI.ImGearArgumentOutOfRangeException=function(paramName,actualValue,message){var hq="IPCC.Web.UI.ImGearArgumentOutOfRangeException: "+(message?message:IPCC.fW.argumentOutOfRange);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hq+="\n"+IPCC.Web.zp(IPCC.fW.paramName,paramName);}}if(typeof(actualValue)!=="undefined"&&actualValue!==null){hq+="\n"+IPCC.Web.zp(IPCC.fW.actualValue,actualValue);}this.message=hq;this.paramName=paramName;this.actualValue=actualValue;};IPCC.Web.UI.ImGearArgumentOutOfRangeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentOutOfRangeException.registerClass('IPCC.Web.UI.ImGearArgumentOutOfRangeException');IPCC.Web.UI.ImGearArgumentTypeException=function(paramName,actualType,expectedType,message){var hq="IPCC.Web.UI.ImGearArgumentTypeException ";if(message){hq+=message;}else if(actualType&&expectedType){if(typeof(actualType.getName)==='function'&&typeof(expectedType.getName)==='function'){hq+=IPCC.Web.zp(IPCC.fW.argumentTypeWithTypes,actualType.getName(),expectedType.getName());}else{hq+="actualType = "+actualType+" expectedType =  "+expectedType;}}else{hq+=IPCC.fW.argumentType;}if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hq+="\n"+IPCC.Web.zp(IPCC.fW.paramName,paramName);}}this.message=hq;this.paramName=paramName;this.actualType=actualType;this.expectedType=expectedType;};IPCC.Web.UI.ImGearArgumentTypeException.prototype=new Error();IPCC.Web.UI.ImGearArgumentTypeException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentTypeException.registerClass('IPCC.Web.UI.ImGearArgumentTypeException');IPCC.Web.UI.ImGearArgumentUndefinedException=function(paramName,message){var hq="IPCC.Web.UI.ImGearArgumentUndefinedException: "+(message?message:IPCC.fW.argumentUndefined);if(paramName){if(typeof(paramName)!=="undefined"&&paramName!==null){hq+="\n"+IPCC.Web.zp(IPCC.Res.paramName,paramName);}}this.message=hq;this.paramName=paramName;};IPCC.Web.UI.ImGearArgumentUndefinedException.prototype=new Error();IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearArgumentUndefinedException.registerClass('IPCC.Web.UI.ImGearArgumentUndefinedException');IPCC.Web.UI.ImGearInvalidOperationException=function(message){var hq="IPCC.Web.UI.ImGearInvalidOperationException: "+(message?message:IPCC.fW.invalidOperation);this.message=hq;};IPCC.Web.UI.ImGearInvalidOperationException.protype=new Error();IPCC.Web.UI.ImGearInvalidOperationException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearInvalidOperationException.registerClass('IPCC.Web.UI.ImGearInvalidOperationException');IPCC.Web.UI.ImGearNotImplementedException=function(message){var hq="IPCC.Web.UI.ImGearNotImplementedException: "+(message?message:IPCC.fW.notImplemented);this.message=hq;};IPCC.Web.UI.ImGearNotImplementedException.prototype=new Error();IPCC.Web.UI.ImGearNotImplementedException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearNotImplementedException.registerClass('IPCC.Web.UI.ImGearNotImplementedException');IPCC.Web.UI.ImGearParameterCountException=function(message){var hq="IPCC.Web.UI.ImGearParameterCountException: "+(message?message:IPCC.fW.parameterCount);this.message=hq;};IPCC.Web.UI.ImGearParameterCountException.prootype=new Error();IPCC.Web.UI.ImGearParameterCountException.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearParameterCountException.registerClass('IPCC.Web.UI.ImGearParameterCountException');IPCC.Web.aI=[0x4B1C9AAE,0x25AE1AB6,0x48E3F1C8,0x8D61FC1A];IPCC.Web.gj={UB:function(dg,tU,aeY){dg=IPCC.Web.gj.adX(dg.slice(tU/32),32-(tU&31)).slice(1);return(aeY===undefined)?dg:IPCC.Web.gj.asR(dg,aeY-tU);},Yb:function(dg,tU,Tc){var ae,aaH=Math.floor((-tU-Tc)&31);if((tU+Tc-1^tU)& -32){ae=(dg[tU/32|0]<<(32-aaH))^(dg[tU/32+1|0]>>>aaH);}else{ae=dg[tU/32|0]>>>aaH;}return ae&((1<<Tc)-1);},VF:function(BK,vY){if(BK.length===0||vY.length===0){return BK.concat(vY);}var wK=BK[BK.length-1],uD=IPCC.Web.gj.aaE(wK);if(uD===32){return BK.concat(vY);}else{return IPCC.Web.gj.adX(vY,uD,wK|0,BK.slice(0,BK.length-1));}},wD:function(dg){var rN=dg.length,ae;if(rN===0){return 0;}ae=dg[rN-1];return(rN-1)*32+IPCC.Web.gj.aaE(ae);},asR:function(dg,cT){if(dg.length*32<cT){return dg;}dg=dg.slice(0,Math.ceil(cT/32));var rN=dg.length;cT=cT&31;if(rN>0&&cT){dg[rN-1]=IPCC.Web.gj.Ii(cT,dg[rN-1]&0x80000000>>(cT-1),1);}return dg;},Ii:function(cT,ae,fe){if(cT===32){return ae;}return(fe?ae|0:ae<<(32-cT))+cT*0x10000000000;},aaE:function(ae){return Math.round(ae/0x10000000000)||32;},alR:function(dg,fl){if(IPCC.Web.gj.wD(dg)!==IPCC.Web.gj.wD(fl)){return false;}var ae=0,F;for(F=0;F<dg.length;F++){ae|=dg[F]^fl[F];}return(ae===0);},adX:function(dg,uD,If,dY){var F,aht=0,Zf;if(dY===undefined){dY=[];}for(;uD>=32;uD-=32){dY.push(If);If=0;}if(uD===0){return dY.concat(dg);}for(F=0;F<dg.length;F++){dY.push(If|dg[F]>>>uD);If=dg[F]<<(32-uD);}aht=dg.length?dg[dg.length-1]:0;Zf=IPCC.Web.gj.aaE(aht);dY.push(IPCC.Web.gj.Ii(uD+Zf&31,(uD+Zf>32)?If:dY.pop(),1));return dY;},acZ:function(ae,fv){return[ae[0]^fv[0],ae[1]^fv[1],ae[2]^fv[2],ae[3]^fv[3]];}};IPCC.Web.fR=IPCC.Web.fR||{};IPCC.Web.tI=false;IPCC.Web.SD=[];IPCC.Web.fR.Cn={mW:function(eY){var dY="",qr=IPCC.Web.gj.wD(eY),F,eC;for(F=0;F<qr/8;F++){if((F&3)===0){eC=eY[F/4];}dY+=String.fromCharCode(eC>>>24);eC<<=8;}return decodeURIComponent(escape(dY));},rK:function(cO){cO=unescape(encodeURIComponent(cO));var dY=[],F,eC=0;for(F=0;F<cO.length;F++){eC=eC<<8|cO.charCodeAt(F);if((F&3)===3){dY.push(eC);eC=0;}}if(F&3){dY.push(IPCC.Web.gj.Ii(8*(F&3),eC));}return dY;}};IPCC.Web.tX=false;IPCC.Web.fR.oE={xC:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mW:function(eY,ayP,dc){var dY="",F,dw=0,fI=IPCC.Web.fR.oE.xC,xo=0,qr=IPCC.Web.gj.wD(eY);if(dc){fI=fI.substr(0,62)+'-_';}for(F=0;dY.length*6<qr;){dY+=fI.charAt((xo^eY[F]>>>dw)>>>26);if(dw<6){xo=eY[F]<<(6-dw);dw+=26;F++;}else{xo<<=6;dw-=6;}}while((dY.length&3)&& !ayP){dY+="=";}return dY;},rK:function(cO,dc){cO=cO.replace(/\s|=/g,'');var dY=[],F,dw=0,fI=IPCC.Web.fR.oE.xC,xo=0,ae;if(dc){fI=fI.substr(0,62)+'-_';}for(F=0;F<cO.length;F++){ae=fI.indexOf(cO.charAt(F));if(ae<0){throw new IPCC.Web.UI.ImGearArgumentException('base64','Invalid base64');}if(dw>26){dw-=26;dY.push(xo^ae>>>dw);xo=ae<<(32-dw);}else{dw+=6;xo^=ae<<(32-dw);}}if(dw&56){dY.push(IPCC.Web.gj.Ii(dw&56,xo,1));}return dY;}};IPCC.Web.fR.EH={mW:function(eY){return IPCC.Web.fR.oE.mW(eY,1,1);},rK:function(cO){return IPCC.Web.fR.oE.rK(cO,1);}};IPCC.Web.nq=[];IPCC.Web.QA=IPCC.Web.QA||{};IPCC.Web.QA.ajf={ct:"cbc",aiO:function(PH,UD,gA,xQ){if(xQ&&xQ.length){throw new IPCC.Web.UI.ImGearArgumentException('data','cannot authenticate data');}if(IPCC.Web.gj.wD(gA)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv','invalid data');}var F,kz=IPCC.Web.gj,Oj=kz.acZ,qr=kz.wD(UD),afC=0,pW=[];if(qr&7){throw new IPCC.Web.UI.ImGearInvalidOperationException('padding works only for multiple bytes');}for(F=0;afC+128<=qr;F+=4,afC+=128){gA=PH.aiO(Oj(gA,UD.slice(F,F+4)));pW.splice(F,0,gA[0],gA[1],gA[2],gA[3]);}qr=(16-((qr>>3)&15))*0x1010101;gA=PH.aiO(Oj(gA,kz.VF(UD,[qr,qr,qr,qr]).slice(F,F+4)));pW.splice(F,0,gA[0],gA[1],gA[2],gA[3]);return pW;},MX:function(PH,OY,gA,xQ){if(xQ&&xQ.length){throw new IPCC.Web.UI.ImGearArgumentException(xQ,"cbc can't authenticate data");}if(IPCC.Web.gj.wD(gA)!==128){throw new IPCC.Web.UI.ImGearArgumentException('iv',"cbc iv must be 128 bits");}if((IPCC.Web.gj.wD(OY)&127)|| !OY.length){throw new IPCC.Web.UI.ImGearInvalidOperationException("cbc ciphertext must be a positive multiple of the block size");}var F,kz=IPCC.Web.gj,Oj=kz.acZ,uH,uQ,pW=[];xQ=xQ||[];for(F=0;F<OY.length;F+=4){uH=OY.slice(F,F+4);uQ=Oj(gA,PH.MX(uH));pW.splice(F,0,uQ[0],uQ[1],uQ[2],uQ[3]);gA=uH;}uH=pW[F-1]&255;if(uH===0||uH>16){throw new IPCC.Web.UI.ImGearInvalidOperationException('pkcs#5 padding corrupt');}uQ=uH*0x1010101;if(!kz.alR(kz.UB([uQ,uQ,uQ,uQ],0,uH*8),kz.UB(pW,pW.length*32-uH*8,pW.length*32))){throw new IPCC.Web.UI.ImGearInvalidOperationException('2pkcs#5 padding corrupt');}return kz.UB(pW,0,pW.length*32-uH*8);}};IPCC.Web.auc=0;IPCC.Web.aO=new IPCC.Web.UI.gv();IPCC.Web.aDB=function(G){IPCC.Web.aO.cq(IPCC.fW.prodInfo,G);};IPCC.Web.aDy=function(G){IPCC.Web.aO.bZ(IPCC.fW.prodInfo,G);};IPCC.Web.aDA=function(G){IPCC.Web.aO.cq(IPCC.fW.prodFailInfo,G);};IPCC.Web.aEu=function(G){IPCC.Web.aO.bZ(IPCC.fW.prodFailInfo,G);};IPCC.Web.bo=function(bS,R){var G=IPCC.Web.aO.getHandler(bS);if(G!==null){G(IPCC.Web,R);}};IPCC.Web.afe=function(DJ){var sL=DJ.length;var xT=Math.ceil(sL/4),Pb;var dw=[];dw.length=xT;for(var kI=0,hJ=0;kI<xT;kI++,hJ+=4){dw[kI]=((DJ[hJ]&0xff)<<24)+((DJ[hJ+1]&0xff)<<16)+((DJ[hJ+2]&0xff)<<8)+(DJ[hJ+3]&0xff);}if(hJ<sL){Pb[kI]=0;for(var xL=0;hJ<sL;hJ++,xL++){Pb[kI]+=(DJ[hJ++]&0xff)<<(3-xL);}}return dw;};IPCC.Web.abO=function(al){var sL=al.length;var xT=Math.ceil(sL/4);var dw=[];dw.length=xT;for(var kI=0,hJ=0;kI<xT;kI++,hJ+=4){dw[kI]=((al.charCodeAt(hJ)&0xff)<<24)+((al.charCodeAt(hJ+1)&0xff)<<16)+((al.charCodeAt(hJ+2)&0xff)<<8)+((al.charCodeAt(hJ+3)&0xff));}if(hJ<sL){dw[kI]=0;for(var xL=0;hJ<sL;hJ++,xL++){dw[kI]+=(al.charCodeAt(hJ++)&0xff)<<(3-xL);}}return dw;};IPCC.Web.arT=function(wz){var Gl=new Uint8Array(wz);var sL=Gl.length;var xT=Math.ceil(sL/4),Pb;var dw=[];dw.length=xT;for(var kI=0,hJ=0;kI<xT;kI++,hJ+=4){dw[kI]=(Gl[hJ]<<24)+(Gl[hJ+1]<<16)+(Gl[hJ+2]<<8)+Gl[hJ+3];}if(hJ<sL){dw[kI]=0;for(var xL=0;hJ<sL;hJ++,xL++){Pb[kI]+=Gl[hJ++]<<(3-xL);}}return dw;};IPCC.Web.EY=function(dw,gA){var aI=[0x116D0662,0xA8BB5E38,0x4D7F93C8,0xA61D2F6B,0xADB1384D,0x3D4AC7FB,0x4E6EB64E,0x6F4D7E8F];return IPCC.Web.Ba(dw,aI,gA);};IPCC.Web.Ba=function(dw,aI,gA){try{var PS=new IPCC.Web.Ft.TM(aI);var cj=IPCC.Web.QA.ajf.MX(PS,dw,gA);return cj;}catch(an){return;}};IPCC.Web.Fk=function(aN){var dw;if(typeof(VBArray)!=="undefined"){dw=IPCC.Web.afe(new VBArray(aN.responseBody).toArray());}else{dw=IPCC.Web.abO(aN.responseText);}return dw;};IPCC.Web.aFq=function(wz,aN){var dw;if(typeof(ArrayBuffer)!=="undefined"){dw=IPCC.Web.arT(wz);}else if(typeof(VBArray)!=="undefined"){dw=IPCC.Web.afe(new VBArray(aN.responseBody).toArray());}else{dw=IPCC.Web.abO(aN.responseText);}return dw;};IPCC.Web.avl=function(auj,gA,xu){var Tx;var cj;var PS;var dw;try{PS=new IPCC.Web.Ft.TM(xu.SD);dw=IPCC.Web.fR.oE.rK(auj);Tx=IPCC.Web.QA.ajf.MX(PS,dw,gA);cj=IPCC.Web.fR.Cn.mW(Tx);}catch(an){IPCC.Web.nq[0]=0;IPCC.Web.tI=false;return;}var aU;if(Tx){aU=IPCC.cJ.pu(cj);if(aU){if(aU.v===IPCC.Web.ot.afH()&&aU.p===IPCC.Web.ot.aet()){if(aU.f){var cT=aU.f.length,eY=aU.f;if(aU.f.length>0){IPCC.Web.nq.splice(0);for(var F=0;F<cT;F++){IPCC.Web.nq.push(eY[F]);}IPCC.Web.tI=true;IPCC.Web.tX=false;}}else{IPCC.Web.tI=false;IPCC.Web.tX=false;}}}}};IPCC.Web.MH=function(agP){if(IPCC.Web.tI){return;}if(IPCC.Web.tX){return;}if(!agP){return;}var aN=new XMLHttpRequest();var gA=IPCC.Web.ot.Qo(4);var xu={SD:[]};function arv(){try{if(aN.readyState===4){if(aN.status===200){IPCC.Web.avl(aN.responseText,gA,xu);}else{IPCC.Web.nq[0]=0;IPCC.Web.tI=false;IPCC.Web.tX=false;throw new IPCC.Web.UI.ImGearHttpException(aN.status,'failure to get product info');}}}catch(e){IPCC.Web.tX=false;throw new IPCC.Web.UI.ImGearException('failure to get product info',{name:'Product Infomation'});}finally{if(aN.readyState===4){if(aN.status===200){if(IPCC.Web.tI===true){IPCC.Web.bo(IPCC.fW.prodInfo,null);}else{IPCC.Web.bo(IPCC.fW.prodFailInfo,null);}}else{IPCC.Web.bo(IPCC.fW.prodFailInfo,null);}}}};setTimeout(function(){aN.open('GET',IPCC.Web.ot.aCP(agP,gA,xu),true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=arv;aN.send();},500);IPCC.Web.auc++;IPCC.Web.tX=true;};IPCC.Web.PM=function(){var Fd=new Date();var ayI=new Date(Fd.getYear(),Fd.getMonth(),Fd.getDate(),Fd.getHours(),Fd.getMinutes(),Fd.getSeconds());return(+ayI);};IPCC.Web.ot={Qo:function(dS){var Jb=[];var XA=IPCC.Web.aek().abU;for(var F=0;F<dS;F++){Jb.push(XA());}return Jb;},aat:function(dS,fM){var Jb=[];var XA=IPCC.Web.aek(fM).abU;for(var F=0;F<dS;F++){Jb.push(XA());}return Jb;},aCP:function(cO,gA,xu){return cO+IPCC.fW.fwdslash+IPCC.fW.svctype+IPCC.fW.fwdslash+IPCC.fW.viewer+IPCC.fW.querySymb+IPCC.fW.version+IPCC.Web.ot.afH()+'&'+IPCC.fW.iv+IPCC.Web.ot.avT(gA,xu)+'&'+IPCC.fW.param+IPCC.Web.ot.aet();},afH:function(){return IPCC.Web.anK;},aet:function(){return IPCC.Web.avC;},avT:function(gA,xu){var dS,lU=true,dY="",Kq,YL,WU,QI,Pa,akg;for(dS=0;dS<4;dS++){if(!lU){dY+='-';}else{lU=false;}Pa=0;for(Kq=0;Kq<4;Kq++){QI=dS*32+Kq*8;YL=IPCC.Web.gj.Yb(gA,QI,4);dY+=YL.toString(16).toUpperCase();WU=IPCC.Web.gj.Yb(gA,QI+4,4);dY+=WU.toString(16).toUpperCase();akg=(YL*16+WU+IPCC.Web.gj.Yb(IPCC.Web.aI,QI,8))%256;Pa=Pa|(akg<<(24-(Kq*8)));}xu.SD[dS]=Pa;}return dY;}};IPCC.cJ=IPCC.cJ||{};IPCC.cJ.pu=IPCC.cJ.pu||function(cO,aBe){if(cO===""){cO='""';}try{if(typeof YUI!=='undefined'){var agJ;YUI().use('json-parse',function(Y){agJ=Y.JSON.parse(cO);});return agJ;}else{var ajE=cO.replace(new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g'),"$1new Date($2)");var atu=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');var auF=new RegExp('"(\\\\.|[^"\\\\])*"','g');if(aBe&&atu.test(ajE.replace(auF,''))){throw null;}return eval('('+ajE+')');}}catch(e){throw new IPCC.Web.UI.ImGearArgumentException('str','Cannot deserialize. The data does not correspond to valid JSON.');}};IPCC.gs={};IPCC.gs.InternetExplorer={};IPCC.gs.Firefox={};IPCC.gs.Safari={};IPCC.gs.Opera={};IPCC.gs.agent=null;IPCC.gs.hasDebuggerStatement=false;IPCC.gs.name=navigator.appName;IPCC.gs.version=parseFloat(navigator.appVersion);IPCC.gs.documentMode=0;if(navigator.userAgent.indexOf(' MSIE ')> -1){IPCC.gs.agent=IPCC.gs.InternetExplorer;IPCC.gs.version=parseFloat(navigator.userAgent.match(/MSIE (\d+\.\d+)/)[1]);if(IPCC.gs.version>=8){if(document.documentMode>=7){IPCC.gs.documentMode=document.documentMode;}}IPCC.gs.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' Firefox/')> -1){IPCC.gs.agent=IPCC.gs.Firefox;IPCC.gs.version=parseFloat(navigator.userAgent.match(/ Firefox\/(\d+\.\d+)/)[1]);IPCC.gs.name='Firefox';IPCC.gs.hasDebuggerStatement=true;}else if(navigator.userAgent.indexOf(' AppleWebKit/')> -1){IPCC.gs.agent=IPCC.gs.Safari;IPCC.gs.version=parseFloat(navigator.userAgent.match(/ AppleWebKit\/(\d+(\.\d+)?)/)[1]);IPCC.gs.name='Safari';}else if(navigator.userAgent.indexOf('Opera/')> -1){IPCC.gs.agent=IPCC.gs.Opera;}IPCC.Fr=function(QX){this.ru=(typeof(QX)!=='undefined'&&QX!==null&&QX!=='')?[QX.toString()]:[];this.L={};this.cT=0;};IPCC.Fr.prototype.oO=function(al){this.ru[this.ru.length]=al;};IPCC.Fr.prototype.aDb=function(al){this.ru[this.ru.length]=((typeof(al)==='undefined')||(al===null)||(al===''))?'\r\n':al+'\r\n';};IPCC.Fr.prototype.aDQ=function(){this.ru=[];this.L={};this.cT=0;};IPCC.Fr.prototype.aFa=function(){if(this.ru.length===0){return true;}return this.toString()==='';};IPCC.Fr.prototype.aqv=function(Ax){Ax=Ax||'';var parts=this.ru;if(this.cT!==parts.length){this.L={};this.cT=parts.length;}var val=this.L;if(typeof(val[Ax])==='undefined'){if(Ax!==''){for(var i=0;i<parts.length;){if((typeof(parts[i])==='undefined')||(parts[i]==='')||(parts[i]===null)){parts.splice(i,1);}else{i++;}}}val[Ax]=this.ru.join(Ax);}return val[Ax];};IPCC.Web.hh=function(eY,elt){var len=eY.length>>>0;var from=Number(arguments[2])||0;from=(from<0)?Math.ceil(from):Math.floor(from);if(from<0){from+=len;}for(;from<len;from++){if(from in eY&&eY[from]===elt){return from;}}return-1;};IPCC.cJ.PO=[];IPCC.cJ.HQ=[];IPCC.cJ.aFQ=new RegExp('(^|[^\\\\])\\"\\\\/Date\\((-?[0-9]+)(?:[a-zA-Z]|(?:\\+|-)[0-9]{4})?\\)\\\\/\\"','g');IPCC.cJ.FF={};IPCC.cJ.amg=new RegExp('["\\\\\\x00-\\x1F]','i');IPCC.cJ.aoZ=new RegExp('["\\\\\\x00-\\x1F]','g');IPCC.cJ.aDa=new RegExp('[^,:{}\\[\\]0-9.\\-+Eaeflnr-u \\n\\r\\t]','g');IPCC.cJ.aEj=new RegExp('"(\\\\.|[^"\\\\])*"','g');IPCC.cJ.aBU='__type';IPCC.cJ.RE=function(){var replaceChars=['\\u0000','\\u0001','\\u0002','\\u0003','\\u0004','\\u0005','\\u0006','\\u0007','\\b','\\t','\\n','\\u000b','\\f','\\r','\\u000e','\\u000f','\\u0010','\\u0011','\\u0012','\\u0013','\\u0014','\\u0015','\\u0016','\\u0017','\\u0018','\\u0019','\\u001a','\\u001b','\\u001c','\\u001d','\\u001e','\\u001f'];IPCC.cJ.HQ[0]='\\';IPCC.cJ.PO['\\']=new RegExp('\\\\','g');IPCC.cJ.FF['\\']='\\\\';IPCC.cJ.HQ[1]='"';IPCC.cJ.PO['"']=new RegExp('"','g');IPCC.cJ.FF['"']='\\"';for(var i=0;i<32;i++){var c=String.fromCharCode(i);IPCC.cJ.HQ[i+2]=c;IPCC.cJ.PO[c]=new RegExp(c,'g');IPCC.cJ.FF[c]=replaceChars[i];}};IPCC.cJ.afj=function(object,fZ){fZ.oO(object.toString());};IPCC.cJ.ads=function(object,fZ){if(isFinite(object)){fZ.oO(String(object));}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize non finite numbers.');}};IPCC.cJ.ace=function(string,fZ){fZ.oO('"');if(IPCC.cJ.amg.test(string)){if(IPCC.cJ.HQ.length===0){IPCC.cJ.RE();}if(string.length<128){string=string.replace(IPCC.cJ.aoZ,function(x){return IPCC.cJ.FF[x];});}else{for(var i=0;i<34;i++){var c=IPCC.cJ.HQ[i];if(string.indexOf(c)!== -1){if(IPCC.gs.agent===IPCC.gs.Opera||IPCC.gs.agent===IPCC.gs.FireFox){string=string.split(c).join(IPCC.cJ.FF[c]);}else{string=string.replace(IPCC.cJ.PO[c],IPCC.cJ.FF[c]);}}}}}fZ.oO(string);fZ.oO('"');};IPCC.cJ.RI=function(object,fZ,sort,prevObjects){var i;switch(typeof object){case 'object':if(object){if(prevObjects){for(var j=0;j<prevObjects.length;j++){if(prevObjects[j]===object){throw new IPCC.Web.UI.ImGearInvalidOperationException('Cannot serialize object with cyclic reference within child properties.');}}}else{prevObjects=[];}try{prevObjects[prevObjects.length]=object;if(typeof(object)==="number"){IPCC.cJ.ads(object,fZ);}else if(typeof(object)==="boolean"){IPCC.cJ.afj(object,fZ);}else if(typeof(object)==="string"){IPCC.cJ.ace(object,fZ);}else if(object instanceof Array){fZ.oO('[');for(i=0;i<object.length;++i){if(i>0){fZ.oO(',');}IPCC.cJ.RI(object[i],fZ,false,prevObjects);}fZ.oO(']');}else{var properties=[];var propertyCount=0;for(var name in object){if(object.hasOwnProperty(name)){var eC=""+name;var wy='$';if((eC.substr(0,wy.length)===wy)){continue;}if(name===IPCC.cJ.aBU&&propertyCount!==0){properties[propertyCount++]=properties[0];properties[0]=name;}else{properties[propertyCount++]=name;}}}if(sort){properties.sort();}fZ.oO('{');var needComma=false;for(i=0;i<propertyCount;i++){var value=object[properties[i]];if(typeof value!=='undefined'&&typeof value!=='function'){if(needComma){fZ.oO(',');}else{needComma=true;}IPCC.cJ.RI(properties[i],fZ,sort,prevObjects);fZ.oO(':');IPCC.cJ.RI(value,fZ,sort,prevObjects);}}fZ.oO('}');}}finally{prevObjects.splice(prevObjects.length-1);}}else{fZ.oO('null');}break;case 'number':IPCC.cJ.ads(object,fZ);break;case 'string':IPCC.cJ.ace(object,fZ);break;case 'boolean':IPCC.cJ.afj(object,fZ);break;default:fZ.oO('null');break;}};IPCC.cJ.Yo=IPCC.cJ.Yo||function(object){var fZ=new IPCC.Fr();IPCC.cJ.RI(object,fZ,false);return fZ.aqv();};IPCC.fW={'paramName':'Parameter name: {0}','svctype':'License','argumentNull':'Value cannot be null.','spc':' ','actualValue':'Actual value was {0}.','fwdslash':'/','prodInfo':'prodInfoPass','argumentOutOfRange':'Specified argument was out of the range of valid values.','argumentTypeWithTypes':'Object of type \'{0}\' cannot be converted to type \'{1}\'.','argumentType':'Object cannot be converted to the required type.','invalidOperation':'Operation is not valid due to the current state of the object.','notImplemented':'The method or operation is not implemented.','argument':'Value does not fall within the expected range.','prodFailInfo':'prodInfoFail','svcReqStr':'','viewer':'ClientViewer','querySymb':'?','version':'v=','iv':'iv=','param':'p='};IPCC.Web.atC=function aFp(){var kp=0xefc8249d;var vf=function(cj){cj=cj.toString();for(var F=0;F<cj.length;F++){kp+=cj.charCodeAt(F);var eG=0.02519603282416938*kp;kp=eG>>>0;eG-=kp;eG*=kp;kp=eG>>>0;eG-=kp;kp+=eG*0x100000000;}return(kp>>>0)*2.3283064365386963e-10;};vf.arI='Mash 0.9';return vf;};IPCC.Web.aek=function aCT(){return(function(cs){var Du=0;var Ev=0;var BN=0;var fI=1;if(cs.length===0){cs=[+new Date()];}var vf=IPCC.Web.atC();Du=vf(' ');Ev=vf(' ');BN=vf(' ');for(var F=0;F<cs.length;F++){Du-=vf(cs[F]);if(Du<0){Du+=1;}Ev-=vf(cs[F]);if(Ev<0){Ev+=1;}BN-=vf(cs[F]);if(BN<0){BN+=1;}}vf=null;var yW=function(){var we=2091639*Du+fI*2.3283064365386963e-10;Du=Ev;Ev=BN;BN=we-(fI=we|0);return BN;};yW.abU=function(){return yW()*0x100000000;};yW.aEN=function(){return yW()+(yW()*0x200000|0)*1.1102230246251565e-16;};yW.arI='Alea 0.9';yW.cs=cs;return yW;}(Array.prototype.slice.call(arguments)));};IPCC.bU={aE:function(L,ct,aE){if(typeof(L)!==aE){throw new IPCC.Web.UI.ImGearArgumentTypeException(ct,typeof(L),aE);}},iG:function(L,ct){IPCC.bU.aE(L,ct,'string');},gl:function(L,ct){if(!(L instanceof Date)){throw new IPCC.Web.UI.ImGearArgumentTypeException(ct,typeof(L),"Date");}},iV:function(L,ct){IPCC.bU.aE(L,ct,'number');if(!isFinite(L)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(ct,L,'The value must be a number.');}},jS:function(L,ct,zc,Ab){IPCC.bU.aE(L,ct,'number');if(L<zc||L>Ab|| !isFinite(L)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(ct,L,'The value must be a number between '+zc+' and '+Ab+' inclusive.');}},SB:function(L,ct,JI){IPCC.bU.aE(L,ct,'number');var F;for(F=0;F<JI.length;F++){if(L===JI[F]){return;}}var Ni='';for(F=0;F<JI.length;F++){if(F>0){if(F===JI.length-1){Ni+=' or ';}else{Ni+=', ';}}Ni+=JI[F];}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(ct,L,'The value must be '+Ni+'.');},os:function(L,ct,zc,Ab){IPCC.bU.jS(L,ct,zc,Ab);if(L!==Math.floor(L)){throw new IPCC.Web.UI.ImGearArgumentException(ct,'The value must be an integer.');}},fp:function(L,ct){IPCC.bU.aE(L,ct,'string');if(!L.match(/#[0-9A-Fa-f]{6}/)){throw new IPCC.Web.UI.ImGearArgumentException(ct,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits.');}},UU:function(L,ct){IPCC.bU.aE(L,ct,'string');if(!L.match(/#[0-9A-Fa-f]{6}|transparent/)){throw new IPCC.Web.UI.ImGearArgumentException(ct,'Colors must be strings that begin with a # symbol, followed by 6 hexadecimal digits or comply with other W3C accepted color values like "transparent".');}},ji:function(L,ct,ji,afU){IPCC.bU.aE(L,ct,'number');var dQ;var ZR=0;for(dQ in ji){if(ji.hasOwnProperty(dQ)){if(afU){ZR|=ji[dQ];}else{if(L===ji[dQ]){return;}}}}var cO="";if(afU){if((L|ZR)===ZR){return;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(ct,L,'The value must be zero or more members of the '+cO+' enumeration.');}}throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException(ct,L,'The value must be a member of the '+cO+' enumeration.');},aT:function(L,ct){IPCC.bU.iV(L.x,ct+'.x');IPCC.bU.iV(L.y,ct+'.y');},V:function(L,ct){IPCC.bU.iV(L.x,ct+'.x');IPCC.bU.iV(L.y,ct+'.y');IPCC.bU.iV(L.width,ct+'.width');IPCC.bU.iV(L.height,ct+'.height');}};IPCC.Do=function(){function Dw(){return Math.floor((Math.random()*10)).toString();};var gl=new Date();return Dw()+Dw()+'_'+gl.getTime()+"_"+Dw()+Dw()+Dw()+Dw();};IPCC.fL={io:function(kJ,MT){var aE,cO,hw;if(kJ===null){return 'null';}if(!MT){MT=0;}aE=typeof(kJ);if(aE==='undefined'){return 'undefined';}else if(aE==='number'||aE==='boolean'){return kJ.toString();}else if(aE==='string'){return '\''+kJ+'\'';}else if(aE==='function'){return 'function';}else{if(MT<0){return 'kJ';}cO='{';for(hw in kJ){if(kJ.hasOwnProperty(hw)){if(cO.length>2){cO+=', ';}cO+=hw;cO+=': ';cO+=IPCC.fL.io(kJ[hw],MT-1);}}cO+='}';return cO;}},Pu:function(al){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=al+'\n';}},aDW:function(){var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value='';}},iX:function(fS,Hz,bD,Gf,Cq){var al="PCC Controls - ";al+=(Gf)?Gf:" ";al+=" parent Div id = ";al+=(Cq)?Cq:" ";if(Hz){switch(Hz){case 0:al+=" FunctionCall ";break;case 1:al+=" Exception ";break;case 2:al+=" Custom ";break;case 3:al+=" UserAction ";break;case 4:al+=" Warning ";break;default:al+=" unknown ";}}al+=" - "+fS;if((typeof(Debug)!=='undefined')&&Debug.writeln){Debug.writeln(al);}if(window.console&&window.console.log){window.console.log(al);}if(window.opera){window.opera.postError(al);}if(window.debugService){window.debugService.trace(al);}var traceElement=document.getElementById('TraceConsole');if(traceElement&&(traceElement.tagName.toUpperCase()==='TEXTAREA')){traceElement.value+=al+'\n';}var KJ;try{KJ=onPCCItemLogged;}catch(ex){}if(KJ&&(typeof(KJ)).toLowerCase()==='function'){var cs=new IPCC.Web.UI.LogItemEventArgs();cs.message=fS;cs.cause=Hz;cs.level=bD;cs.id=Cq;KJ(cs);}}};IPCC.vd={zoomInMenuItem:"Zoom In 25%",zoomOutMenuItem:"Zoom Out 25%",fullImageMenuItem:"Full Image",fullWidthMenuItem:"Full Width",fullHeightMenuItem:"Full Height",oneToOneRatioMenuItem:"1 to 1 Ratio",actualSizeMenuItem:"Actual Size",rotateRightMenuItem:"Rotate Clockwise",rotateLeftMenuItem:"Rotate Counter-Clockwise",mirrorHorizontalMenuItem:"Mirror Horizontal",mirrorVerticalMenuItem:"Mirror Vertical",panToolMenuItem:"Pan Tool",areaSelectionToolMenuItem:"Area Selection Tool",zoomRectangleToolMenuItem:"Zoom Rectangle Tool",flyingMagnifierToolMenuItem:"Flying Magnifier Tool",createTextMarkToolMenuItem:"Create Text Mark",createLineMarkToolMenuItem:"Create Line Mark",createPolygonMarkToolMenuItem:"Create Polygon Mark",createPolylineMarkToolMenuItem:"Create Polyline Mark",createRectangleMarkToolMenuItem:"Create Rectangle Mark",createEllipseMarkToolMenuItem:"Create Ellipse Mark",createFreehandMarkToolMenuItem:"Create Freehand Mark",editMarksToolMenuItem:"Edit Marks",runMarksToolMenuItem:"Run Marks",createStampMarkToolMenuItem:"Create Stamp Mark",createHighlightMarkToolMenuItem:"Create Highlight Mark",thicknessMenu:{item1:"1",item2:"2",item3:"3",item4:"4",item5:"5",item6:"6",item7:"7",item8:"8"},opacityMenu:{translucent:"Translucent (127)",opaque:"Opaque (255)"},calloutTypeMenu:{line:"Line",triangle:"Triangle"},borderThicknessMenuItem:"Border Thickness",borderColorMenuItem:"Border Color...",fillColorMenuItem:"Fill Color...",lineThicknessMenuItem:"Thickness",lineColorMenuItem:"Color...",fontMenuItem:"Font...",opacityMenuItem:"Opacity",calloutTypeMenuItem:"Callout Type",calloutVisibleMenuItem:"Callout Visible",moveToBackMenuItem:"Move to Back",moveBackwardMenuItem:"Move Backward",moveForwardMenuItem:"Move Forward",moveToFrontMenuItem:"Move to Front",deleteMarkMenuItem:"Delete Mark",zoomToFitMenuItem:"Zoom to Fit",orientationMenuItem:"Orientation",mouseToolsMenuItem:"Mouse Tools",rectangleMarkPropertiesMenuItem:"Properties",textMarkPropertiesMenuItem:"Properties",polygonMarkPropertiesMenuItem:"Properties",polylineMarkPropertiesMenuItem:"Properties",lineMarkPropertiesMenuItem:"Properties",markOrderingMenuItem:"Ordering",stampMarkPropertiesMenuItem:"Properties",selectColor:"Select Color",selectFont:"Select Font",ok:"OK",cancel:"CANCEL",red:"Red",green:"Green",blue:"Blue",font:"Font",size:"Size",italic:"Italic",bold:"Bold",underline:"Underline",strikeout:"Strikeout"};IPCC.Web.pq=function(){if(this.afx===undefined){var Bb=document.createElement("div");Bb.style.overflow='scroll';Bb.style.position='absolute';Bb.style.top='-9999px';document.body.appendChild(Bb);this.afx=Bb.offsetWidth-Bb.clientWidth;document.body.removeChild(Bb);}return this.afx;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MouseTool=function(){};IPCC.Web.UI.MouseTool.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MouseTool.prototype={None:0,Magnifier:1,RectangleZoom:2,HandPan:3,Select:4,CreateRectangleMark:5,CreateEllipseMark:6,CreateLineMark:7,CreatePolylineMark:8,CreateFreehandMark:9,CreatePolygonMark:10,CreateTextMark:11,EditMarks:12,RunMarks:13,SelectText:14,CreateStampMark:15,CreateHighlightTextMark:16,CreateTextSelectionRedaction:17,CreateRectangleRedactionMark:18,CreateImageStampAnnotationMark:19,CreateImageStampRedactionMark:20,CreateTextHyperlinkMark:21,CreateTextInputSignatureMark:22};IPCC.Web.UI.MouseTool.registerEnum('IPCC.Web.UI.MouseTool',false);IPCC.Web.UI.FitType=function(){};IPCC.Web.UI.FitType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FitType.prototype={FullImage:0,FullWidth:1,FullHeight:2,ActualSize:3,OneToOne:4,Rectangle:5};IPCC.Web.UI.FitType.registerEnum('IPCC.Web.UI.FitType',false);IPCC.Web.UI.ScrollBars=function(){};IPCC.Web.UI.ScrollBars.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ScrollBars.prototype={None:0,Both:3,Auto:4};IPCC.Web.UI.ScrollBars.registerEnum('IPCC.Web.UI.ScrollBars',false);IPCC.Web.UI.MarkHandleMode=function(){};IPCC.Web.UI.MarkHandleMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkHandleMode.prototype={HideSideHandlesWhenClose:0,HideCornerHandlesWhenClose:1};IPCC.Web.UI.MarkHandleMode.registerEnum('IPCC.Web.UI.MarkHandleMode',false);IPCC.Web.UI.ImGearArtDataServices=function(){};IPCC.Web.UI.ImGearArtDataServices.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearArtDataServices.prototype={None:0,ArtDataService:1};IPCC.Web.UI.ImGearArtDataServices.registerEnum('IPCC.Web.UI.ImGearArtDataServices',false);IPCC.Web.UI.Rectangle=function(x,y,width,height){if(width<0){x+=width;width= -width;}if(height<0){y+=height;height= -height;}this.x=x;this.y=y;this.width=width;this.height=height;return this;};IPCC.Web.UI.Rectangle.prototype={intersect:function(rectangle){var ae=Math.max(this.x,rectangle.x);var aa=Math.min(this.x+this.width,rectangle.x+rectangle.width)-ae;var fv=Math.max(this.y,rectangle.y);var dj=Math.min(this.y+this.height,rectangle.y+rectangle.height)-fv;if(aa<=0||dj<=0){ae=fv=aa=dj=0;}this.x=ae;this.y=fv;this.width=aa;this.height=dj;},union:function(rectangle){var hd=Math.min(this.x,rectangle.x);var _top=Math.min(this.y,rectangle.y);var gO=Math.max(this.x+this.width,rectangle.x+rectangle.width);var iT=Math.max(this.y+this.height,rectangle.y+rectangle.height);this.x=hd;this.y=_top;this.width=gO-hd;this.height=iT-_top;return this;},scale:function(VP,Mb){Mb=Mb||VP;var hd=this.x*VP;var _top=this.y*Mb;var aa=this.width*VP;var dj=this.height*Mb;this.x=hd;this.y=_top;this.width=aa;this.height=dj;return this;},toString:function(){return 'Rectangle('+this.x+', '+this.y+', '+this.width+', '+this.height+')';},contains:function(point){return point.x>=this.x&&point.y>=this.y&&point.x<this.x+this.width&&point.y<this.y+this.height;},clone:function(){return new IPCC.Web.UI.Rectangle(this.x,this.y,this.width,this.height);},equals:function(other){return this.x===other.x&&this.y===other.y&&this.width===other.width&&this.height===other.height;}};IPCC.Web.UI.Rectangle.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Rectangle.registerClass('IPCC.Web.UI.Rectangle');IPCC.Web.UI.Point=function(x,y){this.x=x;this.y=y;return this;};IPCC.Web.UI.Point.prototype={toString:function(){return 'Point('+this.x+', '+this.y+')';},constrain:function(rectangle){this.x=Math.min(Math.max(this.x,rectangle.x),rectangle.x+rectangle.width);this.y=Math.min(Math.max(this.y,rectangle.y),rectangle.y+rectangle.height);}};IPCC.Web.UI.Point.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Point.registerClass('IPCC.Web.UI.Point');IPCC.Web.UI.PointCollection=function(){var bv=[];var aO=new IPCC.Web.UI.gv();this.apZ=function(aT){var R=new IPCC.Web.UI.PointEventArgs();R.point=aT;R.length=1;bv.push(new IPCC.Web.UI.Point(aT.x,aT.y));R.index=bv.length-1;this.bo('pointAdded',R);};this.aqU=function(abC){var R=new IPCC.Web.UI.PointEventArgs();R.index=bv.length;R.length=abC.get_length();function np(aT){bv.push(aT);};abC.forEach(np,{});if(R.length>0){this.bo('pointAdded',R);}};this.nl=function(od,cC){var VU=[].concat(bv);var F;for(F=0;F<VU.length;F++){od.call(cC,new IPCC.Web.UI.Point(VU[F].x,VU[F].y),F,this);}};this.zH=function(bh){ma(bh);var hw=bv[bh];return new IPCC.Web.UI.Point(hw.x,hw.y);};this.aAb=function(bh,aT){ma(bh);IPCC.bU.aT(aT,'point');var OW=bv[bh];if(OW.x===aT.x&&OW.y===aT.y){return;}OW.x=aT.x;OW.y=aT.y;var R=new IPCC.Web.UI.PointEventArgs();R.point=aT;R.index=bh;R.length=1;this.bo('pointChanged',R);};this.fb=function(){return bv.length;};this.auh=function(bh){ma(bh);var R=new IPCC.Web.UI.PointEventArgs();R.point=bv[bh];R.index=bh;R.length=1;bv.splice(bh,1);this.bo('pointRemoved',R);};this.auU=function(){if(bv.length<1){return;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=bv.length;bv=[];this.bo('pointRemoved',R);};this.akZ=function(ek,eZ){if(ek===0&&eZ===0){return;}IPCC.bU.iV(ek,'deltaX');IPCC.bU.iV(eZ,'deltaY');var F;for(F=0;F<bv.length;F++){bv[F].x+=ek;bv[F].y+=eZ;}var R=new IPCC.Web.UI.PointEventArgs();R.index=0;R.length=bv.length;this.bo('pointChanged',R);};this.wd=function(){if(bv.length<1){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var F,hd=bv[0].x,gO=bv[0].x,_top=bv[0].y,iT=bv[0].y;for(F=1;F<bv.length;F++){var aT=bv[F];hd=Math.min(hd,aT.x);gO=Math.max(gO,aT.x);_top=Math.min(_top,aT.y);iT=Math.max(iT,aT.y);}return new IPCC.Web.UI.Rectangle(hd,_top,gO-hd,iT-_top);};function ma(bh){if(bh>bv.length-1||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh);}};this.aqC=function(G){aO.addHandler('pointAdded',G);};this.auT=function(G){aO.removeHandler('pointAdded',G);};this.aqe=function(G){aO.addHandler('pointChanged',G);};this.auH=function(G){aO.removeHandler('pointChanged',G);};this.arl=function(G){aO.addHandler('pointRemoved',G);};this.atw=function(G){aO.removeHandler('pointRemoved',G);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};return this;};IPCC.Web.UI.PointCollection.prototype={toString:function(){return 'PointCollection with '+this.get_length()+' points';},addPoint:function(point){this.apZ(point);},addPoints:function(pointCollection){this.aqU(pointCollection);},forEach:function(method,context){this.nl(method,context);},getPoint:function(index){return this.zH(index);},setPoint:function(index,point){this.aAb(index,point);},get_length:function(){return this.fb();},removePoint:function(index){this.auh(index);},removeAllPoints:function(){this.auU();},moveAllPoints:function(deltaX,deltaY){this.akZ(deltaX,deltaY);},add_pointAdded:function(handler){this.aqC(handler);},remove_pointAdded:function(handler){this.auT(handler);},add_pointChanged:function(handler){this.aqe(handler);},remove_pointChanged:function(handler){this.auH(handler);},add_pointRemoved:function(handler){this.arl(handler);},remove_pointRemoved:function(handler){this.atw(handler);}};IPCC.Web.UI.PointCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointCollection.registerClass('IPCC.Web.UI.PointCollection');IPCC.Web.UI.PageViewState=function(){return this;};IPCC.Web.UI.PageViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,viewFitType:IPCC.Web.UI.FitType.FullImage,viewRectangle:new IPCC.Web.UI.Rectangle(0,0,0,0),viewRotationDegreesClockwise:0,viewMirror:false,viewZoomFactor:undefined,encryption:false};IPCC.Web.UI.PageViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageViewState.registerClass('IPCC.Web.UI.PageViewState');IPCC.Web.UI.ThumbnailViewState=function(){return this;};IPCC.Web.UI.ThumbnailViewState.prototype={documentIdentifier:'',encodedDocumentIdentifier:'',pageNumber:0,selected:false};IPCC.Web.UI.ThumbnailViewState.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailViewState.registerClass('IPCC.Web.UI.ThumbnailViewState');IPCC.Web.UI.LogItemEventArgs=function(){return this;};IPCC.Web.UI.LogItemEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.LogItemEventArgs.prototype={};IPCC.Web.UI.LogItemEventArgs.registerClass('IPCC.Web.UI.LogItemEventArgs');IPCC.Web.UI.LogItem=IPCC.Web.UI.LogItemEventArgs;IPCC.Web.UI.MouseEventArgs=function(){var aea=false;this.axh=function(){aea=true;};this.aeQ=function(){return aea;};return this;};IPCC.Web.UI.MouseEventArgs.prototype={preventDefault:function(){this.axh();}};IPCC.Web.UI.MouseEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MouseEventArgs.registerClass('IPCC.Web.UI.MouseEventArgs');IPCC.Web.UI.MouseEvent=IPCC.Web.UI.MouseEventArgs;IPCC.Web.UI.PointEventArgs=function(){return this;};IPCC.Web.UI.PointEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PointEventArgs.prototype={};IPCC.Web.UI.PointEventArgs.registerClass('IPCC.Web.UI.PointEventArgs');IPCC.Web.UI.CommentEventArgs=function(){return this;};IPCC.Web.UI.CommentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.CommentEventArgs.prototype={};IPCC.Web.UI.CommentEventArgs.registerClass('IPCC.Web.UI.CommentEventArgs');IPCC.Web.UI.ImGearPageOpenFailedEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageOpenFailedEventArgs.prototype={};IPCC.Web.UI.ImGearPageOpenFailedEventArgs.registerClass('IPCC.Web.UI.ImGearPageOpenFailedEventArgs');IPCC.Web.UI.TextSelectedEventArgs=function(){return this;};IPCC.Web.UI.TextSelectedEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.TextSelectedEventArgs.prototype={};IPCC.Web.UI.TextSelectedEventArgs.registerClass('IPCC.Web.UI.TextSelectedEventArgs');IPCC.Web.UI.PageView=function(element,qa){var dG=this;var bH;var T;var pU=0;var oa='';var xW=false;var aO=new IPCC.Web.UI.gv();var eu=null;var vd=IPCC.vd;var akF=IPCC.vd;var Ki=0.0;var Ih=false;var MQ=0;var acp= -1;var acm= -1;var adK= -1;function gr(wG){if(!T){return false;}return T.gr(wG);};this.O=function(ei,gG){if(gr(IPCC.Web.UI.DebugErrorLevel.Production)){T.O(ei,gG);}};this.bB=function(ei,eg,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=')';this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.wo=function(ei,eg,jp,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.aR=function(ei,eg,jp){if(!gr(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],0);}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kb=function(fS,bD){if(T){T.iX(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bD);}};this.iX=function(fS){if(T){T.iX(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sc=function(){return T.get_debug();};this.zK=function(L){T.set_debug(L);};this.nX=function(){return T.nX();};this.tu=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.DebugErrorLevel);T.tu(L);};this.aCU=function(L){Ih=L;};this.aFL=function(){return Ih;};var nG=function(){if(T.du()===undefined){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot perform this operation unless an image is open (and it has completed the opening process).');}};function cq(bS,G){aO.addHandler(bS,G);};function bZ(bS,G){aO.removeHandler(bS,G);};this.Hh=function(jB,cs){T.ayf(jB,cs);};this.aye=function(cs,J){T.xM(J);T.dF();};this.HG=function(G){cq('pageOpening',G);};this.Lq=function(G){bZ('pageOpening',G);};this.HW=function(G){cq('pageOpened',G);};this.IM=function(G){bZ('pageOpened',G);};this.XW=function(G){cq('pageClosed',G);};this.Zx=function(G){bZ('pageClosed',G);};this.Bc=function(G){cq('pageOpenFailed',G);};this.CB=function(G){bZ('pageOpenFailed',G);};this.HL=function(G){cq('pageDisplayed',G);};this.Ju=function(G){bZ('pageDisplayed',G);};this.BM=function(G){cq('mouseDown',G);};this.CK=function(G){bZ('mouseDown',G);};this.Cx=function(G){cq('mouseMove',G);};this.DP=function(G){bZ('mouseMove',G);};this.By=function(G){cq('mouseUp',G);};this.Db=function(G){bZ('mouseUp',G);};this.Wv=function(G){cq('contextMenu',G);};this.RY=function(G){bZ('contextMenu',G);};this.yD=function(G){cq('markAdded',G);};this.yp=function(G){bZ('markAdded',G);};this.Wu=function(G){cq('markCreating',G);};this.Rh=function(G){bZ('markCreating',G);};this.DQ=function(G){cq('markChanged',G);};this.Eh=function(G){bZ('markChanged',G);};this.ye=function(G){cq('markRemoved',G);};this.yn=function(G){bZ('markRemoved',G);};this.Dc=function(G){cq('markReordered',G);};this.Dk=function(G){bZ('markReordered',G);};this.Sj=function(G){cq('marksLoaded',G);};this.Na=function(G){bZ('marksLoaded',G);};this.DV=function(G){cq('markSelectionChanged',G);};this.CW=function(G){bZ('markSelectionChanged',G);};this.tL=function(G){cq('textPageReady',G);};this.xD=function(G){bZ('textPageReady',G);};this.XK=function(G){cq('selectTextMouseToolCompleted',G);};this.YO=function(G){bZ('selectTextMouseToolCompleted',G);};this.WZ=function(G){cq('exceptionThrown',G);};this.Wp=function(G){cq('scaleChanged',G);};this.Ye=function(G){bZ('scaleChanged',G);};this.SK=function(G){bZ('exceptionThrown',G);};this.Cu=function(G){cq('textExtractionFailed',G);};this.AX=function(G){bZ('textExtractionFailed',G);};this.iz=function(G){cq('propertyChanged',G);};this.lA=function(G){bZ('propertyChanged',G);};var bo=function(bS,R){try{var G;G=aO.getHandler(bS);if(G){G(dG,R);}}catch(e){dG.O(bS+'Event',e);}};var jP=function(bS){function oz(bz,R){bo(bS,R);};T['add_'+bS](oz);};var KL=function(bS){function oz(bz,R){if(xW&&T.EZ()){CZ();}bo(bS,R);};T['add_'+bS](oz);};function CZ(){var fj,hv,rM;if(oa!==''){rM=document.getElementById(oa);if(rM){fj=dG.vP();hv='{encodedDocumentIdentifier:"'+fj.encodedDocumentIdentifier;hv+='",pageNumber:'+fj.pageNumber.toString();hv+=',viewFitType:'+fj.viewFitType.toString();if(fj.viewRectangle&&fj.viewFitType===IPCC.Web.UI.FitType.Rectangle){hv+=',viewRectangle:{x:'+fj.viewRectangle.x.toFixed(5);hv+=',y:'+fj.viewRectangle.y.toFixed(5);hv+=',width:'+fj.viewRectangle.width.toFixed(5);hv+=',height:'+fj.viewRectangle.height.toFixed(5);hv+='}';}if(fj.viewRotationDegreesClockwise){hv+=',viewRotationDegreesClockwise:'+fj.viewRotationDegreesClockwise.toString();}if(fj.viewMirror){hv+=',viewMirror:'+fj.viewMirror.toString();}if(fj.viewZoomFactor){hv+=',viewZoomFactor:'+fj.viewZoomFactor.toString();}if(xW){var bM=T.ft();if(bM){hv+=',artPageJson:"'+IPCC.ht.so(bM.saveToJson())+'"';}}hv+='}';rM.value=hv;}}};var Yg=function(){function oz(bz,R){var At=true;switch(R.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':case 'displayedPageRectangle':CZ();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'FB':case 'vD':At=false;break;case 'Gu':if(T.EZ()){CZ();}At=false;break;}if(At){bo('propertyChanged',R);}};T.iz(oz);};this.YN=function(aE){IPCC.bU.ji(aE,'type',IPCC.Web.UI.FitType);if(aE===IPCC.Web.UI.FitType.Rectangle){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.FitType enumeration (other than Rectangle).');}nG();eu={awR:true,viewFitType:aE};SX();};this.hD=function(){return T.du()!==undefined;};this.lG=function(){nG();return T.du().width;};this.nh=function(){nG();return T.du().height;};this.aBr=function(){nG();return T.du().fQ;};this.aBv=function(){return T.bV().gI().CU();};this.aCM=function(){nG();return T.du().hE;};this.uN=function(){if(!T|| !(T.du())){return '';}return T.du().get_identifier();};this.zs=function(){if(!T|| !(T.du())){return '';}return T.du().get_encodedIdentifier();};this.lW=function(){if(!T|| !(T.du())){return-1;}return T.du().aH;};this.abo=function(){if(!T|| !(T.du())){return 0;}return T.du().eB;};this.ahw=function(){var aQ=T.du();if(!aQ){return new IPCC.Web.UI.Rectangle(0,0,0,0);}var bJ=T.fq();bJ.x=bJ.y=0;var sH=T.bV().gI();sH.yj();var ef=sH.uK(bJ);if(ef.x<0){ef.width+=ef.x;ef.x=0;}if(ef.y<0){ef.height+=ef.y;ef.y=0;}if(ef.x+ef.width>aQ.width){ef.width=aQ.width-ef.x;}if(ef.y+ef.height>aQ.height){ef.height=aQ.height-ef.y;}return ef;};function Cr(){var dp={},cV=T.bV().gI();dp.documentIdentifier=dG.uN();dp.encodedDocumentIdentifier=dG.zs();dp.pageNumber=dG.lW();dp.artPage=dG.ft();dp.referenceDocumentIdentifier=dG.uN();dp.referencePageNumber=dG.lW();dp.viewFitType=IPCC.Web.UI.FitType.Rectangle;dp.viewRectangle=dG.ahw();dp.imGearPage=dG.mo();dp.transientArtPage=dG.kO();var ci=cV.CU();if(ci!==0){dp.viewRotationDegreesClockwise=ci;}if(cV.IV()){dp.viewMirror=true;}return dp;};this.MP=function(ao,dm){T.MP(ao,dm);};this.vP=function(){var dp;if(bH){dp=new IPCC.Web.UI.PageViewState();dp.documentIdentifier=bH.documentIdentifier;dp.encodedDocumentIdentifier=bH.encodedDocumentIdentifier;dp.pageNumber=bH.pageNumber;dp.artPage=bH.artPage;dp.artPageJson=bH.artPageJson;dp.referenceDocumentIdentifier=bH.documentIdentifier;dp.referencePageNumber=bH.pageNumber;dp.viewFitType=bH.viewFitType;dp.viewRectangle=bH.viewRectangle;dp.viewRotationDegreesClockwise=bH.viewRotationDegreesClockwise;dp.viewMirror=bH.viewMirror;dp.viewZoomFactor=bH.viewZoomFactor;dp.transientArtPage=bH.transientArtPage;}else{dp=Cr();}return dp;};this.Pz=function(bP){var bJ=T.fq();this.adI(bP,{x:bJ.width/2,y:bJ.height/2});};this.adI=function(bP,dH){IPCC.bU.jS(bP,'factor',1.01,20);IPCC.bU.aT(dH,'point');nG();var aB=T.bV();var bx=aB.gI();var bu=T.du();var jU=bx.uy();if(jU*bP>bu.rq){bP=bu.rq/jU;}bx.yC(bP,bP,dH.x,dH.y);bx.kk(bu,T.fq());eu=null;aB.hW(bx);};this.UY=function(bP){var bJ=T.fq();this.adh(bP,{x:bJ.width/2,y:bJ.height/2});};this.adh=function(bP,dH){IPCC.bU.jS(bP,'factor',1.01,20);IPCC.bU.aT(dH,'point');nG();var aB=T.bV();var bx=aB.gI();var bu=T.du();var jU=bx.uy();if(jU/bP<bu.ss){bP=jU/bu.ss;}bx.yC(1/bP,1/bP,dH.x,dH.y);bx.kk(bu,T.fq());eu=null;aB.hW(bx);};this.jK=function(bP){var bJ=T.fq();this.apd(bP,{x:bJ.width/2,y:bJ.height/2});};this.apd=function(bP,dH){IPCC.bU.aT(dH,'point');nG();var aB=T.bV();var bx=aB.gI();var bu=T.du();var jU=bx.uy();if(bP>bu.rq){bP=bu.rq;}else if(bP<bu.ss){bP=bu.ss;}bx.yC(bP/jU,bP/jU,dH.x,dH.y);bx.kk(bu,T.fq());eu=null;aB.hW(bx);};this.zZ=function(sY){IPCC.bU.SB(sY,'degreesClockwise',[90,180,270,-90,-180,-270]);nG();var aB=T.bV();var bx=aB.gI();var bJ=T.fq();bx.adD(sY,bJ.width/2,bJ.height/2);bx.kk(T.du(),T.fq());eu=null;aB.hW(bx);};this.akr=function(){nG();var aB=T.bV();var bx=aB.gI();var bJ=T.fq();bx.yC(-1,1,bJ.width/2,bJ.height/2);bx.kk(T.du(),T.fq());eu=null;aB.hW(bx);};this.aCR=function(ef){IPCC.bU.V(ef,'pageRectangle');nG();var aB=T.bV();var bx=aB.gI();var bJ=T.fq();var bu=T.du();bx.Nc(bu,bJ,ef);bx.kk(bu,T.fq());eu=null;aB.hW(bx);};this.aBo=function(cb){IPCC.bU.aT(cb,'imagePoint');nG();var aB=T.bV();var bx=aB.gI();var bJ=T.fq();bx.acz(bJ,cb);bx.kk(T.du(),T.fq());eu=null;aB.hW(bx);};this.aij=function(){nG();eu=null;var aB=T.bV();var bx=aB.gI();var bJ=T.fq();bx.yC(1,-1,bJ.width/2,bJ.height/2);bx.kk(T.du(),T.fq());eu=null;aB.hW(bx);};this.dF=function(){T.dF();};var SX=function(){var bu=T.du();var bJ=T.fq();var bx;if(!eu){bx=T.bV().gI();bx.kk(bu,bJ);T.bV().hW(bx);return;}if(eu.awR){bx=T.bV().gI();}else{bx=new IPCC.fK();bx.afd(bu,bJ);if(eu.viewRotationDegreesClockwise){bx.rotate(eu.viewRotationDegreesClockwise);}if(eu.viewMirror){bx.aqa(bJ);}}if(eu.viewZoomFactor){if(eu.viewZoomFactor>bu.rq){eu.viewZoomFactor=bu.rq;}else if(eu.viewZoomFactor<bu.ss){eu.viewZoomFactor=bu.ss;}eu.viewFitType=IPCC.Web.UI.FitType.ActualSize;bx.WS(eu.viewFitType,bu,bJ);bx.scale(eu.viewZoomFactor,eu.viewZoomFactor);}else{if(!eu.viewFitType&&eu.viewFitType!==0){eu.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eu.viewFitType===IPCC.Web.UI.FitType.Rectangle&& !eu.viewRectangle){eu.viewFitType=IPCC.Web.UI.FitType.FullImage;}if(eu.viewFitType!==IPCC.Web.UI.FitType.Rectangle){bx.WS(eu.viewFitType,bu,bJ);}else{bx.Nc(bu,bJ,eu.viewRectangle);}}bx.kk(bu,bJ);T.bV().hW(bx);};var adW=function(ayV){eu=ayV;MQ=0;SX();};this.abP=function(dS){var oc=false;if(IPCC.Web.nq.length>0){if(Array.prototype.indexOf){if(IPCC.Web.nq.indexOf(dS)>=0){return true;}}else{if(IPCC.Web.hh(IPCC.Web.nq,dS)>=0){return true;}}}return oc;};this.CI=function(bL){pU++;var KM=pU;var Wa={};Ki=0.0;T.Ot=0.0;IPCC.ht.TF(bL);if(gr(IPCC.Web.UI.DebugErrorLevel.Development)){var bq='opening documentIdentifier "'+bL.documentIdentifier+'", pageNumber '+bL.pageNumber;this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);}bH=new IPCC.Web.UI.PageViewState();var F;for(F in bL){if(bL.hasOwnProperty(F)){bH[F]=bL[F];}}if(bL.documentIdentifier===''){this.xU();return;}if(IPCC.Web.UI.ArtPage){if(bH){if(!bH.artPage){var bM=new IPCC.Web.UI.ArtPage();if(bH.artPageJson){bM.loadFromJson(bH.artPageJson);}bH.artPage=bM;}if(!bH.documentArtPage){var ez=new IPCC.Web.UI.ArtPage();bH.documentArtPage=ez;}if(this.ii()===true){if(!bH.imGearPage){var dv=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bL.documentIdentifier,imageServicePath:this.ml()});bH.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bL.pageNumber,aG:dv});dv.get_pages().addPage(bH.imGearPage);}if(!bH.transientArtPage){bH.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bH.viewRotationDegreesClockwise){IPCC.bU.SB(bH.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bH.viewFitType){IPCC.bU.ji(bH.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bH.viewZoomFactor){IPCC.bU.jS(bH.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bo('pageOpening',bL);var aQ=new IPCC.ht(bL.encodedDocumentIdentifier,bL.pageNumber,0,0,0,0);var nx=function(){if(KM!==pU){return;}var po=null;if(T.du()){po=Cr();}T.bV().og();T.vx(aQ);adW(bH);if(bL.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(bH.artPage){T.kZ(bH.artPage);T.ft().loadFromJson(aQ.aef);}}}else{if(bH){if(bH.artPage){T.kZ(bH.artPage);}if(bH.documentArtPage){T.IL(bH.documentArtPage);}if(T.ii()===true){if(bH.imGearPage){var Vy=bH.imGearPage.get_pageWidth();var SV=bH.imGearPage.get_pageHeight();bH.imGearPage.im(dG.eD());if(!Vy){bH.imGearPage.Jw(dG.get_pageWidth());}if(!SV){bH.imGearPage.IK(dG.get_pageHeight());}T.uF(bH.imGearPage);if(typeof(T.mo().Aq==='function')){if(!T.mo().dJ().Ai()){bH.imGearPage.sl(dG.hL());setTimeout(T.mo().Aq,1000);}}}if(bH.transientArtPage){T.ty(bH.transientArtPage);}}}}bH=null;if(po){bo('pageClosed',po);}CZ();bo('pageOpened',bL);};if(bL.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(!bH.artPageJson){aQ.ayT(T.ml(),T,nx,Wa);}else{aQ.GQ(T.ml(),T,nx);}}}else{aQ.GQ(T.ml(),T,nx);}};this.xU=function(){pU++;if(!(T.du())){return;}var po=Cr();T.vx(undefined);T.kZ(undefined);T.uF(undefined);T.ty(undefined);this.dF();CZ();var bk;bk=dG.gy();if(bk.igElements){if(bk.igElements.uR){bk.igElements.uR.Kc=null;bk.igElements.uR.Ji=null;bk.igElements.uR.Lv=null;bk.igElements.uR=null;}bk.igElements.DW=null;bk.igElements.ju=null;bk.igElements.gY=null;bk.igElements.nZ=null;bk.igElements.lK=null;bk.igElements.mJ=null;bk.igElements.sp=null;bk.igElements.QP=null;bk.igElements.SA=null;}dG=null;bk.aY=null;bo('pageClosed',po);};this.axj=function(bL){pU++;var KM=pU;Ki=0.0;T.Ot=0.0;IPCC.ht.TF(bL);if(gr(IPCC.Web.UI.DebugErrorLevel.Development)){var bq='opening documentIdentifier "'+bL.documentIdentifier+'", pageNumber '+bL.pageNumber;this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);}bH=new IPCC.Web.UI.PageViewState();var F;for(F in bL){if(bL.hasOwnProperty(F)){bH[F]=bL[F];}}if(bL.documentIdentifier===''){this.xU();return;}if(IPCC.Web.UI.ArtPage){if(bH){if(!bH.artPage){var bM=new IPCC.Web.UI.ArtPage();bH.artPage=bM;}if(!bH.documentArtPage){var ez=new IPCC.Web.UI.ArtPage();bH.documentArtPage=ez;}if(this.ii()===true){if(!bH.imGearPage){var dv=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bL.documentIdentifier,imageServicePath:this.ml()});bH.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bL.pageNumber,aG:dv});dv.get_pages().addPage(bH.imGearPage);}if(!bH.transientArtPage){bH.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}if(bH.viewRotationDegreesClockwise){IPCC.bU.SB(bH.viewRotationDegreesClockwise,'parameters.viewRotationDegreesClockwise',[0,90,180,270,-90,-180,-270]);}if(bH.viewFitType){IPCC.bU.ji(bH.viewFitType,'parameters.viewFitType',IPCC.Web.UI.FitType);}if(bH.viewZoomFactor){IPCC.bU.jS(bH.viewZoomFactor,'parameters.viewZoomFactor',0,20);}bo('pageOpening',bL);var aQ=new IPCC.ht(bL.encodedDocumentIdentifier,bL.pageNumber,0,0,0,0);var nx=function(){if(KM!==pU){return;}var po=null;if(T.du()){po=Cr();}T.bV().og();T.vx(aQ);adW(bH);if(bH){if(bH.artPage){T.kZ(bH.artPage);}if(bH.documentArtPage){T.IL(bH.documentArtPage);}if(T.ii()===true){if(bH.imGearPage){var Vy=bH.imGearPage.get_pageWidth();var SV=bH.imGearPage.get_pageHeight();bH.imGearPage.im(dG.eD());if(!Vy){bH.imGearPage.Jw(dG.get_pageWidth());}if(!SV){bH.imGearPage.IK(dG.get_pageHeight());}T.uF(bH.imGearPage);if(typeof(T.mo().Aq==='function')){if(!T.mo().dJ().Ai()){bH.imGearPage.sl(dG.hL());setTimeout(T.mo().Aq,1000);}}}if(bH.transientArtPage){T.ty(bH.transientArtPage);}}}bH=null;if(po){bo('pageClosed',po);}CZ();bo('pageOpened',bL);};aQ.ayq(T.ml(),T,nx);};this.arB=function(){pU++;if(!(T.du())){return;}var aQ=T.du();T.vx(undefined);this.dF();T.vx(aQ);};this.Ew=function(yz){T.Ew(yz);};this.kZ=function(L){T.kZ(L);};this.ft=function(){return T.ft();};this.IL=function(L){T.IL(L);};this.Po=function(){return T.Po();};this.kO=function(){return T.kO();};this.ty=function(L){T.ty(L);};this.xA=function(){return T.xA();};this.abR=function(L){T.abR(L);};this.uT=function(L){T.uT(L);};this.lO=function(){return T.lO();};this.aBk=function(L){akF=this.aqm(L);};this.iI=function(){return akF;};this.PL=function(L){T.PL(L);};this.Jy=function(){return T.Jy();};this.kE=function(){return T.kE();};this.rg=function(L){T.rg(L);};this.zW=function(L){T.zW(L);};this.Jh=function(){return T.Jh();};this.yo=function(BI){T.yo(BI);};this.yP=function(){return T.yP();};this.aqm=function(af){var aI='',MN='',TL=function(bg){var uq=0,aI;for(aI in bg){if(bg.hasOwnProperty(aI)){uq+=1;}}return uq;};for(aI in vd){if(vd.hasOwnProperty(aI)){if(typeof af[aI]==='undefined'){af[aI]=vd[aI];}if(typeof af[aI]==='object'){if(!TL(af[aI])){af[aI]=vd[aI];}else if(TL(af[aI])!==TL(vd[aI])){for(MN in vd[aI]){if(typeof af[aI][MN]==='undefined'){af[aI][MN]=vd[aI][MN];}}}}}}return af;};this.aza=function(azP){if(azP===false){IPCC.iE=false;T.fz([new IPCC.ou(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}else{IPCC.iE=true;IPCC.acs=this.iI();T.fz([new IPCC.ou(),new IPCC.er(),new IPCC.gW(),new IPCC.dn(),new IPCC.dO(false)]);}};this.og=function(){var aB=T.bV();if(!aB.AL()){return;}T.bV().og();};this.aCa=function(ef){IPCC.bU.V(ef,'pageRectangle');var aQ=T.du();if(aQ){T.bV().showSelection(ef);}};this.FK=function(cb){IPCC.bU.aT(cb,'imagePoint');if(T.du()){T.bV().FK(new IPCC.Web.UI.Point(cb.x,cb.y));}};this.Bg=function(cb){IPCC.bU.aT(cb,'imagePoint');if(T.du()){T.bV().Bg(new IPCC.Web.UI.Point(cb.x,cb.y));}};this.xv=function(){if(T.du()&&T.bV().AL()){return T.bV().xv();}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.aEb=function(){if(T.du()&&T.bV().AL()){var ef=T.bV().xv();return T.bV().gI().uK(ef);}return new IPCC.Web.UI.Rectangle(0,0,0,0);};this.AL=function(){return! !(T.du()&&T.bV().AL());};this.ml=function(){return T.ml();};this.Fi=function(L){IPCC.bU.iG(L,'value');T.Fi(L);if(!IPCC.Web.tI){if(IPCC.Web.tX===false){IPCC.Web.MH(L);}}};this.KI=function(){return oa;};this.Jl=function(L){IPCC.bU.iG(L,'value');oa=L;};this.abh=function(){return xW;};this.aav=function(L){xW=L;};var lZ='';this.pm=function(L){T.pm(L);lZ=L;};this.gy=function(){return lZ;};this.azT=function(){return T.bV().get_magnifierMagnification();};this.azZ=function(L){IPCC.bU.jS(L,'value',1.5,8);T.bV().set_magnifierMagnification(L);};this.ayo=function(){return T.bV().vK().width;};this.aAp=function(L){IPCC.bU.jS(L,'value',25,500);var uq=T.bV().vK();uq.width=L;T.bV().set_magnifierWindowSize(uq);};this.azw=function(){return T.bV().vK().height;};this.azi=function(L){IPCC.bU.jS(L,'value',25,500);var uq=T.bV().vK();uq.height=L;T.bV().set_magnifierWindowSize(uq);};this.Rv=function(){return T.bV().Rv();};this.aaD=function(L){IPCC.bU.jS(L,'value',-500,500);T.bV().aaD(L);};this.Sb=function(){return T.bV().Sb();};this.aaj=function(L){IPCC.bU.jS(L,'value',-500,500);T.bV().aaj(L);};this.abK=function(){return T.bV().abK();};this.abB=function(L){IPCC.bU.jS(L,'value',0.1,0.5);T.bV().abB(L);};this.Ar=function(){return T.bV().Ar();};this.Ks=function(L){T.bV().Ks(L);};this.raisePropertyChanged=function(dQ,Am){if(T){T.aM(dQ,Am);}};var dq= -1;this.aaS=function(){return dq;};this.aEy=function(L){T.uk=L;};this.JL=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.MouseTool);if(dq!==L){dq=L;var jk="None";switch(dq){case IPCC.Web.UI.MouseTool.None:T.fz([]);break;case IPCC.Web.UI.MouseTool.Magnifier:if(IPCC.iE===true){T.fz([new IPCC.tQ(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.tQ(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);jk="Magnifier";}break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(IPCC.iE===true){T.fz([new IPCC.ou(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.ou(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="RectangleZoom";break;case IPCC.Web.UI.MouseTool.HandPan:if(IPCC.iE===true){T.fz([new IPCC.si(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(true)]);}else{T.fz([new IPCC.si(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(true)]);}jk="HandPan";break;case IPCC.Web.UI.MouseTool.Select:if(IPCC.iE===true){T.fz([new IPCC.sU(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.sU(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="Select";break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Rectangle),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Rectangle),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateRectangleMark";break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.RectangleRedaction),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateRectangleRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Ellipse),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Ellipse),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateEllipseMark";break;case IPCC.Web.UI.MouseTool.CreateLineMark:if(IPCC.iE===true){T.fz([new IPCC.pz(),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.pz(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateLineMark";break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:if(IPCC.iE===true){T.fz([new IPCC.oA(IPCC.Web.UI.MarkType.Polyline),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.oA(IPCC.Web.UI.MarkType.Polyline),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreatePolylineMark";break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:if(IPCC.iE===true){T.fz([new IPCC.nI(),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.nI(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateFreehandMark";break;case IPCC.Web.UI.MouseTool.CreatePolygonMark:if(IPCC.iE===true){T.fz([new IPCC.oA(IPCC.Web.UI.MarkType.Polygon),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.oA(IPCC.Web.UI.MarkType.Polygon),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreatePolygonMark";break;case IPCC.Web.UI.MouseTool.CreateTextMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateTextMark";break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.TextLine),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.TextLine),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateTextInputSignatureMark";break;case IPCC.Web.UI.MouseTool.EditMarks:if(IPCC.iE===true){T.fz([new IPCC.pa(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.pa(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="EditMarks";break;case IPCC.Web.UI.MouseTool.RunMarks:if(IPCC.iE===true){T.fz([new IPCC.Ht(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.Ht(IPCC.Web.UI.MarkType.Text),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="RunMarks";break;case IPCC.Web.UI.MouseTool.CreateStampMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Stamp),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.Stamp),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateStampMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampAnnotation),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateImageStampAnnotationMark";break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:if(IPCC.iE===true){T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.er(),new IPCC.gW(true,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampRedaction),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateImageStampRedactionMark";break;case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:T.Ih=true;if(IPCC.iE===true){T.fz([new IPCC.ox(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.ox(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="CreateHighlightTextMark";break;case IPCC.Web.UI.MouseTool.SelectText:T.Ih=false;if(IPCC.iE===true){T.fz([new IPCC.ox(),new IPCC.er(),new IPCC.gW(false,this.iI()),new IPCC.dn(),new IPCC.dO(false)]);}else{T.fz([new IPCC.ox(),new IPCC.er(),new IPCC.dn(),new IPCC.dO(false)]);}jk="SelectText";break;}this.raisePropertyChanged('mouseTool',{mouseToolType:jk});}};this.Jn=function(aop){dq= -1;T.fz(aop);};this.aCd=function(){return T.bV().get_presentationQuality();};this.aAi=function(L){IPCC.bU.jS(L,'value',0,100);T.bV().set_presentationQuality(L);};this.aCx=function(){return T.bV().get_scrollBars();};this.axe=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.ScrollBars);T.bV().set_scrollBars(L);};this.aqD=function(cb,ano){IPCC.bU.aT(cb,'imagePoint');if(!(T.du())){return new IPCC.Web.UI.Point(0,0);}var dH=T.bV().gI().transform(cb);if(ano){dH.constrain(T.fq());}return dH;};this.Hv=function(dH,amm){IPCC.bU.aT(dH,'windowPoint');var aQ=T.du();if(!aQ){return new IPCC.Web.UI.Point(0,0);}var sH=T.bV().gI();sH.yj();var cb=sH.transform(dH);if(amm){cb.constrain(aQ);}return cb;};function XL(){var bk;bk=dG.gy();var als=bk.clientWidth;var akw=bk.clientHeight;var atQ=(eu&&eu.viewFitType===acp&&als===acm&&akw===adK);if(atQ){if(MQ>2){return;}MQ++;}else{acp=eu?eu.viewFitType: -1;acm=als;adK=akw;MQ=0;}SX();};function aqz(){eu=null;};function apj(bz,R){switch(R.fB){case IPCC.ff.adr:dG.adI(1.25,R.ST.windowPoint);break;case IPCC.ff.adv:dG.adh(1.25,R.ST.windowPoint);break;case IPCC.ff.ZD:dG.zZ(R.L);break;case IPCC.ff.ajg:dG.aij();break;case IPCC.ff.akG:dG.akr();break;case IPCC.ff.acf:dG.YN(R.L);break;case IPCC.ff.afm:dG.JL(R.L);break;}};this.ii=function(){return T.ii();};this.AE=function(L){T.AE(L);};this.dJ=function(){return T.dJ();};this.mo=function(){return T.mo();};this.uF=function(L){T.uF(L);};this.oC=function(){return T.get_requireRequestsOptimize();};this.sd=function(L){T.sd(L);};this.hL=function(){return T.hL();};this.sl=function(L){T.sl(L);};this.ES=function(cb){IPCC.bU.aT(cb,'imagePoint');return T.ES(cb);};this.Ag=function(cL){T.Ag(cL);};this.YR=function(){T.YR();};this.OO=function(wn,dm){var HY=T.dJ().ey().fb();IPCC.bU.os(wn,'wn',0,HY-1);T.OO(wn,dm);};this.ws=function(cL){if(cL===undefined){T.bV().ws(cL);return false;}var HY=T.dJ().ey().fb();IPCC.bU.os(cL,'textIndex',0,HY-1);T.ws(cL);return true;};this.Mc=function(){return! !(T.du()&&T.ii()&&T.dJ().nm()===true&&T.bV().Mc());};this.Xk=function(){var aB=T.bV();aB.Xk();};this.PG=function(){if(T.ii()&&T.dJ().nm()===true){return Math.min(T.bV().ahM(),T.bV().GA());}};this.Er=function(){if(T.ii()&&T.dJ().nm()===true){return T.bV().Er();}};this.DM=function(){if(T.ii()&&T.dJ().nm()===true&&T.bV().Mc()){return T.DM();}else{return "";}};this.GA=function(){return T.bV().GA();};this.aAU=function(){return T.bV().get_cursor();};this.aCb=function(L){T.bV().set_cursor(L);};this.zu=function(){return T.zu();};this.aaW=function(L){T.aaW(L);};this.eD=function(){return T.eD();};this.im=function(L){T.im(L);};this.avI=function(){T.bV().hideMagnifier();};this.aCw=function(dH){T.bV().showMagnifier(dH);};this.xM=function(J){if(T.lz().igElements){T.xM(J);T.dF();}};this.pY=function(){if(T.lz().igElements){T.pY(true);}};function asw(bz,R){var yB=R.scaleFactor;var ap={scaleType:"scaledDown",pageNumber:R.pageNumber};if(Ki!==yB){if(yB>Ki){ap.scaleType="scaledUp";}Ki=yB;bo('scaleChanged',ap);}};this.initialize=function(){T.acu(this.gy().id);T.pm(this.gy().id);if(dq=== -1){this.JL(IPCC.Web.UI.MouseTool.RectangleZoom);}jP('mouseDown');jP('mouseMove');jP('mouseUp');jP('contextMenu');jP('markCreating');jP('pageOpenFailed');jP('textPageReady');jP('pageDisplayed');jP('exceptionThrown');jP('selectTextMouseToolCompleted');KL('markAdded');KL('markChanged');KL('markRemoved');jP('textExtractionFailed');KL('markReordered');KL('marksLoaded');jP('markSelectionChanged');Yg();T.agw(XL);T.aqT(aqz);T.aqc(apj);T.add_scaleChanged(asw);T.agG();var bk=this.gy();bk.aY=this;};qa=(qa!==false);T=new IPCC.abX(qa);T.acQ('PageView');};IPCC.Web.UI.PageView.prototype={dispose:function(){this.bB('dispose',arguments);this.xU();},get_debug:function(){try{var H=this.sc();this.aR('get_debug',arguments,H);return H;}catch(e){this.O('get_debug',e);throw e;}},set_debug:function(value){try{this.bB('set_debug',arguments);var or=this.sc();this.zK(value);if(!or){this.bB('set_debug',arguments);}}catch(e){this.O('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var H=this.nX();this.aR('get_debugErrorLevel',arguments,H);return H;}catch(e){this.O('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bB('set_debugErrorLevel',arguments);var or=this.nX();this.tu(value);if(or<IPCC.Web.UI.DebugErrorLevel.Development){this.bB('set_debugErrorLevel',arguments);}}catch(e){this.O('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var H=this.yP();this.aR('get_artServiceOption',arguments,H);return H;}catch(e){this.O('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bB('set_artServiceOption',arguments);this.yo(value);}catch(e){this.O('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.HG(handler);}catch(e){this.O('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Lq(handler);}catch(e){this.O('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HW(handler);}catch(e){this.O('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.IM(handler);}catch(e){this.O('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.XW(handler);}catch(e){this.O('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Zx(handler);}catch(e){this.O('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Bc(handler);}catch(e){this.O('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.CB(handler);}catch(e){this.O('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HL(handler);}catch(e){this.O('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ju(handler);}catch(e){this.O('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.BM(handler);}catch(e){this.O('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.CK(handler);}catch(e){this.O('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Cx(handler);}catch(e){this.O('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.DP(handler);}catch(e){this.O('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.By(handler);}catch(e){this.O('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Db(handler);}catch(e){this.O('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Wv(handler);}catch(e){this.O('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.RY(handler);}catch(e){this.O('remove_contextMenu',e);throw e;}},add_markAdded:function(handler){try{this.yD(handler);}catch(e){this.O('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.yp(handler);}catch(e){this.O('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Wu(handler);}catch(e){this.O('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Rh(handler);}catch(e){this.O('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.DQ(handler);}catch(e){this.O('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Eh(handler);}catch(e){this.O('remove_markChanged',e);throw e;}},add_markRemoved:function(handler){try{this.ye(handler);}catch(e){this.O('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.yn(handler);}catch(e){this.O('remove_markRemoved',e);throw e;}},add_markReordered:function(handler){try{this.Dc(handler);}catch(e){this.O('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Dk(handler);}catch(e){this.O('remove_markReordered',e);throw e;}},add_marksLoaded:function(handler){try{this.Sj(handler);}catch(e){this.O('add_marksLoaded',e);throw e;}},remove_marksLoaded:function(handler){try{this.Na(handler);}catch(e){this.O('remove_marksLoaded',e);throw e;}},add_markSelectionChanged:function(handler){try{this.DV(handler);}catch(e){this.O('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.CW(handler);}catch(e){this.O('remove_markSelectionChanged',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.XK(handler);}catch(e){this.O('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.YO(handler);}catch(e){this.O('remove_selectTextMouseToolCompleted',e);throw e;}},add_textPageReady:function(handler){try{this.tL(handler);}catch(e){this.O('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xD(handler);}catch(e){this.O('remove_textPageReady',e);throw e;}},add_exceptionThrown:function(handler){this.WZ(handler);},remove_exceptionThrown:function(handler){this.SK(handler);},add_scaleChanged:function(handler){try{this.Wp(handler);}catch(e){this.O('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Ye(handler);}catch(e){this.O('remove_scaleChanged',e);throw e;}},add_propertyChanged:function(handler){try{this.iz(handler);}catch(e){this.O('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lA(handler);}catch(e){this.O('remove_propertyChanged',e);throw e;}},add_textExtractionFailed:function(handler){this.Cu(handler);},remove_textExtractionFailed:function(handler){this.AX(handler);},writeToLog:function(message){try{this.iX(message);}catch(e){this.O('writeToLog',e);throw e;}},fitPage:function(type){try{this.bB('fitPage',arguments);this.YN(type);}catch(e){this.O('fitPage',e);throw e;}},get_pageIsOpen:function(){try{var H=this.hD();this.aR('get_pageIsOpen',arguments,H);return H;}catch(e){this.O('get_pageIsOpen',e);throw e;}},get_pageWidth:function(){try{var H=this.lG();this.aR('get_pageWidth',arguments,H);return H;}catch(e){this.O('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var H=this.nh();this.aR('get_pageHeight',arguments,H);return H;}catch(e){this.O('get_pageHeight',e);throw e;}},get_pageXResolution:function(){try{var H=this.aBr();this.aR('get_pageXResolution',arguments,H);return H;}catch(e){this.O('get_pageXResolution',e);throw e;}},get_pageYResolution:function(){try{var H=this.aCM();this.aR('get_pageYResolution',arguments,H);return H;}catch(e){this.O('get_pageYResolution',e);throw e;}},get_documentIdentifier:function(){try{var H=this.uN();this.aR('get_documentIdentifier',arguments,H);return H;}catch(e){this.O('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var H=this.zs();this.aR('get_encodedDocumentIdentifier',arguments,H);return H;}catch(e){this.O('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var H=this.lW();this.aR('get_pageNumber',arguments,H);return H;}catch(e){this.O('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var H=this.abo();this.aR('get_documentPageCount',arguments,H);return H;}catch(e){this.O('get_documentPageCount',e);throw e;}},get_displayedPageRectangle:function(){try{var H=this.ahw();this.aR('get_displayedPageRectangle',arguments,H);return H;}catch(e){this.O('get_displayedPageRectangle',e);throw e;}},get_currentState:function(){try{var H=this.vP();this.aR('get_currentState',arguments,H);return H;}catch(e){this.O('get_currentState',e);throw e;}},zoomIn:function(factor){try{this.bB('zoomIn',arguments);this.Pz(factor);}catch(e){this.O('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bB('zoomOut',arguments);this.UY(factor);}catch(e){this.O('zoomOut',e);throw e;}},zoom:function(factor){try{this.bB('zoom',arguments);this.jK(factor);}catch(e){this.O('zoom',e);throw e;}},rotate:function(degreesClockwise){try{this.bB('rotate',arguments);this.zZ(degreesClockwise);}catch(e){this.O('rotate',e);throw e;}},showPageRectangle:function(imageRectangle){try{this.bB('showPageRectangle',arguments,1);this.aCR(imageRectangle);}catch(e){this.O('showPageRectangle',e);throw e;}},showPagePointAtCenter:function(imagePoint){try{this.bB('showPagePointAtCenter',arguments,1);this.aBo(imagePoint);}catch(e){this.O('showPagePointAtCenter',e);throw e;}},mirror:function(){try{this.bB('mirror',arguments);this.akr();}catch(e){this.O('mirror',e);throw e;}},flip:function(){try{this.bB('flip',arguments);this.aij();}catch(e){this.O('flip',e);throw e;}},display:function(){try{this.bB('display',arguments);this.dF();}catch(e){this.O('display',e);throw e;}},openPage:function(parameters){try{this.bB('openPage',arguments,1);this.CI(parameters);}catch(e){this.O('openPage',e);throw e;}},closePage:function(){try{this.bB('closePage',arguments);this.xU();}catch(e){this.O('closePage',e);throw e;}},hideSelection:function(){try{this.bB('hideSelection',arguments);this.og();}catch(e){this.O('hideSelection',e);throw e;}},showSelection:function(imageRectangle){try{this.bB('showSelection',arguments);this.aCa(imageRectangle);}catch(e){this.O('showSelection',e);throw e;}},showEmptySelection:function(imagePoint){try{this.bB('showEmptySelection',arguments);this.FK(imagePoint);}catch(e){this.O('showEmptySelection',e);throw e;}},extendSelection:function(imagePoint){try{this.bB('extendSelection',arguments);this.Bg(imagePoint);}catch(e){this.O('extendSelection',e);throw e;}},saveArtPage:function(onSave){try{this.bB('saveArtPage',arguments);this.Ew(onSave);}catch(e){this.O('saveArtPage',e);throw e;}},get_selectionPageRectangle:function(){try{var H=this.xv();this.aR('get_selectionPageRectangle',arguments,H);return H;}catch(e){this.O('get_selectionPageRectangle',e);throw e;}},get_selectionWindowRectangle:function(){try{var H=this.aEb();this.aR('get_selectionWindowRectangle',arguments,H);return H;}catch(e){this.O('get_selectionWindowRectangle',e);throw e;}},get_selectionIsVisible:function(){try{var H=this.AL();this.aR('get_selectionIsVisible',arguments,H);return H;}catch(e){this.O('get_selectionIsVisible',e);throw e;}},get_controlStateElementId:function(){try{var H=this.KI();this.aR('get_controlStateElementId',arguments,H);return H;}catch(e){this.O('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bB('set_controlStateElementId',arguments);this.Jl(value);}catch(e){this.O('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var H=this.abh();this.aR('get_includeArtInPostBack',arguments,H);return H;}catch(e){this.O('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bB('set_includeArtInPostBack',arguments);this.aav(value);}catch(e){this.O('set_includeArtInPostBack',e);throw e;}},get_artPage:function(){try{var H=this.ft();this.aR('get_artPage',arguments,H);return H;}catch(e){this.O('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bB('set_artPage',arguments);this.kZ(value);}catch(e){this.O('set_artPage',e);throw e;}},get_documentArtPage:function(){try{var H=this.Po();this.aR('get_documentArtPage',arguments,H);return H;}catch(e){this.O('get_documentArtPage',e);throw e;}},set_documentArtPage:function(value){try{this.bB('set_documentArtPage',arguments);this.IL(value);}catch(e){this.O('set_documentArtPage',e);throw e;}},get_transientArtPage:function(){try{var H=this.kO();this.aR('get_transientArtPage',arguments,H);return H;}catch(e){this.O('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bB('set_transientArtPage',arguments);this.ty(value);}catch(e){this.O('set_transientArtPage',e);throw e;}},get_imageHandlerUrl:function(){try{var H=this.ml();this.aR('get_imageHandlerUrl',arguments,H);return H;}catch(e){this.O('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bB('set_imageHandlerUrl',arguments);this.Fi(value);}catch(e){this.O('set_imageHandlerUrl',e);throw e;}},get_resourcePath:function(){try{var H=this.lO();this.aR('get_resourcePath',arguments,H);return H;}catch(e){this.O('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bB('set_resourcePath',arguments);this.uT(L);}catch(e){this.O('set_resourcePath',e);throw e;}},get_contextMenuLanguageDictionary:function(){try{var H=this.iI();this.aR('get_contextMenuLanguageDictionary',arguments,H);return H;}catch(e){this.O('get_contextMenuLanguageDictionary',e);throw e;}},set_contextMenuLanguageDictionary:function(L){try{this.bB('set_contextMenuLanguageDictionary',arguments);this.aBk(L);}catch(e){this.O('set_contextMenuLanguageDictionary',e);throw e;}},get_textRequired:function(){try{var H=this.ii();this.aR('get_textRequired',arguments,H);return H;}catch(e){this.O('get_textRequired',e);throw e;}},set_textRequired:function(L){try{this.bB('set_textRequired',arguments);this.AE(L);}catch(e){this.O('set_textRequired',e);throw e;}},get_textPage:function(){try{var H=this.dJ();this.aR('get_textPage',arguments,H);return H;}catch(e){this.O('get_textPage',e);throw e;}},get_textSelectionIsVisible:function(){try{var H=this.Mc();this.wo('textSelectionIsVisible',arguments,H,1);return H;}catch(e){this.O('textSelectionIsVisible',e);throw e;}},getSelectedText:function(){try{var H=this.DM();this.wo('getSelectedText',arguments,H,1);return H;}catch(e){this.O('getSelectedText',e);throw e;}},get_requireRequestsOptimize:function(){try{var H=this.oC();this.aR('get_requireRequestsOptimize',arguments,H);return H;}catch(e){this.O('oC',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bB('set_requireRequestsOptimize',arguments);this.sd(value);}catch(e){this.O('set_requireRequestsOptimize',e);throw e;}},get_magnifierMagnification:function(){try{var H=this.azT();this.aR('get_magnifierMagnification',arguments,H);return H;}catch(e){this.O('get_magnifierMagnification',e);throw e;}},set_magnifierMagnification:function(value){try{this.bB('set_magnifierMagnification',arguments);this.azZ(value);}catch(e){this.O('set_magnifierMagnification',e);throw e;}},get_magnifierWidth:function(){try{var H=this.ayo();this.aR('get_magnifierWidth',arguments,H);return H;}catch(e){this.O('get_magnifierWidth',e);throw e;}},set_magnifierWidth:function(value){try{this.bB('set_magnifierWidth',arguments);this.aAp(value);}catch(e){this.O('set_magnifierWidth',e);throw e;}},get_magnifierHeight:function(){try{var H=this.azw();this.aR('get_magnifierHeight',arguments,H);return H;}catch(e){this.O('get_magnifierHeight',e);throw e;}},set_magnifierHeight:function(value){try{this.bB('set_magnifierHeight',arguments);this.azi(value);}catch(e){this.O('set_magnifierHeight',e);throw e;}},get_magnifierXOffset:function(){try{var H=this.Rv();this.aR('get_magnifierXOffset',arguments,H);return H;}catch(e){this.O('get_magnifierXOffset',e);throw e;}},set_magnifierXOffset:function(value){try{this.bB('set_magnifierXOffset',arguments);this.aaD(value);}catch(e){this.O('set_magnifierXOffset',e);throw e;}},get_magnifierYOffset:function(){try{var H=this.Sb();this.aR('get_magnifierYOffset',arguments,H);return H;}catch(e){this.O('get_magnifierYOffset',e);throw e;}},set_magnifierYOffset:function(value){try{this.bB('set_magnifierYOffset',arguments);this.aaj(value);}catch(e){this.O('set_magnifierYOffset',e);throw e;}},showMagnifier:function(windowPoint){try{this.bB('showMagnifier',arguments,1);this.aCw(windowPoint);}catch(e){this.O('showMagnifier',e);throw e;}},hideMagnifier:function(){try{this.bB('hideMagnifier',arguments);this.avI();}catch(e){this.O('hideMagnifier',e);throw e;}},get_markHandleSize:function(){try{var H=this.abK();this.aR('get_markHandleSize',arguments,H);return H;}catch(e){this.O('get_markHandleSize',e);throw e;}},set_markHandleSize:function(value){try{this.bB('set_markHandleSize',arguments);this.abB(value);}catch(e){this.O('set_markHandleSize',e);throw e;}},get_markHandleMode:function(){try{var H=this.Ar();this.aR('get_markHandleMode',arguments,H);return H;}catch(e){this.O('get_markHandleMode',e);throw e;}},set_markHandleMode:function(value){try{this.bB('set_markHandleMode',arguments);this.Ks(value);}catch(e){this.O('set_markHandleMode',e);throw e;}},get_mouseTool:function(){try{var H=this.aaS();this.aR('get_mouseTool',arguments,H);return H;}catch(e){this.O('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bB('set_mouseTool',arguments);this.JL(value);}catch(e){this.O('set_mouseTool',e);throw e;}},get_presentationQuality:function(){try{var H=this.aCd();this.aR('get_presentationQuality',arguments,H);return H;}catch(e){this.O('get_presentationQuality',e);throw e;}},set_presentationQuality:function(value){try{this.bB('set_presentationQuality',arguments);this.aAi(value);}catch(e){this.O('set_presentationQuality',e);throw e;}},get_scrollBars:function(){try{var H=this.aCx();this.aR('get_scrollBars',arguments,H);return H;}catch(e){this.O('get_scrollBars',e);throw e;}},set_scrollBars:function(value){try{this.bB('set_scrollBars',arguments);this.axe(value);}catch(e){this.O('set_scrollBars',e);throw e;}},get_imGearPage:function(){try{var H=this.mo();this.aR('get_imGearPage',arguments,H);return H;}catch(e){this.O('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bB('set_imGearPage',arguments);this.uF(value);}catch(e){this.O('set_imGearPage',e);throw e;}},get_serviceResponseTimeout:function(){try{var H=this.hL();this.aR('get_serviceResponseTimeout',arguments,H);return H;}catch(e){this.O('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bB('set_serviceResponseTimeout',arguments);this.sl(value);}catch(e){this.O('set_serviceResponseTimeout',e);throw e;}},get_currentTextIndex:function(){try{var H=this.GA();this.aR('get_currentTextIndex',arguments,H);return H;}catch(e){this.O('get_currentTextIndex',e);throw e;}},get_cursor:function(){try{var H=this.aAU();this.aR('get_cursor',arguments,H);return H;}catch(e){this.O('get_cursor',e);throw e;}},set_cursor:function(value){try{this.bB('set_cursor',arguments);this.aCb(value);}catch(e){this.O('set_cursor',e);throw e;}},get_encryption:function(){try{var H=this.eD();this.aR('get_encryption',arguments,H);return H;}catch(e){this.O('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bB('set_encryption',arguments);this.im(value);}catch(e){this.O('set_encryption',e);throw e;}},transformPagePointToWindow:function(imagePoint,constrainResultToWindow){try{var H=this.aqD(imagePoint,constrainResultToWindow);this.wo('transformPagePointToWindow',arguments,H,1);return H;}catch(e){this.O('transformPagePointToWindow',e);throw e;}},transformWindowPointToPage:function(windowPoint,constrainResultToImage){try{var H=this.Hv(windowPoint,constrainResultToImage);this.wo('transformWindowPointToPage',arguments,H,1);return H;}catch(e){this.O('transformWindowPointToPage',e);throw e;}},transformPagePointToTextIndex:function(pagePoint){try{var H=this.ES(pagePoint);this.wo('transformPagePointToTextIndex',arguments,H,1);return H;}catch(e){this.O('transformPagePointToTextIndex',e);throw e;}},removeAllHighlights:function(){try{this.bB('removeAllHighlights',arguments);this.YR();}catch(e){this.O('removeAllHighlights',e);throw e;}},showTextSelection:function(indexOfFirstCharacter,length){try{this.bB('showTextSelection',arguments);this.OO(indexOfFirstCharacter,length);}catch(e){this.O('showTextSelection',e);throw e;}},showEmptyTextSelection:function(textIndex){try{this.bB('showEmptyTextSelection',arguments);this.Ag(textIndex);}catch(e){this.O('showEmptyTextSelection',e);throw e;}},extendTextSelection:function(textIndex){try{this.bB('extendTextSelection',arguments);this.ws(textIndex);}catch(e){this.O('extendTextSelection',e);throw e;}},initializeViewControllers:function(showArtContextMenu){try{this.bB('initializeViewControllers',arguments);this.aza(showArtContextMenu);}catch(e){this.O('initializeViewControllers',e);throw e;}},get_autoUpdate:function(){try{var H=this.zu();this.aR('get_autoUpdate',arguments,H);return H;}catch(e){this.O('get_autoUpdate',e);throw e;}},set_autoUpdate:function(value){try{this.bB('set_autoUpdate',arguments);this.aaW(value);}catch(e){this.O('set_autoUpdate',e);throw e;}}};IPCC.Web.UI.PageView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.PageView.registerClass('IPCC.Web.UI.PageView',IPCC.Sys.UI.Control);IPCC.Web.UI.ThumbnailView=function(element){var dG=this;var bH;var T;var pU=0;var oa='';var xW=false;var Lc='';var rm=null;var qU=null;var Pr=null;var pd=false;var aO=new IPCC.Web.UI.gv();function gr(wG){if(!T){return false;}return T.gr(wG);};this.O=function(ei,gG){if(gr(IPCC.Web.UI.DebugErrorLevel.Production)){T.logException(ei,gG);}};this.bB=function(ei,eg,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=')';this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.wo=function(ei,eg,jp,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.aR=function(ei,eg,jp){if(!gr(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],0);}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kb=function(fS,bD){if(T){T.iX(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bD);}};this.iX=function(fS){if(T){T.iX(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production);}};this.sc=function(){return T.get_debug();};this.zK=function(L){T.set_debug(L);};this.nX=function(){return T.nX();};this.tu=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.DebugErrorLevel);T.tu(L);};function cq(bS,G){aO.addHandler(bS,G);};function bZ(bS,G){aO.removeHandler(bS,G);};this.HG=function(G){cq('pageOpening',G);};this.Lq=function(G){bZ('pageOpening',G);};this.HW=function(G){cq('pageOpened',G);};this.IM=function(G){bZ('pageOpened',G);};this.XW=function(G){cq('pageClosed',G);};this.Bc=function(G){cq('pageOpenFailed',G);};this.CB=function(G){bZ('pageOpenFailed',G);};this.HL=function(G){cq('pageDisplayed',G);};this.Ju=function(G){bZ('pageDisplayed',G);};this.Zx=function(G){bZ('pageClosed',G);};this.BM=function(G){cq('mouseDown',G);};this.CK=function(G){bZ('mouseDown',G);};this.Cx=function(G){cq('mouseMove',G);};this.DP=function(G){bZ('mouseMove',G);};this.By=function(G){cq('mouseUp',G);};this.Db=function(G){bZ('mouseUp',G);};this.Wv=function(G){cq('contextMenu',G);};this.RY=function(G){bZ('contextMenu',G);};this.yD=function(G){cq('markAdded',G);};this.yp=function(G){bZ('markAdded',G);};this.DQ=function(G){cq('markChanged',G);};this.Eh=function(G){bZ('markChanged',G);};this.ye=function(G){cq('markRemoved',G);};this.yn=function(G){bZ('markRemoved',G);};this.Dc=function(G){cq('markReordered',G);};this.Dk=function(G){bZ('markReordered',G);};this.Sj=function(G){cq('marksLoaded',G);};this.Na=function(G){bZ('marksLoaded',G);};this.aqr=function(G){cq('marksSaved',G);};this.atJ=function(G){bZ('marksSaved',G);};this.DV=function(G){cq('markSelectionChanged',G);};this.CW=function(G){bZ('markSelectionChanged',G);};this.tL=function(G){cq('textPageReady',G);};this.xD=function(G){bZ('textPageReady',G);};this.oC=function(){return T.get_requireRequestsOptimize();};this.sd=function(L){T.sd(L);};this.raisePropertyChanged=function(dQ){if(T){T.aM(dQ);}};var bo=function(bS,R){try{var G;G=aO.getHandler(bS);if(G){G(dG,R);}}catch(e){dG.O(bS+'Event',e);}};var jP=function(bS){function oz(bz,R){bo(bS,R);};T['add_'+bS](oz);};var Hu=function(bS){function oz(bz,R){if(T.EZ()){rh();}};T['add_'+bS](oz);};function rh(){var rM,fj,hv;if(oa!==''){rM=document.getElementById(oa);if(rM){fj=dG.vP();hv='{encodedDocumentIdentifier:"'+fj.encodedDocumentIdentifier;hv+='",pageNumber:'+fj.pageNumber.toString();hv+=',selected:'+pd.toString();if(xW){var bM=T.ft();if(bM){hv+=',artPageJson:"'+IPCC.ht.so(bM.saveToJson())+'"';}}hv+='}';rM.value=hv;}}};var Yg=function(){function oz(bz,R){var At=true;switch(R.get_propertyName()){case 'documentIdentifier':case 'pageNumber':case 'artPage':case 'includeArtInPostBack':rh();break;case 'magnifierWindowPosition':case 'magnifierIsVisible':case 'cursor':case 'markCursor':case 'inProgressMark':case 'FB':case 'vD':At=false;break;case 'Gu':if(T.EZ()){rh();}At=false;break;}if(At){bo('propertyChanged',R);}};T.iz(oz);};this.uN=function(){if(!T|| !(T.du())){return '';}return T.du().get_identifier();};this.zs=function(){if(!T|| !(T.du())){return '';}return T.du().get_encodedIdentifier();};this.lW=function(){if(!T|| !(T.du())){return-1;}return T.du().aH;};this.abo=function(){if(!T|| !(T.du())){return 0;}return T.du().eB;};this.lG=function(){if(!T|| !(T.du())){return 0;}return T.du().width;};this.nh=function(){if(!T|| !(T.du())){return 0;}return T.du().height;};function Cr(){var dp={};dp.documentIdentifier=dG.uN();dp.encodedDocumentIdentifier=dG.zs();dp.pageNumber=dG.lW();dp.referenceDocumentIdentifier=dG.uN();dp.referencePageNumber=dG.lW();dp.selected=dG.Pe();dp.artPage=dG.ft();dp.imGearPage=dG.mo();dp.transientArtPage=dG.kO();return dp;};this.vP=function(){var dp;if(bH){dp=new IPCC.Web.UI.ThumbnailViewState();dp.documentIdentifier=bH.documentIdentifier;dp.encodedDocumentIdentifier=bH.encodedDocumentIdentifier;dp.pageNumber=bH.pageNumber;dp.referenceDocumentIdentifier=bH.documentIdentifier;dp.referencePageNumber=bH.pageNumber;dp.selected=bH.selected;dp.artPage=bH.artPage;dp.imGearPage=bH.imGearPage;dp.transientArtPage=bH.transientArtPage;}else{dp=Cr();}return dp;};this.azo=function(){return qU;};this.azl=function(value){qU=value;};var ZL=function(){var aB=T.bV();var bu=T.du();var bJ=T.fq();var bx=aB.gI();bx.afd(bu,bJ);bx.adg(bu,bJ);bx.kk(bu,bJ);aB.hW(bx);};this.dF=function(){T.dF();};function amf(){if(Pr){Pr.remove_pageOpened(ajV);Pr=null;}};function ajV(sender,eventArgs){var bH=dG.vP();if(eventArgs.documentIdentifier!==bH.documentIdentifier||eventArgs.pageNumber!==bH.pageNumber){amf();dG.Pf(false);}};function ahy(){if(!Lc){return;}if(!rm){rm=document.getElementById(Lc).aY;}if(rm){var auw=dG.get_imGearPage();if(auw){rm.set_imGearPage(dG.get_imGearPage());}}if(!rm){return;}amf();rm.add_pageOpened(ajV);Pr=rm;var bH=dG.vP();if(bH.encodedDocumentIdentifier!==''){rm.openPage({encodedDocumentIdentifier:bH.encodedDocumentIdentifier,pageNumber:bH.pageNumber,viewFitType:qU.viewFitType,viewRotationDegreesClockwise:qU.viewRotationDegreesClockwise,viewZoomFactor:qU.viewZoomFactor,artPage:bH.artPage,imGearPage:dG.mo()});}};this.abP=function(dS){var oc=false;if(IPCC.Web.nq.length>0){if(Array.prototype.indexOf){if(IPCC.Web.nq.indexOf(dS)>=0){return true;}}else{if(IPCC.Web.hh(IPCC.Web.nq,dS)>=0){return true;}}}return oc;};this.CI=function(bL){pU++;var KM=pU;var Wa;IPCC.ht.TF(bL);bH=new IPCC.Web.UI.ThumbnailViewState();var F;for(F in bL){if(bL.hasOwnProperty(F)){bH[F]=bL[F];}}if(bL.documentIdentifier===''){this.xU();return;}if(IPCC.Web.UI.ArtPage){if(bH){if(!bH.artPage){var bM=new IPCC.Web.UI.ArtPage();if(bH.artPageJson){bM.loadFromJson(bH.artPageJson);}bH.artPage=bM;}if(this.ii()===true){if(!bH.imGearPage){var dv=new IPCC.Web.UI.ImGearDocument({documentIdentifier:bL.documentIdentifier,imageServicePath:this.ml()});dv.im(dG.eD());bH.imGearPage=new IPCC.Web.UI.ImGearPage({pageNumber:bL.pageNumber,aG:dv});bH.imGearPage.im(dG.eD());dv.get_pages().addPage(bH.imGearPage);}if(!bH.transientArtPage){bH.transientArtPage=new IPCC.Web.UI.ArtPage();}}}}bo('pageOpening',bL);if(pd){ahy();}var aQ=new IPCC.ht(bL.encodedDocumentIdentifier,bL.pageNumber,0,0,0,0);function ati(){ZL();if(bL.selected!==undefined){dG.set_selected(bL.selected);}bH=null;};var nx=function(){if(KM!==pU){return;}var po=null;if(T.du()){po=Cr();}T.vx(aQ);if(bL.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(bH.artPage){T.kZ(bH.artPage);T.ft().loadFromJson(aQ.aef);}}}else{if(bH){if(bH.artPage){T.kZ(bH.artPage);}if(T.ii()===true){if(bH.imGearPage){T.uF(bH.imGearPage);}if(bH.transientArtPage){T.ty(bH.transientArtPage);}}}}ati();rh();if(po){bo('pageClosed',po);}rh();bo('pageOpened',bL);};if(bL.artServiceOption===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(bH){if(!bH.artPageJson){aQ.ayT(T.ml(),T,nx,Wa);}else{aQ.GQ(T.ml(),T,nx);}}}else{aQ.GQ(T.ml(),T,nx);}};this.xU=function(){bH=null;T.vx(undefined);dG.dF();rh();bo('pageClosed',{});};this.Ew=function(yz){T.Ew(yz);};this.kZ=function(L){T.kZ(L);};this.ft=function(){return T.ft();};this.kO=function(){return T.kO();};this.ty=function(L){T.ty(L);};this.xA=function(){return T.xA();};this.abR=function(L){T.abR(L);};this.uT=function(L){T.uT(L);};this.lO=function(){return T.lO();};this.MP=function(ao,dm){T.MP(ao,dm);};this.yo=function(BI){T.yo(BI);};this.yP=function(){return T.yP();};this.Pe=function(){return pd;};this.Pf=function(L){if(pd!==L){pd=L;rh();if(pd){ahy();}this.raisePropertyChanged('selected');}};this.ml=function(){return T.ml();};this.Fi=function(L){IPCC.bU.iG(L,'value');T.Fi(L);if(!IPCC.Web.tI){if(IPCC.Web.tX===false){IPCC.Web.MH(L);}}};this.KI=function(){return oa;};this.Jl=function(L){IPCC.bU.iG(L,'value');oa=L;};this.abh=function(){return xW;};this.aav=function(L){xW=L;};this.azD=function(){return Lc;};this.aAe=function(L){if(Lc!==L){Lc=L;rm=null;this.raisePropertyChanged('pageViewClientID');}};this.PL=function(L){T.PL(L);};this.Jy=function(){return T.Jy();};this.zW=function(L){T.zW(L);};this.Jh=function(){return T.Jh();};var lZ='';this.pm=function(L){T.pm(L);lZ=L;};this.gy=function(){return lZ;};function XL(){ZL();};this.ii=function(){return T.ii();};this.AE=function(L){T.AE(L);};this.dJ=function(){return T.dJ();};this.mo=function(){return T.mo();};this.uF=function(L){T.uF(L);};this.hL=function(){return T.hL();};this.sl=function(L){T.sl(L);};this.eD=function(){return T.eD();};this.im=function(L){T.im(L);};this.initialize=function(){var bk;T.acu(this.gy().id);bk=this.gy();bk.aY=this;var F;for(F=bk.childNodes.length-1;F>=0;F--){if(bk.childNodes[F].tagName!=='INPUT'){bk.removeChild(bk.childNodes[F]);}}T.agG();T.bV().set_cursor(IPCC.bi.None);T.bV().set_scrollBars(IPCC.Web.UI.ScrollBars.None);T.bV().set_presentationQuality(100);jP('mouseDown');jP('mouseMove');jP('mouseUp');jP('pageOpenFailed');jP('contextMenu');jP('textPageReady');jP('pageDisplayed');Hu('markAdded');Hu('markChanged');Hu('markRemoved');Hu('markReordered');Hu('marksLoaded');Yg();T.agw(XL);bk.aY=this;};T=new IPCC.abX();T.acQ('ThumbnailView');};IPCC.Web.UI.ThumbnailView.prototype={dispose:function(){this.bB('dispose',arguments);this.xU();},get_debug:function(){try{var H=this.sc();this.aR('get_debug',arguments,H);return H;}catch(e){this.O('get_debug',e);throw e;}},set_debug:function(value){try{this.bB('set_debug',arguments);var or=this.sc();this.zK(value);if(!or){this.bB('set_debug',arguments);}}catch(e){this.O('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var H=this.nX();this.aR('get_debugErrorLevel',arguments,H);return H;}catch(e){this.O('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bB('set_debugErrorLevel',arguments);var or=this.nX();this.tu(value);if(or<IPCC.Web.UI.DebugErrorLevel.Development){this.bB('set_debugErrorLevel',arguments);}}catch(e){this.O('set_debugErrorLevel',e);throw e;}},get_artServiceOption:function(){try{var H=this.yP();this.aR('get_artServiceOption',arguments,H);return H;}catch(e){this.O('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bB('set_artServiceOption',arguments);this.yo(value);}catch(e){this.O('set_artServiceOption',e);throw e;}},add_pageOpening:function(handler){try{this.HG(handler);}catch(e){this.O('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Lq(handler);}catch(e){this.O('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HW(handler);}catch(e){this.O('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.IM(handler);}catch(e){this.O('remove_pageOpened',e);throw e;}},add_pageClosed:function(handler){try{this.XW(handler);}catch(e){this.O('add_pageClosed',e);throw e;}},remove_pageClosed:function(handler){try{this.Zx(handler);}catch(e){this.O('remove_pageClosed',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Bc(handler);}catch(e){this.O('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.CB(handler);}catch(e){this.O('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HL(handler);}catch(e){this.O('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ju(handler);}catch(e){this.O('remove_pageDisplayed',e);throw e;}},add_mouseDown:function(handler){try{this.BM(handler);}catch(e){this.O('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.CK(handler);}catch(e){this.O('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Cx(handler);}catch(e){this.O('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.DP(handler);}catch(e){this.O('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.By(handler);}catch(e){this.O('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Db(handler);}catch(e){this.O('remove_mouseUp',e);throw e;}},add_contextMenu:function(handler){try{this.Wv(handler);}catch(e){this.O('add_contextMenu',e);throw e;}},remove_contextMenu:function(handler){try{this.RY(handler);}catch(e){this.O('remove_contextMenu',e);throw e;}},writeToLog:function(message){try{this.iX(message);}catch(e){this.O('writeToLog',e);throw e;}},get_documentIdentifier:function(){try{var H=this.uN();this.aR('get_documentIdentifier',arguments,H);return H;}catch(e){this.O('get_documentIdentifier',e);throw e;}},get_encodedDocumentIdentifier:function(){try{var H=this.zs();this.aR('get_encodedDocumentIdentifier',arguments,H);return H;}catch(e){this.O('get_encodedDocumentIdentifier',e);throw e;}},get_pageNumber:function(){try{var H=this.lW();this.aR('get_pageNumber',arguments,H);return H;}catch(e){this.O('get_pageNumber',e);throw e;}},get_documentPageCount:function(){try{var H=this.abo();this.aR('get_documentPageCount',arguments,H);return H;}catch(e){this.O('get_documentPageCount',e);throw e;}},get_pageWidth:function(){try{var H=this.lG();this.aR('get_pageWidth',arguments,H);return H;}catch(e){this.O('get_pageWidth',e);throw e;}},get_pageHeight:function(){try{var H=this.nh();this.aR('get_pageHeight',arguments,H);return H;}catch(e){this.O('get_pageHeight',e);throw e;}},get_currentState:function(){try{var H=this.vP();this.aR('get_currentState',arguments,H);return H;}catch(e){this.O('get_currentState',e);throw e;}},openPage:function(parameters){try{this.bB('openPage',arguments,1);this.CI(parameters);}catch(e){this.O('openPage',e);throw e;}},closePage:function(){try{this.bB('closePage',arguments);this.xU();}catch(e){this.O('closePage',e);throw e;}},saveArtPage:function(onSave){try{this.bB('saveArtPage',arguments);this.Ew(onSave);}catch(e){this.O('saveArtPage',e);throw e;}},display:function(){try{this.bB('display',arguments);this.dF();}catch(e){this.O('display',e);throw e;}},get_controlStateElementId:function(){try{var H=this.KI();this.aR('get_controlStateElementId',arguments,H);return H;}catch(e){this.O('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bB('set_controlStateElementId',arguments);this.Jl(value);}catch(e){this.O('set_controlStateElementId',e);throw e;}},get_includeArtInPostBack:function(){try{var H=this.abh();this.aR('get_includeArtInPostBack',arguments,H);return H;}catch(e){this.O('get_includeArtInPostBack',e);throw e;}},set_includeArtInPostBack:function(value){try{this.bB('set_includeArtInPostBack',arguments);this.aav(value);}catch(e){this.O('set_includeArtInPostBack',e);throw e;}},get_pageViewClientID:function(){try{var H=this.azD();this.aR('get_pageViewClientID',arguments,H);return H;}catch(e){this.O('get_pageViewClientID',e);throw e;}},set_pageViewClientID:function(value){try{this.bB('set_pageViewClientID',arguments);this.aAe(value);}catch(e){this.O('set_pageViewClientID',e);throw e;}},get_artPage:function(){try{var H=this.ft();this.aR('get_artPage',arguments,H);return H;}catch(e){this.O('get_artPage',e);throw e;}},set_artPage:function(value){try{this.bB('set_artPage',arguments);this.kZ(value);}catch(e){this.O('set_artPage',e);throw e;}},get_transientArtPage:function(){try{var H=this.kO();this.aR('get_transientArtPage',arguments,H);return H;}catch(e){this.O('get_transientArtPage',e);throw e;}},set_transientArtPage:function(value){try{this.bB('set_transientArtPage',arguments);this.ty(value);}catch(e){this.O('set_transientArtPage',e);throw e;}},get_resourcePath:function(){try{var H=this.lO();this.aR('get_resourcePath',arguments,H);return H;}catch(e){this.O('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bB('set_resourcePath',arguments);this.uT(L);}catch(e){this.O('set_resourcePath',e);throw e;}},get_imageHandlerUrl:function(){try{var H=this.ml();this.aR('get_imageHandlerUrl',arguments,H);return H;}catch(e){this.O('get_imageHandlerUrl',e);throw e;}},set_imageHandlerUrl:function(value){try{this.bB('set_imageHandlerUrl',arguments);this.Fi(value);}catch(e){this.O('set_imageHandlerUrl',e);throw e;}},get_selected:function(){try{var H=this.Pe();this.aR('get_selected',arguments,H);return H;}catch(e){this.O('get_selected',e);throw e;}},set_selected:function(value){try{this.bB('set_selected',arguments);this.Pf(value);}catch(e){this.O('set_selected',e);throw e;}},get_textRequired:function(){try{var H=this.ii();this.aR('get_textRequired',arguments,H);return H;}catch(e){this.O('get_textRequired',e);throw e;}},set_textRequired:function(L){try{this.bB('set_textRequired',arguments);this.AE(L);}catch(e){this.O('set_textRequired',e);throw e;}},get_textPage:function(){try{var H=this.dJ();this.aR('get_textPage',arguments,H);return H;}catch(e){this.O('get_textPage',e);throw e;}},set_textPage:function(value){try{this.bB('set_textPage',arguments);this.aya(value);}catch(e){this.O('set_textPage',e);throw e;}},get_imGearPage:function(){try{var H=this.mo();this.aR('get_imGearPage',arguments,H);return H;}catch(e){this.O('get_imGearPage',e);throw e;}},set_imGearPage:function(value){try{this.bB('set_imGearPage',arguments);this.uF(value);}catch(e){this.O('set_imGearPage',e);throw e;}},add_textPageReady:function(handler){try{this.tL(handler);}catch(e){this.O('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xD(handler);}catch(e){this.O('remove_textPageReady',e);throw e;}},get_requireRequestsOptimize:function(){try{var H=this.oC();this.aR('get_requireRequestsOptimize',arguments,H);return H;}catch(e){this.O('oC',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bB('set_requireRequestsOptimize',arguments);this.sd(value);}catch(e){this.O('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var H=this.hL();this.aR('get_serviceResponseTimeout',arguments,H);return H;}catch(e){this.O('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bB('set_serviceResponseTimeout',arguments);this.sl(value);}catch(e){this.O('set_serviceResponseTimeout',e);throw e;}},get_encryption:function(){try{var H=this.eD();this.aR('get_encryption',arguments,H);return H;}catch(e){this.O('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bB('set_encryption',arguments);this.im(value);}catch(e){this.O('set_encryption',e);throw e;}}};IPCC.Web.UI.ThumbnailView.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ThumbnailView.registerClass('IPCC.Web.UI.ThumbnailView',IPCC.Sys.UI.Control);IPCC.fK=function(hA,ik,iU,jd,fm,eL){if(arguments.length===0){hA=jd=1;ik=iU=fm=eL=0;}this.age=function(){return hA*jd-ik*iU;};this.aFY=function(){return hA===1&&ik===0&&iU===0&&jd===1&&fm===0&&eL===0;};this.qq=function(){return hA;};this.pO=function(){return ik;};this.ta=function(){return iU;};this.va=function(){return jd;};this.AQ=function(){return fm;};this.zi=function(){return eL;};this.append=function(cV){var JP=hA*cV.qq()+ik*cV.ta();var JC=hA*cV.pO()+ik*cV.va();var LL=iU*cV.qq()+jd*cV.ta();var Mr=iU*cV.pO()+jd*cV.va();var Mf=fm*cV.qq()+eL*cV.ta()+cV.AQ();var Ld=fm*cV.pO()+eL*cV.va()+cV.zi();hA=JP;ik=JC;iU=LL;jd=Mr;fm=Mf;eL=Ld;};this.equals=function(L){if(hA!==L.qq()){return false;}if(ik!==L.pO()){return false;}if(iU!==L.ta()){return false;}if(jd!==L.va()){return false;}if(fm!==L.AQ()){return false;}if(eL!==L.zi()){return false;}return true;};this.yj=function(){if(!this.ajA()){throw new IPCC.Web.UI.ImGearArgumentException(null,'Matrix has no inverse');}var Gt=this.age();var JP=jd/Gt;var JC= -ik/Gt;var LL= -iU/Gt;var Mr=hA/Gt;var Mf=(iU*eL-jd*fm)/Gt;var Ld=(ik*fm-hA*eL)/Gt;hA=JP;ik=JC;iU=LL;jd=Mr;fm=Mf;eL=Ld;};this.zD=function(cV){var JP=cV.qq()*hA+cV.pO()*iU;var JC=cV.qq()*ik+cV.pO()*jd;var LL=cV.ta()*hA+cV.va()*iU;var Mr=cV.ta()*ik+cV.va()*jd;var Mf=cV.AQ()*hA+cV.zi()*iU+fm;var Ld=cV.AQ()*ik+cV.zi()*jd+eL;hA=JP;ik=JC;iU=LL;jd=Mr;fm=Mf;eL=Ld;};this.yC=function(kh,rG,oy,oq){fm-=oy;eL-=oq;this.scale(kh,rG);fm+=oy;eL+=oq;};this.aAh=function(){hA=jd=1;ik=iU=fm=eL=0;};this.transform=function(aT){var ae=aT.x*hA+aT.y*iU+fm;var fv=aT.y*jd+aT.x*ik+eL;return new IPCC.Web.UI.Point(ae,fv);};this.ow=function(WD,Xz){fm+=WD;eL+=Xz;};this.axk=function(L){if(Math.abs(hA-L.qq())>1e-8){return false;}if(Math.abs(ik-L.pO())>1e-8){return false;}if(Math.abs(iU-L.ta())>1e-8){return false;}if(Math.abs(jd-L.va())>1e-8){return false;}if(Math.abs(fm-L.AQ())>1e-8){return false;}if(Math.abs(eL-L.zi())>1e-8){return false;}return true;};this.toString=function(){return '{'+hA.toFixed(6)+', '+ik.toFixed(6)+', '+iU.toFixed(6)+', '+jd.toFixed(6)+', '+fm.toFixed(3)+', '+eL.toFixed(3)+'}';};this.parse=function(){};this.clone=function(){return new IPCC.fK(hA,ik,iU,jd,fm,eL);};this.Rq=function(ge){hA=ge.qq();ik=ge.pO();iU=ge.ta();jd=ge.va();fm=ge.AQ();eL=ge.zi();};this.afd=function(bu,bJ){hA=1;jd=bJ.hE*bu.fQ/(bu.hE*bJ.fQ);ik=iU=fm=eL=0;};this.WS=function(aE,bu,bJ){switch(aE){case IPCC.Web.UI.FitType.FullImage:this.adg(bu,bJ);break;case IPCC.Web.UI.FitType.FullWidth:this.aci(bu,bJ);break;case IPCC.Web.UI.FitType.FullHeight:this.acK(bu,bJ);break;case IPCC.Web.UI.FitType.ActualSize:this.acF(bu,bJ);break;case IPCC.Web.UI.FitType.OneToOne:if(!(bu.rA)){this.acF(bu,bJ);}else{this.arj(bu,bJ);}break;}};this.aci=function(bu,bJ){var nV=this.rV(bu);var AO=bJ.width-2;if(AO<1){AO=1;}var bP=AO/nV.width;this.scale(bP,bP);nV=this.rV(bu);if(nV.y<0){this.ow(0,-nV.y);}};this.acK=function(bu,bJ){var nV=this.rV(bu);var AO=bJ.height-2;if(AO<1){AO=1;}var bP=AO/nV.height;this.scale(bP,bP);nV=this.rV(bu);if(nV.x<0){this.ow(-nV.x,0);}};this.adg=function(bu,bJ){var nn=this.clone();nn.aci(bu,bJ);this.acK(bu,bJ);if(Math.max(Math.abs(hA),Math.abs(ik))>Math.max(Math.abs(nn.qq()),Math.abs(nn.pO()))){this.Rq(nn);}};this.acF=function(bu,bJ){var nV=this.rV({x:0,y:0,width:bu.fQ,height:bu.hE});var bP=bJ.fQ/nV.width;this.scale(bP,bP);};this.arj=function(bu,bJ){var nV=this.rV({x:0,y:0,width:1,height:1});var bP=1/Math.min(nV.width,nV.height);this.scale(bP,bP);if(Math.abs(hA-1)<0.0001){hA=1;}if(Math.abs(jd-1)<0.0001){jd=1;}};return this;};IPCC.fK.prototype.ajA=function(){return Math.abs(this.age())>1e-14;};IPCC.fK.prototype.rotate=function(AI){this.adD(AI,0,0);};IPCC.fK.prototype.adD=function(AI,oy,oq){var KF=AI*Math.PI*2/360;var jf=Math.sin(KF);var fI=Math.cos(KF);var cV=new IPCC.fK(fI,jf,-jf,fI,oy*(1-fI)+oq*jf,oq*(1-fI)-oy*jf);this.append(cV);};IPCC.fK.prototype.awI=function(AI,oy,oq){var KF=AI*Math.PI*2/360;var jf=Math.sin(KF);var fI=Math.cos(KF);var cV=new IPCC.fK(fI,jf,-jf,fI,oy*(1-fI)+oq*jf,oq*(1-fI)-oy*jf);this.zD(cV);};IPCC.fK.prototype.aGo=function(AI){this.awI(AI,0,0);};IPCC.fK.prototype.scale=function(kh,rG){var cV=new IPCC.fK(kh,0,0,rG,0,0);this.append(cV);};IPCC.fK.prototype.aDl=function(kh,rG,oy,oq){var cV=new IPCC.fK(kh,0,0,rG,oy*(1-kh),oq*(1-rG));this.zD(cV);};IPCC.fK.prototype.aEn=function(kh,rG){var cV=new IPCC.fK(kh,0,0,rG,0,0);this.zD(cV);};IPCC.fK.prototype.skew=function(qG,qg){var cV=new IPCC.fK(1,Math.tan(qg*Math.PI*2/360),Math.tan(qG*Math.PI*2/360),1,0,0);this.append(cV);};IPCC.fK.prototype.aEL=function(qG,qg){var cV=new IPCC.fK(1,Math.tan(qg*Math.PI*2/360),Math.tan(qG*Math.PI*2/360),1,0,0);this.zD(cV);};IPCC.fK.prototype.aER=function(WD,Xz){var cV=new IPCC.fK(1,0,0,1,WD,Xz);this.zD(cV);};IPCC.fK.prototype.uK=function(V){var hw=this.transform({x:V.x,y:V.y});var mD=hw.x;var pr=hw.x;var mO=hw.y;var oM=hw.y;hw=this.transform({x:V.x+V.width,y:V.y});mD=Math.min(mD,hw.x);pr=Math.max(pr,hw.x);mO=Math.min(mO,hw.y);oM=Math.max(oM,hw.y);hw=this.transform({x:V.x+V.width,y:V.y+V.height});mD=Math.min(mD,hw.x);pr=Math.max(pr,hw.x);mO=Math.min(mO,hw.y);oM=Math.max(oM,hw.y);hw=this.transform({x:V.x,y:V.y+V.height});mD=Math.min(mD,hw.x);pr=Math.max(pr,hw.x);mO=Math.min(mO,hw.y);oM=Math.max(oM,hw.y);return new IPCC.Web.UI.Rectangle(mD,mO,pr-mD,oM-mO);};IPCC.fK.prototype.apv=function(bu,bJ,ed){var ahF=this.clone();ahF.yj();var axT=ahF.transform({x:ed.x+ed.width/2,y:ed.y+ed.height/2});var bP=Math.min(bJ.width/ed.width,bJ.height/ed.height);bP-=1e-10;var jU=this.uy();if(jU*bP>bu.rq){bP=bu.rq/jU;}if(jU*bP<bu.ss){bP=bu.ss/jU;}this.scale(bP,bP);this.acz(bJ,axT);};IPCC.fK.prototype.Nc=function(bu,bJ,ef){this.apv(bu,bJ,this.uK(ef));};IPCC.fK.prototype.aDz=function(bJ){this.yC(1,-1,bJ.width/2,bJ.height/2);};IPCC.fK.prototype.aqa=function(bJ){this.yC(-1,1,bJ.width/2,bJ.height/2);};IPCC.fK.prototype.XT=function(aus,aeb){var aiI=this.transform(aus);this.ow(aeb.x-aiI.x,aeb.y-aiI.y);};IPCC.fK.prototype.acz=function(bJ,cb){var aex=this.transform(cb);this.ow(bJ.width/2-aex.x,bJ.height/2-aex.y);};IPCC.fK.prototype.kk=function(aQ,bJ){var ae=0,fv=0,end;var nP=this.rV(aQ);if(nP.width<bJ.width){ae=(bJ.width-nP.width)/2-nP.x;}else{end=nP.x+nP.width;if(end<bJ.width){ae=bJ.width-end;}if(nP.x>0){ae= -nP.x;}}if(nP.height<bJ.height){fv=(bJ.height-nP.height)/2-nP.y;}else{end=nP.y+nP.height;if(end<bJ.height){fv=bJ.height-end;}if(nP.y>0){fv= -nP.y;}}this.ow(ae,fv);};IPCC.fK.prototype.rV=function(aQ){return this.uK({x:0,y:0,width:aQ.width,height:aQ.height});};IPCC.fK.prototype.IV=function(){var jn,As,gO,AS,acN,iS;jn=this.transform({x:0,y:0});As=this.transform({x:0,y:1});gO=this.transform({x:1,y:0});AS=Math.atan2(As.y-jn.y,As.x-jn.x);acN=Math.atan2(gO.y-jn.y,gO.x-jn.x);iS=AS-acN;if(iS>Math.PI){iS=iS-2*Math.PI;}if(iS< -Math.PI){iS=iS+2*Math.PI;}return iS<0;};IPCC.fK.prototype.CU=function(){var jn,As,AS;jn=this.transform({x:0,y:0});As=this.transform({x:0,y:1});AS=Math.atan2(As.y-jn.y,As.x-jn.x)-Math.PI/2;if(AS<0){AS=AS+2*Math.PI;}return AS*360/(Math.PI*2);};IPCC.fK.prototype.uy=function(){var hH;var jn,pG;var ek,eZ,bj;jn=this.transform({x:0,y:0});pG=this.transform({x:1,y:0});ek=pG.x-jn.x;eZ=pG.y-jn.y;hH=ek*ek+eZ*eZ;pG=this.transform({x:0,y:1});ek=pG.x-jn.x;eZ=pG.y-jn.y;bj=Math.min(hH,ek*ek+eZ*eZ);pG=this.transform({x:1,y:1});ek=pG.x-jn.x;eZ=pG.y-jn.y;bj=Math.min(hH,ek*ek+eZ*eZ);pG=this.transform({x:1,y: -1});ek=pG.x-jn.x;eZ=pG.y-jn.y;bj=Math.min(hH,ek*ek+eZ*eZ);return Math.sqrt(hH);};IPCC.fK.aEH=function(){return new IPCC.fK(1,0,0,1,0,0);};IPCC.FD=function(aa,dj,fQ,hE){this.width=aa;this.height=dj;this.fQ=fQ;this.hE=hE;return this;};IPCC.FD.prototype=new IPCC.Web.UI.Rectangle(0,0,0,0);IPCC.FD.prototype.toString=function(){return 'Space('+this.width+' x '+this.height+', '+this.fQ+', '+this.hE+')';};IPCC.ht=function(mN,aH,aa,dj,fQ,hE){this.width=aa;this.height=dj;this.fQ=fQ;this.hE=hE;this.aH=aH||0;this.eB=0;this.rA=true;this.aef={};this.Cf=false;var C=this;this.aH=aH;this.get_url=function(hb,eF,bL){eF=eF||'Image';bL=bL||'';var Gv=IPCC.ht.IY(mN);var CV=false;if(/^[\x00-\x7F]*$/.test(Gv)){CV=true;}if(bL===null||bL===''){if(eF==='Attributes'){var sN='';if(!IPCC.wU.Av()){sN='&ContentType=png';}if(!CV){return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=e'+mN+sN;}else{return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=u'+encodeURIComponent(Gv)+sN;}}else{if(eF==='SvgImage'){if(!CV){return hb+'/Page/q/'+aH.toString()+'?DocumentID=e'+mN+'&'+bL;}else{return hb+'/Page/q/'+aH.toString()+'?DocumentID=u'+encodeURIComponent(Gv)+'&'+bL;}}if(!CV){return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=e'+mN+'&'+bL;}else{return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=u'+encodeURIComponent(Gv)+'&'+bL;}}}else{if(eF==='SvgImage'){if(!CV){return hb+'/Page/q/'+aH.toString()+'?DocumentID=e'+mN+'&'+bL;}else{return hb+'/Page/q/'+aH.toString()+'?DocumentID=u'+encodeURIComponent(Gv)+'&'+bL;}}if(!CV){return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=e'+mN+'&'+bL;}else{return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=u'+encodeURIComponent(Gv)+'&'+bL;}}};this.get_urlArt=function(hb,eF,bL){eF=eF||'Art';bL=bL||'';if(bL===null||bL===''){if(eF==='Art'){return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=e'+mN;}}else{return hb+'/Page/q/'+aH.toString()+'/'+eF+'?DocumentID=e'+mN+'&'+bL;}};this.get_identifier=function(){return IPCC.ht.IY(mN);};this.get_encodedIdentifier=function(){return mN;};this.toString=function(){return 'Image("'+mN+'", '+this.aH+', '+this.width+' x '+this.height+', '+this.fQ+', '+this.hE+')';};function ajR(apk,T){if(T.Jy()){C.rA=true;C.Cf=false;return;}var YF=apk.split(',');var kR=false;for(var aA=0;aA<YF.length;aA++){if(YF[aA]==="SVG"||YF[aA]==="svg"){if(IPCC.wU.Av()){C.Cf=true;C.rA=false;}else{C.Cf=false;}kR=true;break;}}if(!kR){C.Cf=false;C.rA=true;}if(T){if(T.Sa){T.Sa(C.Cf);}}};this.GQ=function(hb,T,zy){T.aH=this.aH;var kq=0;var mR=T.oC();if(mR){if(document.documentMode<9){mR=false;}}var hQ=true;if(T.hL()===0){hQ=false;}var nx=function(fg){try{if(fg===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}if(fg.errorCode){if(fg.errorCode==='SvgNotAvailable'){mR=false;C.width= +(fg.pageAttributes.imageWidth);C.height= +(fg.pageAttributes.imageHeight);C.fQ= +(fg.pageAttributes.imageXResolution);if(C.fQ<=0){C.fQ=72;}C.hE= +(fg.pageAttributes.imageYResolution);if(C.hE<=0){C.hE=72;}C.eB= +(fg.pageAttributes.pageCount);C.rA=fg.pageAttributes.isRaster!=='false';ajR(fg.pageAttributes.contentType,T);}}else{C.width= +(fg.imageWidth);C.height= +(fg.imageHeight);C.fQ= +(fg.imageXResolution);if(C.fQ<=0){C.fQ=72;}C.hE= +(fg.imageYResolution);if(C.hE<=0){C.hE=72;}C.eB= +(fg.pageCount);C.rA=fg.isRaster!=='false';ajR(fg.contentType,T);}var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");var HX=false;if(mb==="true"){HX=true;}T.acA(HX);if(zy){zy();}}catch(e){T.O('openPage',e);if(typeof(T.bo)==='function'){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};var aN=new XMLHttpRequest(),rX,jN,TY=function(){rX=null;jN=true;aN.abort();},QQ=function(){jN=false;rX=setTimeout(TY,T.hL());},Mh=function(){if(!rX){return;}clearTimeout(rX);rX=null;};function LC(){mR=false;if(kq<1){aN.open('GET',C.get_url(hb,'Attributes'),true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=lN;kq++;if(hQ===true){QQ();}aN.send();}};var awk=function(gZ){var aa;var dj;function aso(){var ML;try{if(typeof JSON!=='undefined'){ML=JSON.parse(gZ);}else{ML=IPCC.cJ.pu(gZ);}}catch(an){ML=undefined;mR=true;}return ML;};try{aa=gZ.match(/width=\"([0-9.]+)\"/);dj=gZ.match(/height=\"([0-9.]+)\"/);if(aa&&dj){aa=Number(aa[1]);dj=Number(dj[1]);}else{throw "error";}if(isNaN(aa)||isNaN(dj)){throw "error";}C.width=aa;C.height=dj;C.fQ=72;C.hE=72;C.Cf=true;C.rA=false;if(T){if(typeof(T.Sa==='function')){T.Sa(C.Cf);}}if(zy){zy();}}catch(e){var aU=aso();if(aU){nx(aU,aN.status);return;}if(mR){if(kq<1){mR=false;setTimeout(LC,10);return;}}T.O('openPage',e);if(typeof(T.bo)==='function'){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};function lN(){try{var da,aU,dP,lh;var kx;var iK=da;if(aN.readyState===4){da=aN.status;if(aN.status===200){aU=null;try{if(hQ===true){Mh();}if(!mR){if(typeof JSON!=='undefined'){aU=JSON.parse(aN.responseText);}else{aU=IPCC.cJ.pu(aN.responseText);}nx(aU,aN.status);}else{var lb;var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'&&T.eD()===true){var rR=IPCC.Web.fR.oE.rK(aN.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,gT);var dw=IPCC.Web.Fk(aN);var sM=IPCC.Web.Ba(dw,aI,gT);lb=IPCC.Web.fR.Cn.mW(sM);}else{lb=aN.responseText;}var Gy;if(lb.length>=1000){Gy=lb.substring(0,1000);}else{Gy=lb.substring(0,lb.length);}awk(Gy);}}catch(ex){if(mR){mR=false;if(kq<1){setTimeout(LC,10);return;}}dP="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dP);}}else if((da<200)||(da>=300)){if(hQ===true){Mh();}if(da===480){kq++;if(aN.statusText&&aN.statusText!==""){dP=dP="PDF file password required, error message from the server: "+aN.statusText;}else{dP="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}if(da===403){kq++;if(aN.statusText&&aN.statusText!==""){dP="Expired viewer session ID, error message from the server: "+aN.statusText;}else{dP="Expired viewer session ID. Np error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}if(mR){mR=false;if(kq<1){setTimeout(LC,10);return;}}iK=aN.status;lh=aN.getResponseHeader('Accusoft-Status-Message');if(lh){var op;kx=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(kx)){op=parseInt(kx,10);}throw new IPCC.Web.UI.ImGearHttpException(iK,lh,op);}else if(jN){throw new IPCC.Web.UI.ImGearHttpException(iK,"Client timed out on load");}else{if(aN.statusText&&aN.statusText!==""){dP="Error message from the service: "+aN.statusText;}else{dP="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iK,dP);}}}}catch(e){if(mR){mR=false;if(kq<1){setTimeout(LC,10);return;}}T.O('openPage',e);if(typeof(T.bo)==='function'){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};var gT=IPCC.Web.ot.Qo(4,IPCC.Web.PM());var me=IPCC.Web.fR.EH.mW(gT);if(!mR){aN.open('GET',this.get_url(hb,'Attributes'),true);aN.setRequestHeader('Content-Type','application/json');}else{var dc;if(T.eD()===true){gT=IPCC.Web.ot.aat(4,IPCC.Web.PM());me=IPCC.Web.fR.EH.mW(gT);if(document.documentMode===10||IPCC.bb.zz){dc=this.get_url(hb,'SvgImage','Scale=1&ContentType=svg'+'&iv='+me);}else{dc=this.get_url(hb,'SvgImage','Scale=1&ContentType=svga'+'&iv='+me);}}else{if(document.documentMode===10||IPCC.bb.zz){dc=this.get_url(hb,'SvgImage','Scale=1&ContentType=svg');}else{dc=this.get_url(hb,'SvgImage','Scale=1&ContentType=svga');}}aN.open('GET',dc,true);aN.responseType='text';aN.open('GET',dc,true);}aN.onreadystatechange=lN;if(hQ===true){QQ();}aN.send();};this.ayq=function(hb,T,zy){T.aH=this.aH;var kq=0;var hQ=true;if(T.hL()===0){hQ=false;}var nx=function(fg){try{if(fg===null){throw new IPCC.Web.UI.ImGearArgumentException(null,'Unable to load the specified image. Failed to obtain Image attributes. Returned JSON from the server is null');}C.width= +(fg.imageWidth);C.height= +(fg.imageHeight);C.fQ= +(fg.imageXResolution);if(C.fQ<=0){C.fQ=72;}C.hE= +(fg.imageYResolution);if(C.hE<=0){C.hE=72;}C.eB= +(fg.pageCount);C.rA=true;var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");var HX=false;if(mb==="true"){HX=true;}T.acA(HX);if(zy){zy();}}catch(e){T.O('openPage',e);if(typeof(T.bo)==='function'){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};var aN=new XMLHttpRequest(),rX,jN,TY=function(){rX=null;jN=true;aN.abort();},QQ=function(){jN=false;rX=setTimeout(TY,T.hL());},Mh=function(){if(!rX){return;}clearTimeout(rX);rX=null;};function lN(){try{var da,aU,dP,lh;var kx;var iK=da;if(aN.readyState===4){da=aN.status;if(aN.status===200){aU=null;try{if(hQ===true){Mh();}if(typeof JSON!=='undefined'){aU=JSON.parse(aN.responseText);}else{aU=IPCC.cJ.pu(aN.responseText);}nx(aU,aN.status);}catch(ex){dP="Attributes parsing error, Error meesage = "+ex.message;throw new IPCC.Web.UI.ImGearArgumentException(null,dP);}}else if((da<200)||(da>=300)){if(hQ===true){Mh();}if(da===480){kq++;if(aN.statusText&&aN.statusText!==""){dP=dP="PDF file password required, error message from the server: "+aN.statusText;}else{dP="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}if(da===403){kq++;if(aN.statusText&&aN.statusText!==""){dP="Expired viewer session ID, error message from the server: "+aN.statusText;}else{dP="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}iK=aN.status;lh=aN.getResponseHeader('Accusoft-Status-Message');if(lh){var op;kx=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(kx)){op=parseInt(kx,10);}throw new IPCC.Web.UI.ImGearHttpException(iK,lh,op);}else if(jN){throw new IPCC.Web.UI.ImGearHttpException(iK,"Client timed out on load");}else{if(aN.statusText&&aN.statusText!==""){dP="Error message from the service: "+aN.statusText;}else{dP="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iK,dP);}}}}catch(e){T.O('openPageForRaster',e);if(typeof(T.bo)==='function'){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};aN.open('GET',this.get_url(hb,'Attributes'),true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=lN;if(hQ===true){QQ();}aN.send();};return this;};IPCC.ht.prototype=new IPCC.FD(0,0,0,0);IPCC.ht.prototype.clone=function(){var TX=new IPCC.ht(this.get_encodedIdentifier(),this.aH,this.width,this.height,this.fQ,this.hE);TX.eB=this.eB;TX.rA=this.rA;return TX;};IPCC.ht.prototype.equals=function(L){if(this.get_encodedIdentifier()!==L.get_encodedIdentifier()){return false;}if(this.aH!==L.aH){return false;}return true;};IPCC.ht.prototype.rq=8;IPCC.ht.prototype.ss=0.000001;IPCC.ht.TF=function(bL){var JF=bL.referenceDocumentIdentifier;var acJ=IPCC.ht.so(JF);var gB=bL.encodedDocumentIdentifier;var jV=bL.documentIdentifier;var eT;if(gB===''){gB=undefined;}if(jV===''){jV=undefined;}if(JF&&JF!==''){if(gB===acJ){gB=undefined;}if(jV===JF){jV=undefined;}}if(jV){eT=IPCC.ht.so(jV);if(gB){if(gB!==eT){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedDocumentIdentifier must reference the same document (and encodedDocumentIdentifier must be base64-encoded).');}}else{gB=eT;}}else{if(gB){jV=IPCC.ht.IY(gB);}}if(!gB){jV=JF;gB=acJ;}var bI=bL.pageNumber;var acx=bL.referencePageNumber;if(bI===acx){bI=undefined;}if(bI!==0&& !bI){bI=acx;}bL.encodedDocumentIdentifier=gB;bL.documentIdentifier=jV;bL.pageNumber=bI;};IPCC.ht.so=function(kw){if(!kw||kw===''){return '';}var mz=[];var F;for(F=0;F<kw.length;F++){mz.push(kw.charCodeAt(F)%256);mz.push(Math.floor(kw.charCodeAt(F)/256));}mz.push(0);mz.push(0);var RW='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_';var nM=[],uW;for(F=0;F<mz.length-1;F+=3){uW=mz[F]*0x10000+mz[F+1]*0x100+mz[F+2];nM.push(RW.charAt(Math.floor(uW/0x40000)));nM.push(RW.charAt(Math.floor(uW/0x1000)%0x40));nM.push(RW.charAt(Math.floor(uW/0x40)%0x40));nM.push(RW.charAt(uW%0x40));}var Zz=Math.ceil(kw.length*16/6);while(nM.length>Zz){nM.pop();}if((nM.length%4)===3){nM.push('1');}else if((nM.length%4)===2){nM.push('2');}else if((nM.length%4)===0){nM.push('0');}return nM.join('');};IPCC.ht.IY=function(mN){if(!mN||mN===''){return '';}var ajs=mN.length-1;var MY=[],uW;var sQ,mz=[],qN=[];var F;for(F=0;F<ajs;F++){sQ=mN.charCodeAt(F);if(sQ>64&&sQ<91){qN.push(sQ-65);}else if(sQ>96&&sQ<123){qN.push(sQ-97+26);}else if(sQ>47&&sQ<58){qN.push(sQ-48+52);}else if(sQ===45){qN.push(62);}else if(sQ===95){qN.push(63);}else{return '';}}qN.push(0);qN.push(0);qN.push(0);for(F=0;F<qN.length-3;F+=4){uW=qN[F]*0x40000+qN[F+1]*0x1000+qN[F+2]*0x40+qN[F+3];mz.push(Math.floor(uW/0x10000));mz.push(Math.floor(uW/0x100)%256);mz.push(uW%256);}for(F=0;F<mz.length-1;F+=2){MY.push(String.fromCharCode(mz[F]+mz[F+1]*0x100));}var Zz=Math.floor(ajs*6/16);while(MY.length>Zz){MY.pop();}return MY.join('');};IPCC.tQ=function(){this.aV=false;this.T=false;};IPCC.tQ.prototype.mx=function(T){T.bV().set_cursor(IPCC.bi.Magnifier);this.T=T;};IPCC.tQ.prototype.fe=function(){this.T=false;};IPCC.tQ.prototype.bC=function(){if(this.aV){this.T.bV().hideMagnifier();this.T.bV().set_cursor(this.jh);this.aV=false;}};IPCC.tQ.prototype.sV=function(){this.bC();};IPCC.tQ.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){this.jh=this.T.bV().get_cursor();this.T.bV().set_cursor(IPCC.bi.None);this.aV=true;this.T.bV().showMagnifier(R.windowPoint);this.T.dF();}};IPCC.tQ.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){this.T.bV().showMagnifier(R.windowPoint);this.T.dF();}};IPCC.tQ.prototype.hK=function(){this.bC();this.T.dF();};IPCC.tQ.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.ou=function(){this.aV=false;this.T=false;};IPCC.ou.prototype.mx=function(T){T.bV().set_cursor(IPCC.bi.RectangleZoom);this.T=T;};IPCC.ou.prototype.fe=function(){this.T=false;};IPCC.ou.prototype.bC=function(){if(this.aV){this.T.bV().og();this.T.bV().set_cursor(this.jh);this.aV=false;this.T.dF();}};IPCC.ou.prototype.sV=function(){this.bC();this.T.dF();};IPCC.ou.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(IPCC.bi.RectangleZoom);this.aV=true;aB.FK(R.constrainedImagePoint);this.sP=R.windowPoint;this.T.dF();}};IPCC.ou.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){var aB=this.T.bV();aB.Bg(R.constrainedImagePoint);this.T.dF();}};IPCC.ou.prototype.hK=function(R){if(this.aV&&R.domEvent.button===0){var eT=R.windowPoint.x-this.sP.x;var hH=eT*eT;eT=R.windowPoint.y-this.sP.y;hH+=eT*eT;if(hH>25){var T=this.T;var aB=T.bV();var bx=aB.gI();var bJ=T.fq();var avo=bJ.width;var awV=bJ.height;var bu=T.du();aB.Bg(R.constrainedImagePoint);var kG=aB.xv();aB.og();T.bo('userModifiedViewState',{});bx.Nc(bu,bJ,kG);bx.kk(bu,bJ);aB.hW(bx);T.dF();if(avo!==bJ.width||awV!==bJ.height){bx=aB.gI();bx.Nc(bu,bJ,kG);bx.kk(bu,bJ);aB.hW(bx);}}}this.bC();};IPCC.ou.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.ou.prototype.mw=function(){this.bC();};IPCC.si=function(){this.aV=false;this.T=false;};IPCC.si.prototype.mx=function(T){T.bV().set_cursor(IPCC.bi.HandOpen);this.T=T;};IPCC.si.prototype.fe=function(){this.T=false;};IPCC.si.prototype.bC=function(){if(this.aV){this.T.bV().set_cursor(this.jh);this.aV=false;}};IPCC.si.prototype.sV=function(){this.bC();};IPCC.si.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){this.jh=this.T.bV().get_cursor();this.T.bV().set_cursor(IPCC.bi.HandClosed);this.aV=true;this.Rk=R.imagePoint;}};IPCC.si.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){var T=this.T;var aB=T.bV();var bx=aB.gI();var bJ=T.fq();bx.XT(this.Rk,R.windowPoint);bx.kk(T.du(),bJ);T.bo('userModifiedViewState',{});aB.hW(bx);T.dF();}};IPCC.si.prototype.hK=function(){this.bC();};IPCC.si.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.si.prototype.mw=function(){this.bC();};IPCC.sU=function(){this.aV=false;this.T=false;};IPCC.sU.prototype.mx=function(T){T.bV().set_cursor(IPCC.bi.Crosshair);this.T=T;};IPCC.sU.prototype.fe=function(){this.T=false;};IPCC.sU.prototype.bC=function(){if(this.aV){this.T.og();this.T.bV().set_cursor(this.jh);this.aV=false;this.T.dF();}};IPCC.sU.prototype.sV=function(){this.bC();};IPCC.sU.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(IPCC.bi.Crosshair);this.aV=true;aB.FK(R.constrainedImagePoint);this.T.dF();}};IPCC.sU.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){var aB=this.T.bV();aB.Bg(R.constrainedImagePoint);this.T.dF();}};IPCC.sU.prototype.hK=function(R){if(R.domEvent.button===0){this.aV=false;}this.bC();};IPCC.sU.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.sU.prototype.mw=function(){this.bC();};IPCC.er=function(){this.T=false;this.aoD=1.5;};IPCC.er.prototype.mx=function(T){this.T=T;};IPCC.er.prototype.fe=function(){this.T=false;};IPCC.er.prototype.bC=function(){};IPCC.er.prototype.mw=function(R){var aB=this.T.bV();var bu=this.T.du();var bJ=this.T.fq();var bx=aB.gI();var Pw=R.wheelDelta/120;if(R.domEvent.ctrlKey){R.domEvent.preventDefault();var bP=((this.aoD-1)/2)+1;if(Pw<0){bP=1/bP;}var jU=bx.uy();if(jU*bP>bu.rq){bP=bu.rq/jU;}if(jU*bP<bu.ss){bP=bu.ss/jU;}bx.yC(bP,bP,R.windowPoint.x,R.windowPoint.y);bx.kk(bu,bJ);this.T.bo('userModifiedViewState',{});aB.hW(bx);}else{var aaa=bx.transform({x:0,y:0});bx.ow(0,Pw*bJ.hE);bx.kk(bu,bJ);var aaY=bx.transform({x:0,y:0});if(Math.abs(aaa.x-aaY.x)>0.001||Math.abs(aaa.y-aaY.y)>0.001){R.domEvent.preventDefault();this.T.bo('userModifiedViewState',{});aB.hW(bx);}}this.T.dF();};IPCC.fC=function(aC){this.aV=false;this.T=false;this.aC=aC;switch(this.aC){case IPCC.Web.UI.MarkType.Rectangle:this.ab=IPCC.bi.AddRectangleMark;break;case IPCC.Web.UI.MarkType.Ellipse:this.ab=IPCC.bi.AddEllipseMark;break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.TextLine:this.ab=IPCC.bi.AddTextMark;break;case IPCC.Web.UI.MarkType.Stamp:this.ab=IPCC.bi.AddStampMark;break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:this.ab=IPCC.bi.AddImageStampMark;break;case IPCC.Web.UI.MarkType.RectangleRedaction:this.ab=IPCC.bi.AddRectangleRedactionMark;break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.ab=IPCC.bi.AddRectangleMark;break;}};IPCC.fC.prototype.mx=function(T){T.bV().set_cursor(this.ab);this.T=T;};IPCC.fC.prototype.fe=function(){this.T=false;};IPCC.fC.prototype.bC=function(){if(this.aV){this.J=null;this.T.oe(null);this.T.bV().set_cursor(this.jh);this.aV=false;this.T.dF();}};IPCC.fC.prototype.sV=function(){this.bC();};IPCC.fC.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(this.ab);this.aV=true;this.J=new IPCC.Web.UI.Mark(this.aC);this.J.set_rectangle({x:R.imagePoint.x,y:R.imagePoint.y,width:0,height:0});this.T.oe(this.J);this.sX=R.imagePoint;this.sP=R.windowPoint;}};IPCC.fC.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){var nj={x:Math.min(R.imagePoint.x,this.sX.x),y:Math.min(R.imagePoint.y,this.sX.y)};nj.width=Math.max(R.imagePoint.x,this.sX.x)-nj.x;nj.height=Math.max(R.imagePoint.y,this.sX.y)-nj.y;this.J.set_rectangle(nj);this.T.dF();}};IPCC.fC.prototype.hK=function(R){if(this.aV&&R.domEvent.button===0){var eT=R.windowPoint.x-this.sP.x;var hH=eT*eT;eT=R.windowPoint.y-this.sP.y;hH+=eT*eT;if(hH>25){var nj={x:Math.min(R.imagePoint.x,this.sX.x),y:Math.min(R.imagePoint.y,this.sX.y)};nj.width=Math.max(R.imagePoint.x,this.sX.x)-nj.x;nj.height=Math.max(R.imagePoint.y,this.sX.y)-nj.y;this.T.oe(null);this.J.set_rectangle(nj);var as=this.J;var T=this.T;var qC={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.T.ft().addMark(this.J,qC);if(as.lo()===IPCC.Web.UI.MarkType.Text||as.lo()===IPCC.Web.UI.MarkType.TextLine){T.xM(as);}T.dF();}}this.bC();};IPCC.fC.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.fC.prototype.mw=function(){this.bC();};IPCC.pz=function(){this.aV=false;this.T=false;this.ab=IPCC.bi.AddLineMark;};IPCC.pz.prototype.mx=function(T){T.bV().set_cursor(this.ab);this.T=T;};IPCC.pz.prototype.fe=function(){this.T=false;};IPCC.pz.prototype.bC=function(){if(this.aV){this.J=null;this.T.oe(null);this.T.bV().set_cursor(this.jh);this.aV=false;this.T.dF();}};IPCC.pz.prototype.sV=function(){this.bC();};IPCC.pz.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(this.ab);this.aV=true;this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);this.J.get_points().setPoint(0,R.imagePoint);this.J.get_points().setPoint(1,R.imagePoint);this.T.oe(this.J);this.sX=R.imagePoint;this.sP=R.windowPoint;}};IPCC.pz.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){this.J.get_points().setPoint(1,R.imagePoint);this.T.dF();}};IPCC.pz.prototype.hK=function(R){if(this.aV&&R.domEvent.button===0){var eT=R.windowPoint.x-this.sP.x;var hH=eT*eT;eT=R.windowPoint.y-this.sP.y;hH+=eT*eT;if(hH>25){var T=this.T;var qC={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.J.get_points().setPoint(1,R.imagePoint);this.T.oe(null);this.T.ft().addMark(this.J,qC);T.dF();}}this.bC();};IPCC.pz.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.pz.prototype.mw=function(){this.bC();};IPCC.nI=function(){this.aV=false;this.T=false;this.ab=IPCC.bi.AddFreehandMark;};IPCC.nI.prototype.mx=function(T){T.bV().set_cursor(this.ab);this.T=T;};IPCC.nI.prototype.fe=function(){this.T=false;};IPCC.nI.prototype.bC=function(){if(this.aV){this.J=null;this.qo=null;this.T.oe(null);this.T.bV().set_cursor(this.jh);this.aV=false;}};IPCC.nI.prototype.sV=function(){this.bC();};IPCC.nI.prototype.kH=function(R){this.bC();if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(this.ab);this.aV=true;this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);this.J.get_points().addPoint(R.imagePoint);this.qo=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);this.T.oe(this.J,this.qo);this.J.set_lineWidth(this.qo.gz);this.J.set_lineColor(this.qo.hF);this.J.set_opacity(this.qo.db);this.sX=R.imagePoint;this.sP=R.windowPoint;this.T.dF();}};IPCC.nI.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){this.J.get_points().addPoint(R.imagePoint);this.T.dF();}};IPCC.nI.prototype.hK=function(R){if(this.aV&&R.domEvent.button===0){this.J.get_points().addPoint(R.imagePoint);var amM=this.J.get_points();var bv=[];var hd=Number.MAX_VALUE,gO=0,_top=Number.MAX_VALUE,iT=0;var F=0;for(F=0;F<amM.get_length();F++){var uU=amM.getPoint(F);if(uU.x<hd){hd=uU.x;}if(uU.x>gO){gO=uU.x;}if(uU.y<_top){_top=uU.y;}if(uU.y>iT){iT=uU.y;}bv.push({x:uU.x,y:uU.y});}var AR=3;var vb;var rF=(bv.length<AR)?bv:IPCC.bb.filter(bv,function(aS){if(vb){var ae=aS.x-vb.x,fv=aS.y-vb.y,ew=ae*ae+fv*fv;if(Math.sqrt(ew)<4){return false;}}aS.x=aS.x-hd;aS.y=aS.y-_top;vb=aS;return true;});if(rF.length<AR){rF=[bv[0],bv[bv.length-1]];}var cO='';vb=undefined;if(rF.length<AR){cO+=this.Qc(rF);}else{cO='M'+IPCC.bb.bspline(rF);cO=cO.replace(/\d*\.?\d*/g,function(cg){var JW=cg.indexOf('.');if(cg.length&&JW>0){return cg.substr(0,JW+3);}else if(cg!==""){return cg;}else{return cg;}});}var aa=gO-hd;var dj=iT-_top;var qC={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.qo.set_rectangle({x:hd,y:_top,width:aa,height:dj});this.qo.set_pathString(cO);this.qo.set_pathWidth(aa);this.qo.set_pathHeight(dj);this.T.oe(null);this.T.ft().addMark(this.qo,qC);this.T.dF();}this.bC();};IPCC.nI.prototype.Qc=function(fU,GV){var SU=(GV&&IPCC.bb.BX)?'m':'M';var Zc=(GV&&IPCC.bb.BX)?'l':'L';return IPCC.bb.map(fU,function(aS,F){if(F===0){return SU+aS.x+','+aS.y;}else{return Zc+aS.x+','+aS.y;}}).join('');};IPCC.nI.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.nI.prototype.mw=function(){this.bC();};IPCC.oA=function(aC){this.aV=false;this.T=false;this.aC=aC;switch(this.aC){case IPCC.Web.UI.MarkType.Polygon:this.ab=IPCC.bi.AddPolygonMark;break;case IPCC.Web.UI.MarkType.Polyline:this.ab=IPCC.bi.AddPolylineMark;this.YV=false;break;}};IPCC.oA.prototype.mx=function(T){T.bV().set_cursor(this.ab);this.T=T;};IPCC.oA.prototype.fe=function(){this.T=false;};IPCC.oA.prototype.bC=function(){if(this.aV){if(arguments[0]){if(arguments[0]===true){if(this.J&&this.YV===false){this.T.ft().addMark(this.J);this.YV=true;this.T.dF();}}}this.J=null;this.T.oe(null);this.T.bV().set_cursor(this.jh);this.aV=false;this.T.dF();}};IPCC.oA.prototype.sV=function(){this.bC();};IPCC.oA.prototype.kH=function(R){if(R.domEvent.button===0){if(!this.aV){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(this.ab);this.aV=true;this.J=new IPCC.Web.UI.Mark(this.aC);this.J.get_points().addPoint(R.imagePoint);this.T.oe(this.J);}var bv=this.J.get_points();if(bv.get_length()>0){bv.setPoint(bv.get_length()-1,R.imagePoint);}bv.addPoint(R.imagePoint);this.sX=R.imagePoint;this.sP=R.windowPoint;this.T.dF();}else{this.bC();}};IPCC.oA.prototype.xb=function(R){if(this.aV&&R.domEvent.button===0){var bv=this.J.get_points(),cT=bv.get_length(),Zk,ZE;if(cT>2){var acD=true;while(acD){cT=bv.get_length();Zk=bv.getPoint(cT-1);ZE=bv.getPoint(cT-2);if(Zk.x===ZE.x&&Zk.y===ZE.y){bv.removePoint(cT-1);}else{acD=false;}}}if(bv.get_length()>0){bv.setPoint(bv.get_length()-1,R.imagePoint);}this.T.oe(null);var qC={clientX:R.domEvent.clientX,clientY:R.domEvent.clientY};this.T.ft().addMark(this.J,qC);this.YV=true;this.T.dF();}this.bC();};IPCC.oA.prototype.kT=function(R){if(R.domEvent.button!==0){this.bC();}if(this.aV){var bv=this.J.get_points();if(bv.get_length()>0){bv.setPoint(bv.get_length()-1,R.imagePoint);}this.T.dF();}};IPCC.oA.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.oA.prototype.mw=function(){this.bC();};IPCC.iE=true;IPCC.ff={adr:1,adv:2,ZD:3,ajg:4,akG:5,Km:6,Mz:7,anu:8,alH:9,ajW:10,ako:11,akV:12,akI:13,ahm:14,acf:15,afm:16};IPCC.acs=null;IPCC.gW=function(SL,ayw){this.T=false;this.SL=SL;var mQ=IPCC.Web.UI;var af=ayw;if(!af||af===null){af=IPCC.acs;}this.af=af;var amC={al:af.zoomInMenuItem,fB:IPCC.ff.adr,L:1.25};var apc={al:af.zoomOutMenuItem,fB:IPCC.ff.adv,L:1.25};var aAd={al:af.fullImageMenuItem,L:mQ.FitType.FullImage};var azB={al:af.fullWidthMenuItem,L:mQ.FitType.FullWidth};var azg={al:af.fullHeightMenuItem,L:mQ.FitType.FullHeight};var axn={al:af.oneToOneRatioMenuItem,L:mQ.FitType.OneToOne};var aqV={al:af.actualSizeMenuItem,L:mQ.FitType.ActualSize};var avQ={al:af.rotateRightMenuItem,fB:IPCC.ff.ZD,L:90};var awa={al:af.rotateLeftMenuItem,fB:IPCC.ff.ZD,L: -90};var auC={al:af.mirrorHorizontalMenuItem,fB:IPCC.ff.ajg};var atA={al:af.mirrorVerticalMenuItem,fB:IPCC.ff.akG};var Sm={al:af.panToolMenuItem,L:mQ.MouseTool.HandPan};var TK={al:af.areaSelectionToolMenuItem,L:mQ.MouseTool.Select};var Vr={al:af.zoomRectangleToolMenuItem,L:mQ.MouseTool.RectangleZoom};var YZ={al:af.flyingMagnifierToolMenuItem,L:mQ.MouseTool.Magnifier};var anT={al:af.createTextMarkToolMenuItem,L:mQ.MouseTool.CreateTextMark};var amF={al:af.createLineMarkToolMenuItem,L:mQ.MouseTool.CreateLineMark};var aom={al:af.createRectangleMarkToolMenuItem,L:mQ.MouseTool.CreateRectangleMark};var anv={al:af.createEllipseMarkToolMenuItem,L:mQ.MouseTool.CreateEllipseMark};var aql={al:af.editMarksToolMenuItem,L:mQ.MouseTool.EditMarks};var aoN={al:af.createStampMarkToolMenuItem,L:mQ.MouseTool.CreateStampMark};var amz={al:af.createHighlightMarkToolMenuItem,L:mQ.MouseTool.CreateHighlightTextMark};var aaP={aa:55,bY:[{al:af.thicknessMenu.item1,L:1},{al:af.thicknessMenu.item2,L:2},{al:af.thicknessMenu.item3,L:3},{al:af.thicknessMenu.item4,L:4},{al:af.thicknessMenu.item5,L:5},{al:af.thicknessMenu.item6,L:6},{al:af.thicknessMenu.item7,L:7},{al:af.thicknessMenu.item8,L:8}]};var ayS={aa:145,bY:[{al:af.opacityMenu.translucent,L:127},{al:af.opacityMenu.opaque,L:255}]};var OC={al:af.borderThicknessMenuItem,fB:IPCC.ff.Km,ct:'lineWidth',lP:aaP};var PW={al:af.borderColorMenuItem,fB:IPCC.ff.Mz,ct:'lineColor'};var Kr={al:af.fillColorMenuItem,fB:IPCC.ff.Mz,ct:'fillColor'};var agW={al:af.lineThicknessMenuItem,fB:IPCC.ff.Km,ct:'lineWidth',lP:aaP};var agI={al:af.lineColorMenuItem,fB:IPCC.ff.Mz,ct:'lineColor'};var aAk={al:af.fontMenuItem,fB:IPCC.ff.anu};var MI={al:af.opacityMenuItem,fB:IPCC.ff.Km,ct:'opacity',lP:ayS};var aym={al:af.moveToBackMenuItem,fB:IPCC.ff.ajW};var ayU={al:af.moveBackwardMenuItem,fB:IPCC.ff.ako};var axu={al:af.moveForwardMenuItem,fB:IPCC.ff.akV};var ayN={al:af.moveToFrontMenuItem,fB:IPCC.ff.akI};var vl={al:af.deleteMarkMenuItem,fB:IPCC.ff.ahm};var aoF={aa:180,bY:[aAd,azB,azg,axn,aqV]};var aoR={al:af.zoomToFitMenuItem,fB:IPCC.ff.acf,lP:aoF};var axr={aa:200,bY:[avQ,awa,auC,atA]};var awl={al:af.orientationMenuItem,lP:axr};var NV;if(IPCC.ah){if(IPCC.iE===false){NV={aa:180,bY:[Sm,Vr,YZ,TK,null]};}else{NV={aa:180,bY:[Sm,Vr,YZ,TK,null,aql,anT,amF,aom,anv,aoN,amz]};}}else{NV={aa:180,bY:[Sm,Vr,YZ,TK]};}var awD={al:af.mouseToolsMenuItem,fB:IPCC.ff.afm,lP:NV};var axJ={aa:150,bY:[Kr,OC,PW,null,MI]};var aoj={aa:150,bY:[Kr,OC,PW,null,null]};var axz={aa:150,al:af.rectangleMarkPropertiesMenuItem,lP:axJ};var aoz={aa:150,al:af.rectangleMarkPropertiesMenuItem,lP:aoj};var arw={aa:150,bY:[aAk,Kr,OC,PW,null,null,null,MI]};var asB={al:af.textMarkPropertiesMenuItem,lP:arw};var avi={aa:150,bY:[Kr,OC,PW,null,MI]};var awb={al:af.polygonMarkPropertiesMenuItem,lP:avi};var avL={aa:140,bY:[agW,agI,null,MI]};var awS={al:af.polylineMarkPropertiesMenuItem,lP:avL};var auW={aa:140,bY:[agW,agI,null,null]};var auo={al:af.lineMarkPropertiesMenuItem,lP:auW};var atn={aa:140,bY:[ayN,axu,ayU,aym]};var yk={al:af.markOrderingMenuItem,lP:atn};var azr={aa:150,bY:[Kr]};var aaO={al:af.stampMarkPropertiesMenuItem,lP:azr};this.atv={aa:180,bY:[amC,apc,aoR,awl,awD]};this.asU={aa:140,bY:[asB,yk,vl]};this.ayx={aa:140,bY:[axz,yk,vl]};this.aAF={aa:140,bY:[aaO,yk,vl]};this.azK={aa:140,bY:[null,yk,vl]};this.anQ={aa:140,bY:[aoz,yk,vl]};this.awP={aa:140,bY:[awb,yk,vl]};this.avm={aa:140,bY:[awS,yk,vl]};this.auJ={aa:140,bY:[auo,yk,vl]};this.awY={aa:140,bY:[aaO,null,vl]};};IPCC.gW.prototype.mx=function(T){this.T=T;};IPCC.gW.prototype.fe=function(){this.T=false;};IPCC.gW.prototype.bC=function(){};IPCC.gW.prototype.Rx=function(R){var iA;if(R.mark&&this.SL){var RH=R.mark.hO();switch(R.mark.get_type()){case IPCC.Web.UI.MarkType.Line:iA=this.auJ;break;case IPCC.Web.UI.MarkType.Polyline:iA=this.avm;break;case IPCC.Web.UI.MarkType.Rectangle:iA=this.ayx;break;case IPCC.Web.UI.MarkType.Ellipse:iA=this.anQ;break;case IPCC.Web.UI.MarkType.Polygon:iA=this.awP;break;case IPCC.Web.UI.MarkType.Text:iA=this.asU;break;case IPCC.Web.UI.MarkType.Stamp:if(RH===true){iA=this.azK;}else{iA=this.aAF;}break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:if(R.mark.mC==='y'){iA=this.awY;}break;}}if(!iA){iA=this.atv;}var yL=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wH=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var adx=new IPCC.Web.UI.Point(R.domEvent.clientX+yL,R.domEvent.clientY+wH);var C=this;function xe(an){if(tq){var ax=an.target;if(ax&&ax===null){return;}var DY,akx;while(ax&&ax!==document.body&&ax.parentNode!==null){if(ax&&ax!==null){if(ax===tq){akx=true;}if(!DY&&ax.ImGearCommand){DY=ax.ImGearCommand;}ax=ax.parentNode;}}if(!akx||DY){IPCC.Web.UI.aJ.removeHandler(document.body,'mousedown',xe);IPCC.Web.UI.aJ.removeHandler(document.body,'mousemove',akf);document.body.removeChild(tq);tq=null;if(DY){DY.ST=R;C.aAc(DY);}}}};function Vt(Le,zx,zX,Hk){var gX=false,F,ax;for(F=0;F<zx.length;F++){if(Le===zx[F]){gX=true;}}if(!gX&&Le.ImGearType==='menu'){Le.style.display='none';}else{Le.style.display='block';}ax=Le.firstChild;while(ax){if(ax.ImGearType==='menuItemHighlight'){if(ax===Hk){ax.style.display='block';}else{ax.style.display='none';}}if(ax.firstChild){Vt(ax,zx,zX,Hk);}ax=ax.nextSibling;}};function akf(an){if(tq){var ax=an.target;if(ax&&ax===null){return;}var zx=[tq],zX,Hk;while(ax&&ax!==document.body&&ax.parentNode!==null){if(!zX&&ax.ImGearType==='menuItem'){zX=ax;}if(ax.ImGearType==='menu'){zx.push(ax);}ax=ax.parentNode;}if(zX){ax=zX.firstChild;while(ax){if(ax.ImGearType==='menuItemHighlight'){Hk=ax;}else if(ax.ImGearType==='menu'){zx.push(ax);}ax=ax.nextSibling;}}Vt(tq,zx,zX,Hk);}};var bQ;if(window.innerWidth){bQ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bQ={x:yL,y:wH,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bQ={x:yL,y:wH,width:document.body.clientWidth,height:document.body.clientHeight};}var tq=this.agl(iA,false,false,adx,adx,true,bQ,document.body,R.mark);Vt(tq,[tq],null,null);document.body.appendChild(tq);IPCC.Web.UI.aJ.addHandler(document.body,'mousedown',xe);IPCC.Web.UI.aJ.addHandler(document.body,'mousemove',akf);};IPCC.gW.prototype.agl=function(iA,fB,ct,YC,ZA,ED,bQ,ayp,J){var anl=24,afk=1;var F,Rn=0;for(F=0;F<iA.bY.length;F++){var avb=iA.bY[F];if(avb){Rn+=anl;}else{Rn+=afk;}}var QG;if(ED){QG=ZA.x+iA.aa;if(QG>bQ.x+bQ.width){ED=false;}}if(!ED){QG=YC.x-iA.aa;if(QG<bQ.x){ED=true;}}var rr={x:ZA.x,y:ZA.y};if(!ED){rr={x:YC.x-iA.aa-2,y:YC.y-2};}var adV=bQ.y+bQ.height-Rn-8;if(rr.y>adV){rr.y=adV;}if(rr.y<bQ.y+2){rr.y=bQ.y+2;}function fi(ku){var sh=document.createElement('div');var F;for(F in ku){if(ku.hasOwnProperty(F)){sh.style[F]=ku[F];}}return sh;};var Ng=fi({zIndex:2,width:iA.aa+'px',left:rr.x+'px',top:rr.y+'px',margin:'0px',padding:'0px',border:'1px solid #C0C0C0',position:'absolute',backgroundColor:'#F0F0F0',color:'Black',fontSize:'11px',fontFamily:'Arial, Helvetica, sans-serif',fontWeight:'bold',boxShadow:'0 2px 3px rgba(0,0,0,.2)'});Ng.ImGearType='menu';for(F=0;F<iA.bY.length;F++){var yi=iA.bY[F];var wt;if(yi){wt=fi({position:'relative',height:'24px'});wt.ImGearType='menuItem';var AY=fi({position:'absolute',width:'24px',overflow:'hidden',borderRight:'1px solid #E0E0E0',height:'24px',textAlign:'center'});wt.appendChild(AY);var amj=fi({textOverflow:'ellipsis',whiteSpace:'nowrap',width:iA.aa-44+'px',position:'absolute',left:'25px',padding:'0 0 0 4px',overflow:'hidden',borderLeft:'1px solid #FFFFFF',height:'24px',lineHeight:'24px'});wt.appendChild(amj);var alW=fi({display:'none',position:'absolute',height:'24px',width:iA.aa+'px',backgroundColor:'#00C0E0',filter:'progid:DXImageTransform.Microsoft.Alpha(opacity=30)',opacity:'.3'});alW.ImGearType='menuItemHighlight';wt.appendChild(alW);amj.appendChild(document.createTextNode(yi.al));var KQ=yi.fB||fB;var Ha=yi.ct||ct;if(Ha){if(KQ===IPCC.ff.Km){var apx=J['get_'+Ha]();if(apx===yi.L){if(this.T.lO()){AY.style.backgroundImage='url(\''+this.T.lO()+'/MenuIcons.png'+'\')';}else{AY.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}AY.style.backgroundPosition='0px';}}else if(KQ===IPCC.ff.alH){var apC=J['get_'+Ha]();if(apC){if(this.T.lO()){AY.style.backgroundImage='url(\''+this.T.lO()+'/MenuIcons.png'+'\')';}else{AY.style.backgroundImage='url(\''+'<%=WebResource("IPCC.Web.UI.MenuIcons.png")%>'+'\')';}AY.style.backgroundPosition='24px 0px';}}}if(!yi.lP){wt.ImGearCommand={fB:KQ,ct:Ha,L:yi.L};}else{var axf={x:bQ.x-rr.x,y:bQ.y-rr.y,width:bQ.width,height:bQ.height};this.agl(yi.lP,KQ,Ha,{x:0,y: -1},{x:iA.aa,y: -1},ED,axf,wt,J);}rr.y+=anl;}else{wt=fi({height:'1px',overflow:'hidden',backgroundColor:'#E0E0E0'});rr.y+=afk;}Ng.appendChild(wt);}ayp.appendChild(Ng);return Ng;};IPCC.gW.prototype.aqq=function(J,dQ,T){var yL=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wH=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bQ;if(window.innerWidth){bQ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bQ={x:yL,y:wH,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bQ={x:yL,y:wH,width:document.body.clientWidth,height:document.body.clientHeight};}var oy=bQ.x+bQ.width/2;var oq=bQ.y+bQ.height/2;var iP=document.createElement('div');iP.innerHTML='	<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(oq-85)+'px;left:'+(oy-80)+'px;width:160px;height:170px;">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.af.selectColor+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.af.red+':</div>'+'<input id="ImGearColorRed" type="text" style="position:absolute;left:80px;top:8px;width:52px;" />'+'<div style="position:absolute;left:8px;top:40px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.af.green+':</div>'+'<input id="ImGearColorGreen" style="position:absolute;left:80px;top:38px;width:52px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7">'+this.af.blue+':</div>'+'<input id="ImGearColorBlue" style="position:absolute;left:80px;top:68px;width:52px" type="text" />'+'<button id="ImGearColorOKButton" style="font-size:12px;position:absolute;left:9px;top:108px;width:65px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.ok+'</button>'+'<button id="ImGearColorCancelButton" style="font-size:12px;position:absolute;left:81px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(iP);var Tn=document.getElementById('ImGearColorRed');var aeo=document.getElementById('ImGearColorGreen');var afi=document.getElementById('ImGearColorBlue');var HM=document.getElementById('ImGearColorOKButton');var LY=document.getElementById('ImGearColorCancelButton');var Sg=J['get_'+dQ]();var Ra;if(Sg.length===7&&Sg.charAt(0)==='#'){Ra=parseInt(Sg.slice(1),16);}Tn.value=(Ra>>16);aeo.value=((Ra>>8)&255);afi.value=(Ra&255);function Wk(XB){var L=Math.floor(+(XB.value));if(!isFinite(L)){L=0;}if(L<0){L=0;}if(L>255){L=255;}return L;};function Bw(){IPCC.Web.UI.aJ.removeHandler(HM,'click',Lt);IPCC.Web.UI.aJ.removeHandler(LY,'click',IP);IPCC.Web.UI.aJ.removeHandler(document.body,'mousedown',xe);};function Lt(){var fp=Wk(Tn)*65536+Wk(aeo)*256+Wk(afi);J['set_'+dQ]('#'+(0x1000000+fp).toString(16).slice(1));Bw();document.body.removeChild(iP);iP=null;T.dF();};function IP(){Bw();document.body.removeChild(iP);iP=null;};function xe(an){if(iP){var ax=an.target;var JR;while(ax!==document.body){if(ax===iP){JR=true;}ax=ax.parentNode;}if(!JR){Bw();document.body.removeChild(iP);iP=null;}}};IPCC.Web.UI.aJ.addHandler(HM,'click',Lt);IPCC.Web.UI.aJ.addHandler(LY,'click',IP);IPCC.Web.UI.aJ.addHandler(document.body,'mousedown',xe);Tn.focus();};IPCC.gW.prototype.apN=function(J,T){var yL=document.documentElement.scrollLeft-document.documentElement.clientLeft+document.body.scrollLeft-document.body.clientLeft;var wH=document.documentElement.scrollTop-document.documentElement.clientTop+document.body.scrollTop-document.body.clientTop;var bQ;if(window.innerWidth){bQ={x:window.pageXOffset,y:window.pageYOffset,width:window.innerWidth,height:window.innerHeight};}else if(document.documentElement.clientWidth){bQ={x:yL,y:wH,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};}else{bQ={x:yL,y:wH,width:document.body.clientWidth,height:document.body.clientHeight};}var oy=bQ.x+bQ.width/2;var oq=bQ.y+bQ.height/2;var iP=document.createElement('div');iP.innerHTML='<div style="z-index:2;border:1px solid #000000;font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:normal;font-variant:normal;'+'background-color:#F0F0F0;position:absolute;top:'+(oq-85)+'px;left:'+(oy-200)+'px;width:400px;height:170px;z-index:2">'+'<div style="padding:4px;background-color:#666666;color:#FFFFFF;font-size:14px;">'+this.af.selectFont+'</div>'+'<div style="position:relative;">'+'<div style="position:absolute;left:8px;top:10px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.font+':</div>'+'<input id="ImGearFontFamily" style="position:absolute;left:100px;top:8px;width:280px" type="text" />'+'<div style="position:absolute;left:8px;top:40px;width:90px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.size+':</div>'+'<input id="ImGearFontSize" style="position:absolute;left:100px;top:38px;width:54px" type="text" />'+'<div style="position:absolute;left:8px;top:70px;"><input id="ImGearFontItalic" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.af.italic+'</div></div>'+'<div style="position:absolute;left:100px;top:70px;"><input id="ImGearFontBold" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.af.bold+'</div></div>'+'<div style="position:absolute;left:200px;top:70px;"><input id="ImGearFontUnderline" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.af.underline+'</div></div>'+'<div style="position:absolute;left:300px;top:70px;"><input id="ImGearFontStrikeout" type="checkbox" style="float:left"><div style="width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.7;">'+this.af.strikeout+'</div></div>'+'<button id="ImGearFontOKButton" style="font-size:12px;position:absolute;left:240px;top:108px;width:70px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.ok+'</button>'+'<button id="ImGearFontCancelButton" style="font-size:12px;position:absolute;left:315px;top:108px;width:71px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">'+this.af.cancel+'</button>'+'</div>'+'</div>';document.body.appendChild(iP);var YT=document.getElementById('ImGearFontFamily');var aiu=document.getElementById('ImGearFontSize');var aig=document.getElementById('ImGearFontItalic');var aiF=document.getElementById('ImGearFontBold');var ajn=document.getElementById('ImGearFontUnderline');var ajx=document.getElementById('ImGearFontStrikeout');var HM=document.getElementById('ImGearFontOKButton');var LY=document.getElementById('ImGearFontCancelButton');var awt=J.get_fontName();var avF=J.get_fontSize();var uM=J.get_fontStyle();YT.value=awt;aiu.value=avF;aig.checked=uM&IPCC.Web.UI.FontStyle.Italic;aiF.checked=uM&IPCC.Web.UI.FontStyle.Bold;ajn.checked=uM&IPCC.Web.UI.FontStyle.Underline;ajx.checked=uM&IPCC.Web.UI.FontStyle.Strikeout;function aqR(XB){var L=Math.floor(+(XB.value));if(!isFinite(L)){L=12;}if(L<0.1){L=0.1;}if(L>288){L=288;}return L;};function Bw(){IPCC.Web.UI.aJ.removeHandler(HM,'click',Lt);IPCC.Web.UI.aJ.removeHandler(LY,'click',IP);IPCC.Web.UI.aJ.removeHandler(document.body,'mousedown',xe);};function Lt(){J.set_fontName(YT.value);var cS=aqR(aiu);J.set_fontSize(cS);var aX=0;if(aig.checked){aX|=IPCC.Web.UI.FontStyle.Italic;}if(aiF.checked){aX|=IPCC.Web.UI.FontStyle.Bold;}if(ajn.checked){aX|=IPCC.Web.UI.FontStyle.Underline;}if(ajx.checked){aX|=IPCC.Web.UI.FontStyle.Strikeout;}J.set_fontStyle(aX);Bw();document.body.removeChild(iP);iP=null;T.dF();};function IP(){Bw();document.body.removeChild(iP);iP=null;};function xe(an){if(iP){var ax=an.target;var JR;while(ax!==document.body){if(ax===iP){JR=true;}ax=ax.parentNode;}if(!JR){Bw();document.body.removeChild(iP);iP=null;}}};IPCC.Web.UI.aJ.addHandler(HM,'click',Lt);IPCC.Web.UI.aJ.addHandler(LY,'click',IP);IPCC.Web.UI.aJ.addHandler(document.body,'mousedown',xe);YT.focus();};IPCC.gW.prototype.aAc=function(R){var J=R.ST.mark;switch(R.fB){case IPCC.ff.Km:J['set_'+R.ct](R.L);this.T.dF();break;case IPCC.ff.Mz:this.aqq(J,R.ct,this.T);break;case IPCC.ff.anu:this.apN(J,this.T);break;case IPCC.ff.alH:J['set_'+R.ct](!J['get_'+R.ct]());this.T.dF();break;case IPCC.ff.ajW:J.moveToBack();this.T.dF();break;case IPCC.ff.ako:J.moveBackward();this.T.dF();break;case IPCC.ff.akV:J.moveForward();this.T.dF();break;case IPCC.ff.akI:J.moveToFront();this.T.dF();break;case IPCC.ff.ahm:J.removeFromPage();this.T.dF();break;default:this.T.ayG(R);break;}};IPCC.dn=function(){this.T=false;this.JH=0;this.ayh=1;this.aes=2;this.afK=3;};IPCC.dn.prototype.mx=function(T){this.T=T;this.dp=this.JH;};IPCC.dn.prototype.fe=function(){this.T=false;};IPCC.dn.prototype.bC=function(){this.dp=this.JH;};IPCC.dn.prototype.aiT=function(R){var anV=new Date()-this.aqy;if(anV<750){var ek=this.aaw.x-R.windowPoint.x;var eZ=this.aaw.y-R.windowPoint.y;var hH=ek*ek+eZ*eZ;if(hH<2500){return true;}}return false;};IPCC.dn.prototype.acn=function(R){this.aqy=new Date();this.aaw=new IPCC.Web.UI.Point(R.windowPoint.x,R.windowPoint.y);};IPCC.dn.prototype.OV=function(R){var an=R.domEvent.rawEvent;if(an.touches.length===1){if(this.dp===this.aes&&this.aiT(R)){this.dp=this.afK;}else{this.dp=this.ayh;}this.acn(R);this.T.gq('kH',R);}else{this.dp=this.JH;this.T.gq('sV',R);}};IPCC.dn.prototype.Qg=function(R){var an=R.domEvent.rawEvent;if(an.touches.length===1){this.T.gq('kT',R);}};IPCC.dn.prototype.PU=function(R){var an=R.domEvent.rawEvent;if(an.touches.length===0){if(this.aiT(R)){if(this.dp===this.afK){this.dp=this.JH;this.T.gq('hK',R);this.T.gq('xb',R);}else{this.acn(R);this.dp=this.aes;this.T.gq('hK',R);}}else{this.dp=this.JH;this.T.gq('hK',R);}}};IPCC.dn.prototype.Kp=function(R){this.T.gq('sV',R);};IPCC.dO=function(aft){this.aft=aft;this.RG=0;this.Qu=1;this.OP=2;this.Rr=3;this.Qw=4;this.dp=this.RG;this.T=false;this.wF=0;};IPCC.dO.prototype.mx=function(T){this.T=T;this.aB=T.bV();};IPCC.dO.prototype.fe=function(){this.T=false;};IPCC.dO.prototype.bC=function(){if(this.dp===this.OP){this.T.bV().hideMagnifier();}this.dp=this.RG;};IPCC.dO.prototype.OV=function(R){var an=R.domEvent.rawEvent;switch(this.dp){case this.RG:if(an.touches.length===1){this.alM(R);}else if(an.touches.length===2){this.ajv(R);}else if(an.touches.length===3){this.Ym(R);}else{this.bC();}break;case this.Qu:if(an.touches.length===2){this.ajv(R);}else if(an.touches.length===3){this.Ym(R);}else{this.bC();}break;case this.Qw:if(an.touches.length!==3){this.bC();}break;case this.OP:this.bC();break;case this.Rr:if(an.touches.length===3){this.Ym(R);}else if(an.touches.length!==2){this.bC();}break;}};IPCC.dO.prototype.Qg=function(R){switch(this.dp){case this.Qu:this.wF++;break;case this.OP:this.adf(R);break;case this.Rr:this.avV(R);break;case this.Qw:this.amJ(R);break;}};IPCC.dO.prototype.PU=function(){this.bC();};IPCC.dO.prototype.Kp=function(){this.bC();};IPCC.dO.prototype.alM=function(R){this.dp=this.Qu;this.wF++;var axZ=this.wF;var C=this;function aqk(){if(C.dp===this.Qu&&axZ===C.wF){C.ang(R);}};setTimeout(aqk,1000);};IPCC.dO.prototype.ang=function(R){this.T.gq('sV',R);this.adf(R);this.dp=this.OP;};IPCC.dO.prototype.Ym=function(R){var an=R.domEvent.rawEvent;if(an.touches.length!==3){this.bC();return;}var je=an.touches[0];var dH={x:je.screenX,y:je.screenY};var cV=this.aB.gI();cV.yj();this.QB=dH;this.ayR=dH;this.WQ=cV.transform(dH);this.dp=this.Qw;this.aEV=this.aB.gI();this.ahb=true;this.agz=true;};IPCC.dO.prototype.amJ=function(R){var an=R.domEvent.rawEvent;if(an.touches.length!==3){this.bC();return;}var je=an.touches[0];var dH={x:je.screenX,y:je.screenY};var aqj=Math.abs(dH.x-this.QB.x);var aqo=Math.abs(dH.y-this.QB.y);if(aqj>35){this.agz=false;}if(aqo>35){this.ahb=false;}if(this.ahb){dH.y=this.QB.y;}if(this.agz){dH.x=this.QB.x;}this.ayR=dH;var bx=this.aB.gI();var bJ=this.T.fq();var bu=this.T.du();bx.XT(this.WQ,dH);bx.kk(bu,bJ);this.aB.hW(bx);};IPCC.dO.prototype.aDT=function(){};IPCC.dO.prototype.aec=function(R){var an=R.domEvent.rawEvent;if(an.touches.length!==2){this.bC();return{};}var Qk=an.touches[0];var OH=an.touches[1];var ek=Qk.screenX-OH.screenX;var eZ=Qk.screenY-OH.screenY;var qy=Math.sqrt(ek*ek+eZ*eZ);var iS=Math.atan2(ek,eZ)*180/Math.PI;var aT={x:(Qk.screenX+OH.screenX)/2,y:(Qk.screenY+OH.screenY)/2};return{qy:qy,iS:iS,akz:aT};};IPCC.dO.prototype.ajv=function(R){this.dp=this.Rr;this.axb=this.aec(R);this.MC=this.axb;var cV=this.aB.gI();cV.yj();this.WQ=cV.transform(this.MC.akz);this.Kl=this.MC.iS;};IPCC.dO.prototype.adf=function(R){var an=R.domEvent.rawEvent;var je=an.touches[0];var dH={x:je.screenX,y:je.screenY};this.aB.showMagnifier(dH);};IPCC.dO.prototype.avV=function(R){var xF=this.aec(R);var bj=xF.qy/this.MC.qy;var bx=this.aB.gI();var bJ=this.T.fq();var bu=this.T.du();bx.scale(bj,bj);var FM=this.Kl-xF.iS;var agy=this.Kl-xF.iS-360;var agX=this.Kl-xF.iS+360;if(Math.abs(FM)>Math.abs(agy)){FM=agy;}if(Math.abs(FM)>Math.abs(agX)){FM=agX;}if(FM< -40){bx.rotate(-90);this.Kl=xF.iS;}else if(FM>40){bx.rotate(90);this.Kl=xF.iS;}bx.XT(this.WQ,xF.akz);bx.kk(bu,bJ);this.aB.hW(bx);this.MC=xF;};IPCC.dO.prototype.ZL=function(R){var bx=this.aB.gI();var bJ=this.T.fq();var bu=this.T.du();bx.WS(IPCC.Web.UI.FitType.FullImage,bu,bJ);bx.kk(bu,bJ);this.aB.hW(bx);};IPCC.dO.prototype.mw=function(){this.bC();};IPCC.ox=function(){this.aV=false;this.T=false;};IPCC.ox.prototype.mx=function(T){T.bV().set_cursor(IPCC.bi.Text);this.T=T;};IPCC.ox.prototype.fe=function(){this.T=false;};IPCC.ox.prototype.bC=function(){if(this.aV){this.T.bV().Xk();this.T.bV().set_cursor(this.jh);this.aV=false;}};IPCC.ox.prototype.sV=function(){this.bC();};IPCC.ox.prototype.kH=function(R){if(R.domEvent.button===0){var aB=this.T.bV();this.jh=aB.get_cursor();aB.set_cursor(IPCC.bi.Text);this.aV=true;var cL=this.T.ES(R.constrainedImagePoint);this.T.iY=cL;if(!cL){return;}this.T.Ag(cL);aB.Ag(cL);aB.ws(undefined);this.T.dF();}};IPCC.ox.prototype.kT=function(R){var T=this.T;T.avJ=true;if(R.domEvent.button!==0){this.bC();}if(this.aV){var aB=T.bV();var cL=T.ES(R.constrainedImagePoint);var iq=aB.GA();if(iq===cL){return;}T.ws(cL);T.dF();}};IPCC.ox.prototype.hK=function(R){if(R.domEvent.button===0){this.aV=false;}var T=this.T;var aB=this.T.bV();var dm=aB.jy.length;if(dm===0){this.bC();return;}var ao=aB.jy[0].cL;var ds=aB.jy[dm-1].cL;if(T.Ih===true){if(ao>ds){ao=ds;}var F;var kK=IPCC.Do();this.J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);this.J.ao=ao;this.J.cu=T.DM();this.J.cF=dm;this.J.set_fillColor(T.uk);this.J.mC='y';this.J.cI=kK;for(F=0;F<aB.jy.length;F++){var bg=aB.jy[F];var DH=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);var Bi=bg.J.fF();DH.set_fillColor(T.uk);DH.set_opacity(bg.J.get_opacity());DH.set_rectangle(Bi);DH.cI=kK;DH.mC='y';this.T.ft().addMark(DH);}aB.jy=[];if(dm>0){this.T.ft().addMark(this.J);}T.kO().removeAllMarks();}dm=aB.jy.length;var abx=new IPCC.Web.UI.TextSelectedEventArgs();abx.text=T.DM();T.bo('selectTextMouseToolCompleted',abx);T.dF();this.bC();};IPCC.ox.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.ox.prototype.mw=function(){this.bC();};IPCC.abX=function(qa){var aB;var aQ;var kM;var bJ;var bA=this;var Cq;var Gf='';var _debug=false;var kd=IPCC.Web.UI.DebugErrorLevel.Production;var mA=[];var aO=new IPCC.Web.UI.gv();var bM;var ez;var pe=null;var FB=false;var vD=false;var Sx;var Ln=IPCC.Web.UI.ImGearArtDataServices.None;var IW=false;var lZ='';var lC;var ahC=false;var abJ=false;var zV=0;var un=true;var DN;var he;var nK=false;var adS=true,ll=false;var ahu=false;this.Ot=0.0;this.gr=function(wG){if(!_debug){return false;}return kd>=wG;};this.iX=function(fS,Hz,bD){IPCC.fL.iX(fS,Hz,bD,Gf,Cq);};this.O=function(ei,gG){if(!this.gr(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var bq=ei+'() threw an exception ('+gG.name+'), "'+gG.message+'"';bq=bq.replace(/\n/g," ");this.iX(bq,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production);bA.bo('exceptionThrown',{"function_name":ei,"exception":gG,"pageNumber":bA.aH});};this.get_debug=function(){return _debug;};this.set_debug=function(L){var zm= ! !L;if(_debug===zm){return;}_debug=zm;this.aM('debug');};this.nX=function(){return kd;};this.tu=function(L){if(kd===L){return;}kd=L;this.aM('debugErrorLevel');};this.acQ=function(L){Gf=L;};this.aCp=function(){return Gf;};this.acu=function(L){Cq=L;};this.fz=function(ayL){this.pY(false);var F;for(F=mA.length-1;F>=0;F--){if(mA[F]instanceof IPCC.oA){mA[F].bC(true);}else{mA[F].bC();}if(mA[F]instanceof IPCC.pa){mA[F].fe(true);}else{mA[F].fe();}}mA=ayL;aB.set_cursor(IPCC.bi.Default);for(F=0;F<mA.length;F++){mA[F].mx(this);}};this.aDn=function(){var F;for(F=0;F<mA.length;F++){mA[F].bC();}};this.gq=function(aiN,R){var F;for(F=0;F<mA.length;F++){if(R&&R.aeQ&&R.aeQ()){return;}if(mA[F][aiN]){mA[F][aiN](R);}}};this.ayf=function(jB,cs){switch(jB){case 'touchstart':kM.Xq&&kM.Xq(cs);break;case 'touchmove':kM.Xy&&kM.Xy(cs);break;case 'touchend':kM.XC&&kM.XC(cs);break;case 'doubleTap':kM.aar&&kM.aar(cs);break;}};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.add_mouseDown=function(G){aO.addHandler('mouseDown',G);};this.remove_mouseDown=function(G){aO.removeHandler('mouseDown',G);};this.add_mouseMove=function(G){aO.addHandler('mouseMove',G);};this.remove_mouseMove=function(G){aO.removeHandler('mouseMove',G);};this.add_mouseUp=function(G){aO.addHandler('mouseUp',G);};this.remove_mouseUp=function(G){aO.removeHandler('mouseUp',G);};this.add_contextMenu=function(G){aO.addHandler('contextMenu',G);};this.remove_contextMenu=function(G){aO.removeHandler('contextMenu',G);};this.aqc=function(G){aO.addHandler('contextMenuCommand',G);};this.aDi=function(G){aO.removeHandler('contextMenuCommand',G);};this.add_mouseWheel=function(G){aO.addHandler('mouseWheel',G);};this.remove_mouseWheel=function(G){aO.removeHandler('mouseWheel',G);};this.add_mouseOut=function(G){aO.addHandler('mouseOut',G);};this.remove_mouseOut=function(G){aO.removeHandler('mouseOut',G);};this.agw=function(G){aO.addHandler('resize',G);};this.aCW=function(G){aO.removeHandler('resize',G);};this.aqT=function(G){aO.addHandler('userModifiedViewState',G);};this.aDq=function(G){aO.removeHandler('userModifiedViewState',G);};this.add_scaleChanged=function(G){aO.addHandler('scaleChanged',G);};this.remove_scaleChanged=function(G){aO.removeHandler('scaleChanged',G);};this.add_markAdded=function(G){aO.addHandler('markAdded',G);};this.remove_markAdded=function(G){aO.removeHandler('markAdded',G);};this.add_markCreating=function(G){aO.addHandler('markCreating',G);};this.remove_markCreating=function(G){aO.removeHandler('markCreating',G);};this.add_markChanged=function(G){aO.addHandler('markChanged',G);};this.remove_markChanged=function(G){aO.removeHandler('markChanged',G);};this.add_inProgressMarkChanged=function(G){aO.addHandler('inProgressMarkChanged',G);};this.remove_inProgressMarkChanged=function(G){aO.removeHandler('inProgressMarkChanged',G);};this.add_markRemoved=function(G){aO.addHandler('markRemoved',G);};this.remove_markRemoved=function(G){aO.removeHandler('markRemoved',G);};this.add_markReordered=function(G){aO.addHandler('markReordered',G);};this.remove_markReordered=function(G){aO.removeHandler('markReordered',G);};this.add_marksLoaded=function(G){aO.addHandler('marksLoaded',G);};this.remove_marksLoaded=function(G){aO.removeHandler('marksLoaded',G);};this.add_marksSaved=function(G){aO.addHandler('marksSaved',G);};this.remove_marksSaved=function(G){aO.removeHandler('marksSaved',G);};this.add_markSelectionChanged=function(G){aO.addHandler('markSelectionChanged',G);};this.remove_markSelectionChanged=function(G){aO.removeHandler('markSelectionChanged',G);};this.add_markTextSelectionChanged=function(G){aO.addHandler('markTextSelectionChanged',G);};this.remove_markTextSelectionChanged=function(G){aO.removeHandler('markTextSelectionChanged',G);};this.add_pageOpenFailed=function(G){aO.addHandler('pageOpenFailed',G);};this.add_pageDisplayed=function(G){aO.addHandler('pageDisplayed',G);};this.remove_pageOpenFailed=function(G){aO.removeHandler('pageOpenFailed',G);};this.add_textPageReady=function(G){aO.addHandler('textPageReady',G);};this.remove_textPageReady=function(G){aO.removeHandler('textPageReady',G);};this.add_selectTextMouseToolCompleted=function(G){aO.addHandler('selectTextMouseToolCompleted',G);};this.remove_selectTextMouseToolCompleted=function(G){aO.removeHandler('selectTextMouseToolCompleted',G);};this.add_exceptionThrown=function(G){aO.cq('exceptionThrown',G);};this.remove_exceptionThrown=function(G){aO.bZ('exceptionThrown',G);};this.add_textExtractionFailed=function(G){aO.cq('textExtractionFailed',G);};this.remove_textExtractionFailed=function(G){aO.bZ('textExtractionFailed',G);};this.aM=function(dQ,Am){var G=aO.getHandler("propertyChanged");if(G){G(this,new IPCC.qV(dQ,Am));}};this.lz=function(){var _parent=document.getElementById(Cq);return _parent;};this.bV=function(){return aB;};this.aFz=function(){return aO;};function CS(bz,R){IW=true;R.pageIndex=bA.aH;bA.bo('markAdded',R);bA.gq('ij',R);};function DX(bz,R){IW=true;R.pageIndex=bA.aH;bA.bo('markChanged',R);bA.gq('pB',R);};function ajH(bz,R){R=new IPCC.Web.UI.MarkEventArgs();R.mark=pe;R.pageIndex=bA.aH;bA.bo('inProgressMarkChanged',R);bA.gq('_onInProgressMarkChanged',R);};function DC(bz,R){IW=true;R.pageIndex=bA.aH;bA.bo('markRemoved',R);bA.gq('Bd',R);};function arf(bz,R){bA.bo('textPageReady',R);};function apL(bz,R){bA.bo('textExtractionFailed',R);};function Ef(bz,R){IW=true;R.pageIndex=bA.aH;bA.bo('markReordered',R);bA.gq('alg',R);};function BE(bz,R){R.pageIndex=bA.aH;bA.bo('marksLoaded',R);bA.gq('alm',R);};function Ed(bz,R){R.pageIndex=bA.aH;bA.bo('markSelectionChanged',R);bA.gq('Cc',R);};function akS(bz,R){R.pageIndex=bA.aH;bA.bo('markTextSelectionChanged',R);};this.ayl=function(bz,R){this.gq('_onTextMarkEditCompleted',R);};function EB(bz,R){R.pageIndex=bA.aH;bA.bo('propertyChanged',R);};this.kZ=function(L){if(L===bM){return;}if(bM){bM.remove_markAdded(CS);bM.remove_markChanged(DX);bM.remove_markRemoved(DC);bM.remove_markReordered(Ef);bM.remove_marksLoaded(BE);bM.remove_markSelectionChanged(Ed);bM.lA(EB);bM.CD(true);}bM=L;if(bM){bM.add_markAdded(CS);bM.add_markChanged(DX);bM.add_markRemoved(DC);bM.add_markReordered(Ef);bM.add_marksLoaded(BE);bM.add_markSelectionChanged(Ed);bM.add_markTextSelectionChanged(akS);bM.iz(EB);}this.aM('artPage');};this.ft=function(){return bM;};this.IL=function(L){if(L===ez){return;}if(ez){ez.remove_markAdded(CS);ez.remove_markChanged(DX);ez.remove_markRemoved(DC);ez.remove_markReordered(Ef);ez.remove_marksLoaded(BE);ez.remove_markSelectionChanged(Ed);ez.lA(EB);ez.CD(true);}ez=L;if(ez){ez.add_markAdded(CS);ez.add_markChanged(DX);ez.add_markRemoved(DC);ez.add_markReordered(Ef);ez.add_marksLoaded(BE);ez.add_markSelectionChanged(Ed);ez.add_markTextSelectionChanged(akS);ez.iz(EB);}this.aM('documentArtPage');};this.Po=function(){return ez;};this.kO=function(){return he;};this.ty=function(L){if(L===he){return;}if(he){he.remove_markAdded(CS);he.remove_markChanged(DX);he.remove_markRemoved(DC);he.remove_markReordered(Ef);he.remove_marksLoaded(BE);he.remove_markSelectionChanged(Ed);he.lA(EB);}he=L;if(he){he.add_markAdded(CS);he.add_markChanged(DX);he.add_markRemoved(DC);he.add_markReordered(Ef);he.add_marksLoaded(BE);he.add_markSelectionChanged(Ed);he.iz(EB);}this.aM('transientArtPage');};var gw;this.xA=function(){if(!gw){if(IPCC.Web.UI.Mark){gw=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);gw.set_opacity(100);gw.set_fillColor('#3366CC');gw.set_fillVisible(true);}}return gw;};this.yo=function(L){Ln=L;this.aM('artServiceOption');};this.yP=function(){return Ln;};this.oe=function(J,qo){if(pe===J){return;}if(pe){pe.remove_propertyChanged(ajH);}if(J&& !pe){var R=new IPCC.Web.UI.MarkEventArgs();R.mark=qo?qo:J;R.pageIndex=this.aH;this.bo('markCreating',R);}pe=J;if(pe){pe.add_propertyChanged(ajH);}this.aM('inProgressMark');};this.aAa=function(){return pe;};this.vx=function(L){if(L===aQ){return;}aQ=L;this.Al=false;aB.og();this.aM('image');};this.du=function(){return aQ;};this.acS=function(L){if(L===FB){return;}FB=L;this.aM('FB');};this.afT=function(){return FB;};this.xM=function(J){this.pY(false);kM.atD(J);vD=true;Sx=J;this.aM('vD');};this.MP=function(ao,dm){if(this.ii()&&this.dJ().nm()===true){var fr=this.dJ().ey();var F=ao;for(;F<ao+dm;F++){var dV=fr.lf(F);var vt='#3366CC';var Iy='#3366CC';he.Zq(dV.bQ,Iy,vt,false,F);}}};this.aDf=function(ar){var F;try{var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);if(!gw){gw=bA.xA();}for(F in gw){if(gw.hasOwnProperty(F)){as[F]=gw[F];}}as.set_rectangle({x:ar.x,y:ar.y,width:ar.width,height:ar.height});bA.oe(as);he.addMark(as);return as;}catch(aoy){var atI=aoy.message;window.console.log(atI);}};this.ES=function(cb){var GX;var fr;var Tq;GX=bA.dJ();fr=bA.dJ().ey();function asW(Xm){var ur=Xm.wd();if((cb.x>=ur.x-10&&cb.x<=ur.x+ur.width+1)&&(cb.y>=ur.y-1&&cb.y<=ur.y+ur.height+1)){return true;}ur=undefined;};if(!Tq){for(var F=0;F<fr.fb();F++){if(asW(fr.lf(F))){Tq=F;break;}}}return Tq;};this.avJ=false;this.Ag=function(cL){if(cL===undefined){return;}if(bA.ii()&&bA.dJ().nm()===true){var HY=bA.dJ().ey().fb();IPCC.bU.os(cL,'textIndex',0,HY);bA.bV().Ag(cL);bA.kO().FJ(function(J){if(J.yR!==true){bA.kO().wf(J);}});if(bA.zu()===true){bA.dF();}}};this.YR=function(){var DF=bA.bV().get_transientHighlightMarks();while(DF.length>0){bA.kO().removeMark(DF.pop());}};this.OO=function(wn,dm){if(bA.ii()&&bA.dJ().nm()===true){var F=wn;var fr=this.dJ().ey();var ds=wn+dm;if(!gw){gw=bA.xA();}var DF=bA.bV().get_transientHighlightMarks();for(;F<ds;F++){var dV=fr.lf(F);DF.push(he.aoO(dV.bQ,gw,F));}}};this.aDM=function(aEK,dm){var aB=bA.bV();for(var ba=dm-1;ba>dm;ba--){var bg=aB.jy[ba];he.removeMark(bg.J);}};this.ws=function(cL){if(cL===undefined){return;}var dV;var aB=bA.bV();var iq=aB.GA();var vt='#3366CC';var Iy='#3366CC';var db=100;if(!gw){gw=bA.xA();}db=gw.get_opacity();if(!db){db=100;}vt=gw.get_fillColor();if(vt===undefined){vt='#3366CC';}var fr=bA.dJ().ey();if(iq===undefined){dV=fr.lf(cL);var J=he.Zq(dV.bQ,Iy,vt,false,db,cL);aB.ws(cL,J,dV.jO);return;}var ba;function amy(bh,aqn){for(ba=aB.jy.length-1;ba>=0;ba--){var bg=aB.jy[ba];if(bg.cL===bh){aB.jy.splice(ba,1);he.removeMark(bg.J);aB.aBI(aqn);aB.azM(bh);return ba;}}return-1;};function Lu(bh){dV=fr.lf(bh);var amX=he.Zq(dV.bQ,Iy,vt,false,db,bh);if(aB.ws(bh,amX,dV.jO)===false){he.removeMark(amX);}};var Qy=aB.ahM();var F;if(cL>iq){for(F=iq;F<=cL;F++){if(F===cL){if(F<Qy){continue;}Lu(F);}else if(F>=Qy){if(F===iq){continue;}Lu(F);}else{amy(F,cL);}}}else if(cL<iq){for(F=iq;F>=cL;F--){if(F===cL){if(F>=Qy){continue;}Lu(F);}else if(F<Qy){if(F===iq){continue;}Lu(F);}else{amy(F,cL);}}}};this.DM=function(){var adB="";try{var aB=bA.bV();if(bA.bV().Mc()){var aqA=bA.dJ().ey();if(aB.jy.length>0){var Fb=[];for(var F=0;F<aB.jy.length;F++){Fb.push(aB.jy[F].cL);}if(Fb[0]>Fb[1]){Fb.reverse();}for(F=0;F<Fb.length;F++){adB+=aqA.lf(Fb[F]).aBG();}}}return adB;}catch(e){window.console.log(e.message);}};this.pY=function(avD){if(vD){if(avD){kM.awZ();}vD=false;Sx=null;this.ayl();this.aM('vD');bA.dF();}};this.afR=function(){return vD;};this.aiU=function(){return Sx;};this.PL=function(L){abJ=L;};this.Jy=function(){return abJ;};this.zW=function(L){if(L===zV){return;}zV=L;this.aM('zV');};this.Jh=function(){return zV;};this.CD=function(L){if(bM){bM.CD(L);}};this.EZ=function(){if(bM){return bM.EZ();}return true;};this.agG=function(aGz){var bJ=kM.aiD(this.lz());this.azV(bJ);};this.azV=function(L){if(L===bJ){return;}bJ=L;this.aM('windowSpace');};this.fq=function(){return bJ;};this.dF=function(){kM.dF(aQ,aB,bJ);};this.uT=function(L){lC=L;};this.lO=function(){return lC;};this.dJ=function(){return DN.dJ();};var lV=0;this.mo=function(){return DN;};this.uF=function(L){if(L===this.mo()){return;}DN=L;if(DN){DN.tL(arf);DN.Cu(apL);}};this.ii=function(){return un;};this.AE=function(L){un=L;this.aM('textRequired');};this.oC=function(){return nK;};this.sd=function(L){if(nK===L){return;}nK=L;this.aM('requireRequestsOptimize');};this.zu=function(){return adS;};this.aaW=function(L){adS=L;this.aM('autoUpdate');};var pD=false;this.kE=function(){return pD;};this.rg=function(L){if(typeof L!=="boolean"){return;}if(L===pD){return;}pD=L;if(bM){var ack=false;bM.forEachMark(function(J){if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){ack=true;}});if(ack===true){bM.rg(pD);}}};this.hL=function(){return lV;};this.sl=function(L){if(lV===L){return;}if(isNaN(L)){return;}lV=L;this.aM('serviceResponseTimeout');};var qu='';this.aaI=function(eF,bL){if(eF!==''){eF='/'+eF;}bL=bL||'';if(bL===null||bL===''){if(eF==='/Attributes'){if(/^[\x00-\x7F]*$/.test(aQ.get_identifier())){return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=u'+encodeURIComponent(aQ.get_identifier());}else{return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=e'+aQ.get_encodedIdentifier();}}else{if(/^[\x00-\x7F]*$/.test(aQ.get_identifier())){return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=u'+encodeURIComponent(aQ.get_identifier())+'&Quality=85&ContentType=jpeg';}else{return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=e'+aQ.get_encodedIdentifier()+'&Quality=85&ContentType=jpeg';}}}else{if(/^[\x00-\x7F]*$/.test(aQ.get_identifier())){return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=u'+encodeURIComponent(aQ.get_identifier())+'&'+bL;}else{return qu+'/Page/q/'+aQ.aH.toString()+eF+'?DocumentID=e'+aQ.get_encodedIdentifier()+'&'+bL;}}};this.aAx=function(eF,bL){eF=eF||'Art';bL=bL||'';if(bL===null||bL===''){if(eF==='Art'){return qu+'/Page/q/'+aQ.aH.toString()+'/'+eF+'?DocumentID=e'+aQ.get_encodedIdentifier();}}else{return qu+'/Page/q/'+aQ.aH.toString()+'/'+eF+'?DocumentID=e'+aQ.get_encodedIdentifier()+'&'+bL;}};this.Ew=function(yz){if(IW===false){if(yz){yz();}return;}var zM=new XMLHttpRequest();function lN(){if(yz){yz();}};var axc=bM.saveToJson();zM.open('POST',this.aAx('Art'),true);zM.setRequestHeader('Content-Type','application/json');zM.onreadystatechange=function(){if(zM.readyState!==4){return;}if(zM.status!==200&&zM.status!==304){return;}lN(zM);};zM.send(axc);};this.ml=function(){return qu;};this.Fi=function(L){qu=L;this.aM('imageHandlerUrl');if(!IPCC.Web.tI){if(IPCC.Web.tX===false){IPCC.Web.MH(L);}}};this.rE=function(){return ahC;};this.Sa=function(L){ahC=L;};this.Pj=function(){return ahu;};this.acA=function(L){ahu=L;};this.gy=function(){return lZ;};this.pm=function(L){lZ=L;lZ.tabIndex= -1;};this.eD=function(){return ll;};this.im=function(L){if(typeof L!=="boolean"){return;}if(L===ll){return;}ll=L;};this.ayO=function(R){if(vD){this.pY(true);}else{this.bo('mouseDown',R);this.gq('kH',R);}};this.axO=function(R){this.bo('mouseMove',R);this.gq('kT',R);};this.axY=function(R){this.bo('mouseUp',R);this.gq('hK',R);};this.axA=function(R){this.bo('mouseWheel',R);this.gq('mw',R);};this.ayM=function(R){this.bo('mouseDoubleClick',R);this.gq('xb',R);};this.axN=function(R){this.bo('contextMenu',R);this.gq('Rx',R);};this.ayG=function(R){this.bo('contextMenuCommand',R);};this.ayd=function(R){this.bo('mouseOut',R);this.gq('oT',R);};this.ayr=function(R){this.bo('touchStart',R);this.gq('kH',R);};this.axE=function(R){this.bo('touchMove',R);this.gq('kT',R);};this.axv=function(R){this.bo('touchEnd',R);this.gq('hK',R);};this.ayE=function(R){this.bo('touchCancel',R);this.gq('Kp',R);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(bA,R);}};var agT=function(T,qa){aB=new IPCC.arH();function oz(bz,R){bA.bo('propertyChanged',R);};aB.iz(oz);if(IPCC.wU.Av()){kM=new IPCC.aap(T,qa);}else{kM=new IPCC.EW(T);}if(IPCC.ah){kM.qB=new IPCC.ah.aD(T);kM.arx=new IPCC.ah.aD(T);}};if(qa===false){agT(this,false);}else{agT(this,true);}return this;};IPCC.wU={Av:function(){var vV=IPCC.wU;if(vV.wO===null){
/*@cc_on@if(@_jscript)vV.wO=document.documentMode>8;@else@*/ vV.wO=true;/*@end@*/}return vV.wO;},wO:null};IPCC.bi={Default:0,Arrow:1,Crosshair:2,Link:3,HandOpen:4,HandClosed:5,Magnifier:6,None:7,RectangleZoom:8,AddRectangleMark:9,AddEllipseMark:10,AddLineMark:11,AddFreehandLineMark:12,AddPolygonMark:13,AddPolylineMark:14,AddTextMark:15,Move:16,ResizeN:17,ResizeE:18,ResizeS:19,ResizeW:20,ResizeNW:21,ResizeNE:22,ResizeSE:23,ResizeSW:24,EditMarks:25,RunMarks:26,Text:27,AddStampMark:28,AddRectangleRedactionMark:29,AddImageStampMark:30,eU:function(ab){switch(ab){case IPCC.bi.Default:case IPCC.bi.Magnifier:case IPCC.bi.None:case IPCC.bi.RunMarks:return 'auto';case IPCC.bi.Arrow:case IPCC.bi.EditMarks:return 'default';case IPCC.bi.Crosshair:case IPCC.bi.RectangleZoom:case IPCC.bi.AddRectangleMark:case IPCC.bi.AddEllipseMark:case IPCC.bi.AddLineMark:case IPCC.bi.AddFreehandLineMark:case IPCC.bi.AddPolygonMark:case IPCC.bi.AddPolylineMark:case IPCC.bi.AddTextMark:case IPCC.bi.AddRectangleRedactionMark:case IPCC.bi.AddImageStampMark:case IPCC.bi.AddStampMark:return 'crosshair';case IPCC.bi.Link:return 'pointer';case IPCC.bi.HandOpen:case IPCC.bi.HandClosed:case IPCC.bi.Move:return 'move';case IPCC.bi.ResizeN:return 'n-resize';case IPCC.bi.ResizeE:return 'e-resize';case IPCC.bi.ResizeS:return 's-resize';case IPCC.bi.ResizeW:return 'w-resize';case IPCC.bi.ResizeNW:return 'nw-resize';case IPCC.bi.ResizeNE:return 'ne-resize';case IPCC.bi.ResizeSE:return 'se-resize';case IPCC.bi.ResizeSW:return 'sw-resize';case IPCC.bi.Text:return 'text';}return 'auto';}};IPCC.arH=function(){var cV=new IPCC.fK();var Et=false;var xa;var rw;var NG=false;var El=new IPCC.FD(200,150,96,96);var wE={x:0,y:0};var NP=3;var NZ=0,NC=0;var fO=0.2;var tG=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var Dx=new IPCC.fK();var Jj=0;var LZ=0;var Ey=false;var VE;this.jy=[];var XN=IPCC.Web.UI.ScrollBars.Auto;var DF=[];this.get_transientHighlightMarks=function(){return DF;};this.get_scrollBars=function(){return XN;};this.get_overflow=function(){switch(XN){case IPCC.Web.UI.ScrollBars.None:return 'hidden';case IPCC.Web.UI.ScrollBars.Both:return 'scroll';}return 'auto';};this.set_scrollBars=function(L){XN=L;this.aM('scrollBars');};var aO=new IPCC.Web.UI.gv();this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};var onSelectionChanged=function(aB){var R={};R.selectionIsVisible=Et;R.selectionRectangle=aB.xv();aB.aM('selection');};this.og=function(){xa={x:0,y:0};rw={x:0,y:0};if(!Et){return;}Et=false;onSelectionChanged(this);};this.showSelection=function(ef){xa.x=ef.x;xa.y=ef.y;rw.x=ef.x+ef.width;rw.y=ef.y+ef.height;Et=true;onSelectionChanged(this);};this.FK=function(cb){xa.x=cb.x;xa.y=cb.y;rw.x=cb.x;rw.y=cb.y;Et=true;onSelectionChanged(this);};this.Bg=function(cb){rw.x=cb.x;rw.y=cb.y;onSelectionChanged(this);};this.AL=function(){return Et;};this.xv=function(){var V=new IPCC.Web.UI.Rectangle(Math.min(xa.x,rw.x),Math.min(xa.y,rw.y),0,0);V.width=Math.max(xa.x,rw.x)-V.x;V.height=Math.max(xa.y,rw.y)-V.y;return V;};var GN=function(){if(!NG){Dx.aAh();return;}Dx.Rq(cV);Dx.ow(-wE.x,-wE.y);Dx.scale(NP,NP);Dx.ow(El.width/2,El.height/2);};this.hideMagnifier=function(){NG=false;GN();this.aM('magnifierIsVisible');};this.showMagnifier=function(dH){wE.x=dH.x;wE.y=dH.y;NG=true;GN();this.aM('magnifierWindowPosition');this.aM('magnifierIsVisible');};this.get_magnifierIsVisible=function(){return NG;};this.get_magnifierWindowPosition=function(){return{x:wE.x,y:wE.y};};this.get_magnifierMagnification=function(){return NP;};this.set_magnifierMagnification=function(L){NP=L;GN();this.aM('magnifierMagnification');};this.Rv=function(){return NZ;};this.aaD=function(L){NZ=L;this.aM('magnifierXOffset');};this.Sb=function(){return NC;};this.aaj=function(L){NC=L;this.aM('magnifierYOffset');};this.vK=function(){return{width:El.width,height:El.height};};this.set_magnifierWindowSize=function(newMagnifierSize){El.width=newMagnifierSize.width;El.height=newMagnifierSize.height;GN();this.aM('magnifierWindowSize');};this.azX=function(){return Dx.clone();};this.gI=function(){return cV.clone();};this.abK=function(){return fO;};this.abB=function(L){fO=L;this.aM('markHandleSize');};this.Ar=function(){return tG;};this.Ks=function(L){tG=L;this.aM('markHandleMode');};this.hW=function(L){if(L===cV||L.axk(cV)){return;}if(!L.ajA()){throw new IPCC.Web.UI.ImGearInvalidOperationException('The viewing state of the control is invalid.');}cV.Rq(L);GN();this.aM('displayedPageRectangle');};var abG='0';this.get_presentationQuality=function(){return abG;};this.set_presentationQuality=function(L){abG=L;this.aM('presentationQuality');};var ab=IPCC.bi.Default;this.get_cursor=function(){return ab;};this.set_cursor=function(L){if(ab!==L&&ab!== -1){ab=L;this.aM('cursor');}};var MG=IPCC.bi.Default;this.EV=function(){if(MG===IPCC.bi.Default){return ab;}return MG;};this.FL=function(L){if(MG!==L){MG=L;this.aM('markCursor');}};this.Ag=function(cL){Jj=cL;Ey=false;LZ=0;};this.OO=function(wn,dm){if(wn!==Jj){Jj=wn;}LZ=dm;Ey=true;};this.Xk=function(){if(Ey===true){for(var F=0;F<this.jy.length;F++){this.jy[F].J.set_visible(false);}Ey=false;}};this.Mc=function(){return Ey;};this.ws=function(cL,J,jO){VE=cL;if(cL!==undefined){if(this.jy.length>0&&this.jy[this.jy.length-1].cL===cL){return false;}this.jy.push({cL:cL,J:J,jO:jO});Ey=true;LZ++;}else{this.jy=[];LZ=0;}return true;};this.GA=function(){return VE;};this.aBI=function(L){if(L===undefined){return;}VE=L;};var ahl;this.aFh=function(){return ahl;};this.azM=function(L){if(L===undefined){return;}ahl=L;};this.ahM=function(){return Jj;};this.aFW=function(){return Jj+LZ;};this.Er=function(){return this.jy.length;};this.og();this.hideMagnifier();return this;};IPCC.aD=function(){this.Mk=false;this.WR=false;this.GJ=true;this.VV=false;this.Jq=false;this.yb=0;this.yx=0;return this;};IPCC.aD.viewerCounter=0;IPCC.aD.tileCounter=0;IPCC.aD.imageIDCounter=0;IPCC.aD.prototype.ahx=function(T){this.yq=IPCC.aD.viewerCounter.toString();IPCC.aD.viewerCounter++;this.T=T;if(IPCC.ah){this.qI=new IPCC.Web.UI.MarkCollection();}var C=this;function aqP(bz,R){C.ayC(R);};function zd(bz,R){C.axx(R);};T.iz(aqP);T.add_markAdded(zd);T.add_markChanged(zd);T.add_inProgressMarkChanged(zd);T.add_markRemoved(zd);T.add_markReordered(zd);T.add_marksLoaded(zd);T.add_markSelectionChanged(zd);T.add_markTextSelectionChanged(zd);};IPCC.aD.prototype.Vs=function(){var cD='igtile'+IPCC.aD.tileCounter.toString();IPCC.aD.tileCounter++;return cD;};IPCC.aD.prototype.zq=function(){this.Mk=true;this.GJ=this.GJ&&this.WR;var C=this;var awU=function(){if(!C.Mk){return;}C.dF(C.T.du(),C.T.bV(),C.T.fq());C.GJ=true;};window.setTimeout(awU,0);};IPCC.aD.prototype.ayC=function(R){var wS=R.get_propertyName();switch(wS){case 'magnifierWindowSize':case 'magnifierWindowPosition':case 'magnifierMagnification':if(!this.T.bV().get_magnifierIsVisible()){return;}break;case 'cursor':case 'markCursor':this.Me=true;if(this.T.zu()===true){this.zq();}return;case 'displayedPageRectangle':if(this.T.Al===true){this.zq();return;}break;case 'redactionDraftMode':this.Me=true;this.zq();return;}if(this.T.zu()===true){this.zq();}};IPCC.aD.prototype.axx=function(R){if(R.mark&& !this.Me){this.qI.addMark(R.mark);}else{this.Me=true;}if(this.T.zu()===true){this.zq();}};IPCC.aD.prototype.We=function(){this.qv=this.cE.clone();this.qv.ow(this.acT,this.acj);this.qv.kk(this.T.du(),this.T.fq());this.sH=this.qv.clone();this.sH.yj();};IPCC.aD.prototype.dF=function(aQ,aB,bJ){try{this.Mk=false;if(this.Ny===true){return;}var bk=this.T.lz();if(bk===null){return;}var gd=bk.igElements;try{this.Ny=true;if(this.JU===undefined||aQ===undefined|| !(this.JU.equals(aQ))){if(this.VV){if(this.jR){this.afW(this.jR);var eH=gd.lK;IPCC.Web.UI.aJ.removeHandler(eH,"mousedown",this.Ue);IPCC.Web.UI.aJ.removeHandler(eH,"mousemove",this.Ty);IPCC.Web.UI.aJ.removeHandler(eH,"mouseup",this.SR);IPCC.Web.UI.aJ.removeHandler(eH,"contextmenu",this.VA);IPCC.Web.UI.aJ.removeHandler(gd.ju,"blur",this.UG);IPCC.Web.UI.aJ.removeHandler(gd.gY,"blur",this.TQ);}delete this.jR;this.agA(gd.uR);this.agA(gd.DW);this.VV=false;if(this.IF!==undefined){this.IF.unlockAllItems();}if(this.JB!==undefined){this.JB.unlockAllItems();}this.IF=undefined;this.JB=undefined;bk.igElements.nZ.onscroll=null;bk.igElements.nZ.onresize=null;}if(bk.querySelectorAll){if(bk.querySelectorAll(".pccPageLoadFail").length===0){bk.innerHTML='';}}this.T.pY(true);if(aQ===undefined){this.Ny=false;this.JU=undefined;this.ail();return;}this.JU=aQ.clone();this.IF=new IPCC.xr();this.IF.createPyramid(this,this.T);this.JB=new IPCC.xr();this.JB.createPyramid(this,this.T);this.VV=true;this.alF(this.yq);}this.cE=aB.gI();var OZ=this.cE.rV(aQ);this.cE.ow(-OZ.x,-OZ.y);this.apK=this.cE.clone();this.apK.yj();this.acT=Math.round(OZ.x);this.acj=Math.round(OZ.y);this.We();this.aqH(aQ,aB,bJ);if(aQ.aH===0){this.We();}}finally{this.Ny=false;this.Me=false;if(this.qI){this.qI.removeAllMarks();}}this.acX(true);}catch(e){this.T.O('display',e);throw e;}};IPCC.aD.prototype.pA=function(Aw,zE,Ap){if(Aw[zE]===Ap){return;}Aw[zE]=Ap;};IPCC.aD.prototype.jI=function(Aw,zE,Ap){if(Aw.getAttribute(zE)===Ap){return;}Aw.setAttribute(zE,Ap);};IPCC.aD.prototype.dW=function(Aw,zE,Ap){if(Aw.style[zE]===Ap){return;}Aw.style[zE]=Ap;};IPCC.aD.prototype.acX=function(asd){if(this.Ny){return;}if(this.Mk&& !this.GJ){return;}if(!asd){try{this.WR=true;var bk=this.T.lz();if(bk){this.yb=bk.igElements.nZ.scrollLeft;this.yx=bk.igElements.nZ.scrollTop;}this.apY();this.We();this.T.bV().hW(this.qv);this.T.bo('userModifiedViewState',{});this.T.pY(false);}finally{this.WR=false;}}};IPCC.aD.prototype.aBM=function(pg,cE,UT){var qT=pg.aBE(cE,UT);if(!this.T.Al&&qT.tilesToRequest.length===0&&(qT.opaqueTiles.length+qT.translucentTiles.length)>0){this.T.Al=true;this.T.bo('pageDisplayed',{bI:this.T.aH});}pg.atW(qT);if(this.T.rE()===false){this.afO(qT.tilesToRequest);this.Yx(qT.opaqueTiles,1,cE);this.Yx(qT.translucentTiles,qT.opacity,cE);}};IPCC.aD.prototype.alF=function(yq){var T=this.T;var bk=T.lz();var aB=T.bV();var bA=this;function fi(ku){var sh=document.createElement('div');var F;for(F in ku){if(ku.hasOwnProperty(F)){sh.style[F]=ku[F];}}return sh;};var gd={};bk.igElements=gd;var kj=fi({width:'100%',height:'100%',position:'relative',overflow:aB.get_overflow(),margin:'0px',borderWidth:'0px','-moz-user-select':'text','-webkit-user-select':'text'});gd.nZ=kj;kj.setAttribute('class','igViewerScroller');kj.onscroll=function(){bA.acX(false);};kj.onresize=function(){var bJ=T.fq();bJ.width=kj.clientWidth;bJ.height=kj.clientHeight;T.bo('resize',{});};var eH=fi({width:'2px',height:'2px',position:'relative',overflow:'hidden',margin:'0px',left:'0',top:'0','-ms-touch-action':'none'});kj.appendChild(eH);gd.lK=eH;eH.setAttribute('class','igViewerGraphics');this.Bk=2;this.AZ=2;this.yb=0;this.yx=0;var aL={};aL.pg=this.IF;aL.Ys='ig'+yq+'level';gd.uR=aL;this.aji(aL,eH,fi);aL.qB=this.qB;var mJ;if(T.rE()===false){mJ=fi({position:'absolute',display:'none',width:(aB.vK().width+4)+'px',height:(aB.vK().height+4)+'px',backgroundColor:'#000000'});}else{mJ=fi({position:'absolute',display:'none',width:(aB.vK().width+4)+'px',height:(aB.vK().height+4)+'px',backgroundColor:'#cccccc'});}eH.appendChild(mJ);gd.mJ=mJ;mJ.setAttribute('class','igMagnifierFrame');var sp=fi({width:'0px',height:'0px',position:'absolute',overflow:'hidden',margin:'0px',left:'0',top:'0'});gd.sp=sp;mJ.appendChild(sp);aL={};aL.pg=this.JB;aL.Ys='ig'+yq+'maglevel';gd.DW=aL;this.aji(aL,sp,fi);aL.qB=this.arx;var QP=document.createTextNode('');gd.QP=QP;var ju=document.createElement('textarea');ju.appendChild(QP);ju.style.position='absolute';ju.style.overflow='auto';ju.style.width='80px';ju.style.height='80px';ju.style.resize='none';ju.style.display='none';kj.appendChild(ju);gd.ju=ju;var SA=document.createTextNode('');gd.SA=SA;var gY=document.createElement('input');gY.type="text";gY.style.position='absolute';gY.style.overflow='hidden';gY.style.width='80px';gY.style.height='80px';gY.style.resize='none';gY.style.display='none';gY.style.padding='0px';gY.style.margin='0px';gY.style.lineHeight='normal';gY.className="no-ms-clear";var akY=function(ev){var Js=gY,aa=parseFloat(Js.style['width']),dj=parseFloat(Js.style['height']),ks=Js.style['fontFamily'];var jE=IPCC.bb.uE(Js.value,ks,{xh:'pre'}),pV=12*aa/(jE.width||1),qt=12*dj/(jE.height||1),FA=Math.floor(Math.min(pV,qt))*0.9;Js.style.fontSize=FA+'px';};gY.onkeyup=akY;gY.onfocus=function(ev){akY(ev);if(gY.setSelectionRange){var hT=gY.value.length*2;gY.setSelectionRange(hT,hT);}};kj.appendChild(gY);gd.gY=gY;this.jR={};this.aeV(this.jR);IPCC.Web.UI.aJ.addHandler(eH,"mousedown",this.Ue);IPCC.Web.UI.aJ.addHandler(eH,"mousemove",this.Ty);IPCC.Web.UI.aJ.addHandler(eH,"mouseup",this.SR);IPCC.Web.UI.aJ.addHandler(eH,"contextmenu",this.VA);IPCC.Web.UI.aJ.addHandler(ju,"blur",this.UG);IPCC.Web.UI.aJ.addHandler(gY,"blur",this.TQ);bk.appendChild(kj);};IPCC.aD.prototype.aji=function(aL,gP,fi){var ub=fi({width:'2px',height:'2px',position:'absolute'});aL.gP=gP;gP.appendChild(ub);aL.Uh=ub;ub.setAttribute('class','igAnchor');this.ajB(aL,ub,aL.pg,aL.Ys);aL.yd=fi({position:'absolute',width:'10px',height:'10px',left:'0px',top:'0px',overflow:'visible'});ub.appendChild(aL.yd);var kG=fi({overflow:'hidden',display:'none',position:'absolute',backgroundColor:'#00C0E0',border:'#006070 2px solid'});kG.style[this.alb]=this.akR(0.5);ub.appendChild(kG);aL.kG=kG;};IPCC.aD.prototype.agA=function(aL){if(aL&&aL.Jq){aL.qB.agR();aL.Jq=false;}aL.gP=null;};IPCC.aD.prototype.aqH=function(aQ,aB,bJ){var T=this.T;var wk=this.qv.rV(aQ);var bk=T.lz();var arJ=T.aCp();var gd=bk.igElements;var uR=gd.uR;var DW=gd.DW;var kj=gd.nZ;var eH=gd.lK;var ub=uR.Uh;var mJ=gd.mJ;var sp=gd.sp;var amv=DW.Uh;var Yd=Math.max(0,-wk.x);var YK=Math.max(0,-wk.y);var aEc=Math.max(wk.width,bJ.width);var aAX=Math.max(wk.height,bJ.height);var pk=Math.max(0,wk.x);var pl=Math.max(0,wk.y);var acR=false;var EC=false;if(aB.AL()){EC=aB.xv();}var awj=this.Bk;this.Bk=Math.floor(aEc-1);if(this.Bk<0){this.Bk=0;}var avY=this.AZ;this.AZ=Math.floor(aAX-1);if(this.AZ<0){this.AZ=0;}if(T.rE()===true){if(this.AZ===0){this.AZ=2;}if(this.Bk===0){this.Bk=2;}}var awL=this.yb;var awC=this.yx;if(!this.GJ){this.yb=Math.floor(Yd);this.yx=Math.floor(YK);}if(this.Zy){this.dW(ub,'left',pk+'px');this.dW(ub,'top',pl+'px');}var cE=aB.gI();cE.ow(Yd-pk,YK-pl);this.adO(uR,aB.gI(),cE,aQ,bJ,EC,pk,pl);this.dW(kj,'overflow',aB.get_overflow());if(bJ.width!==kj.clientWidth||bJ.height!==kj.clientHeight){bJ.width=kj.clientWidth;bJ.height=kj.clientHeight;acR=true;}this.pA(ub.style,'visibility','visible');if(aB.get_magnifierIsVisible()){var wE=aB.get_magnifierWindowPosition();var BV=aB.vK();var NZ=aB.Rv();var NC=aB.Sb();var ZW=aB.azX();var auA=Math.round(wE.x-BV.width/2+Yd+NZ);var aur=Math.round(wE.y-BV.height/2+YK+NC);var Nf=ZW.rV(aQ);var auS=Math.max(0,-Nf.x);var avh=Math.max(0,-Nf.y);this.dW(amv,'left',Nf.x+'px');this.dW(amv,'top',Nf.y+'px');var Os=2;mJ.style.width=(BV.width+Os*2)+'px';mJ.style.height=(BV.height+Os*2)+'px';sp.style.width=BV.width+'px';sp.style.height=BV.height+'px';sp.style.left=Os+'px';sp.style.top=Os+'px';mJ.style.left=auA+'px';mJ.style.top=aur+'px';var amb=ZW.clone();amb.ow(auS,avh);this.adO(DW,ZW,amb,aQ,BV,EC,0,0);mJ.style.display='block';}else{mJ.style.display='none';}if(T.afR()){var wL=T.aiU();var aoT=wL.fF();var ih=this.qv.uK(aoT);var oX=(wL.get_type()===IPCC.Web.UI.MarkType.Text)?64:0;var acb=0,afL=0;if(ih.width<oX){ih.width=oX;}if(ih.height<oX){ih.height=oX;}if(ih.width>bJ.width){ih.width=bJ.width;}if(ih.height>bJ.height){ih.height=bJ.height;}if(ih.x<0){ih.x=0;}if(ih.y<0){ih.y=0;}if(ih.x+ih.width+1>=bJ.width){ih.x=bJ.width-ih.width;acb= -8;}if(ih.y+ih.height+1>=bJ.height){ih.y=bJ.height-ih.height;afL= -8;}var kt=this.aba(wL);kt.style.left=this.yb+ih.x+1+'px';kt.style.top=this.yx+ih.y+1+'px';kt.style.width=ih.width+acb+'px';kt.style.height=ih.height+afL+'px';if(kt.style.display!=='block'){kt.style.display='block';var uM=wL.ee;var ug='';if(uM&IPCC.Web.UI.FontStyle.Italic){kt.style.fontStyle="italic";}if(uM&IPCC.Web.UI.FontStyle.Bold){kt.style.fontWeight="bold";}if(uM&IPCC.Web.UI.FontStyle.Underline){ug+="underline";}if(uM&IPCC.Web.UI.FontStyle.Strikeout){if(uM&IPCC.Web.UI.FontStyle.Underline){ug+=" line-through";}else{ug="line-through";}}kt.style.textDecoration=ug;kt.style.color=wL.oR;kt.style.backgroundColor=wL.cW;kt.style.fontFamily=wL.gn;kt.style['z-index']=100;var FA=wL.ni*this.qv.uy();kt.style.fontSize=FA+"px";switch(wL.qO){case IPCC.Web.UI.HorizontalAlignment.Center:kt.style.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:kt.style.textAlign='right';break;default:kt.style.textAlign='left';break;}kt.focus();}}else{gd.ju.style.display='none';gd.gY.style.display='none';if(document.activeElement===gd.ju){gd.ju.blur();}if(document.activeElement===gd.gY){gd.gY.blur();}}if(aB.get_cursor()!== -1){var ja=IPCC.bi.eU(aB.get_cursor());this.pA(eH.style,'cursor',ja);}if(acR){T.bo('resize',{});}if(this.Bk!==awj){this.dW(eH,'width','100%');}if(this.AZ!==avY){this.dW(eH,'height','100%');}if(this.yb!==awL){kj.scrollLeft=this.yb;}if(this.yx!==awC){kj.scrollTop=this.yx;}if(arJ==="PageView"&& !this.GJ){aB=T.bV();var bx=aB.gI();var yB=(+bx.uy().toFixed(6));if(T.Ot!==yB){T.Ot=yB;setTimeout(function(){T.bo('scaleChanged',{scaleFactor:yB,pageNumber:T.aH});},1);T.bo('scaleChanged',{scaleFactor:yB,pageNumber:T.aH});}}};IPCC.aD.prototype.adO=function(aL,qv,cE,bu,bJ,EC,pk,pl){var wk=qv.rV(bu);var mg={};mg.width=Math.max(wk.width,bJ.width);mg.height=Math.max(wk.height,bJ.height);this.apV(aL,qv,cE,bu,bJ,pk,pl);this.WG(aL,cE,mg,bu,pk,pl);var sH=qv.clone();sH.yj();var UT=sH.uK({x:0,y:0,width:bJ.width,height:bJ.height});if(this.T.rE()===false){this.aBM(aL.pg,cE,UT);}else{this.atE(aL);}if(EC){var EI=cE.uK(EC);if(this.Zy){aL.kG.style.left=(EI.x-2)+'px';aL.kG.style.top=(EI.y-2)+'px';}else{aL.kG.style.left=(EI.x-2+pk)+'px';aL.kG.style.top=(EI.y-2+pl)+'px';}aL.kG.style.width=EI.width+'px';aL.kG.style.height=EI.height+'px';aL.kG.style.display='block';}else{aL.kG.style.display='none';}};IPCC.aD.prototype.apV=function(aL,qv,cE,bu,bJ,pk,pl){var bM=this.T.ft();var he=this.T.kO();var ez=this.T.Po();var aiM=0;var C=this;if(aL.ln){aiM=aL.ln.length;}if(!aL.qB|| !bM){return;}var pe=this.T.aAa();if(bM.get_markCount()<=0&&he.get_markCount()<=0&&ez.get_markCount()<=0&&aiM<=0&& !pe){return;}if(!aL.Jq){aL.qB.ajF(this.T,aL,bu);aL.ln=[];aL.Jq=true;}he=this.T.kO();var ay=[];function auz(J){if((C.T.ii()&&C.T.dJ().nm()===true)||J.get_type()!==IPCC.Web.UI.MarkType.Highlight){ay.push(J);}};function agQ(J){ay.push(J);};ez.forEachMark(agQ);if(this.T.ii()&&this.T.dJ().nm()===true){he.forEachMark(agQ);}bM.forEachMark(auz);if(pe){ay.push(pe);}var F,ln=aL.ln;for(F=0;F<ln.length;F++){while(F<ln.length&&(F>=ay.length||ln[F].J!==ay[F])){aL.qB.Hl(ln[F]);ln.splice(F,1);}if(F<ln.length&&(this.Me||this.qI.contains(ln[F].J))){aL.qB.Rw(ln[F]);}}for(F=ln.length;F<ay.length;F++){ln[F]={J:ay[F]};aL.qB.ahY(ln[F]);}if(this.T.lO()){if(this.Zy){aL.qB.abY(this.T,aL,ay,cE,this.T.afT());}else{var fn=cE.clone();fn.ow(pk,pl);aL.qB.abY(this.T,aL,ay,fn,this.T.afT());}}};IPCC.aD.prototype.WG=function(){};IPCC.aD.prototype.apY=function(){var bk=this.T.lz();if(bk){this.acT=bk.igElements.lK.offsetLeft-this.yb;this.acj=bk.igElements.lK.offsetTop-this.yx;}};IPCC.aD.prototype.rJ=function(R,dF){var lj=this.T.lz().igElements;var iF=R.domEvent;var fG;if(lj.lK.getBoundingClientRect){fG=lj.lK.getBoundingClientRect();}else{var cA=lj.lK;var vu=document.documentElement;fG={left:vu.clientLeft-vu.scrollLeft,top:vu.clientTop-vu.scrollTop};cA=cA.offsetParent;while(cA){fG.top+=cA.offsetTop-cA.scrollTop;fG.left+=cA.offsetLeft-cA.scrollLeft;cA=cA.offsetParent;}}if(iF.rawEvent.touches){if(iF.rawEvent.touches.length>0){this.NR=new IPCC.Web.UI.Point(iF.rawEvent.touches[0].clientX-lj.nZ.scrollLeft-fG.left,iF.rawEvent.touches[0].clientY-lj.nZ.scrollTop-fG.top);}if(!this.NR){this.NR=new IPCC.Web.UI.Point(0,0);}R.windowPoint=new IPCC.Web.UI.Point(this.NR.x,this.NR.y);iF.button=0;}else{R.windowPoint=new IPCC.Web.UI.Point(iF.clientX-fG.left-lj.nZ.scrollLeft,iF.clientY-fG.top-lj.nZ.scrollTop);}var Sf=this.sH.transform(R.windowPoint);R.imagePoint=new IPCC.Web.UI.Point(Sf.x,Sf.y);R.constrainedImagePoint=new IPCC.Web.UI.Point(Sf.x,Sf.y);R.constrainedImagePoint.x=Math.min(Math.max(R.constrainedImagePoint.x,0),this.JU.width);R.constrainedImagePoint.y=Math.min(Math.max(R.constrainedImagePoint.y,0),this.JU.height);R.pointLiesWithinImage=(R.constrainedImagePoint.x===R.imagePoint.x&&R.constrainedImagePoint.y===R.imagePoint.y);R.mark=null;try{var dA=iF.target;while(!(dA.ImGearMarkRelation)&&dA.parentNode&&dA!==document.body){dA=dA.parentNode;}if(dA.ImGearMarkRelation){R.mark=dA.ImGearMarkRelation.J;}}catch(an){}};IPCC.aD.prototype.kH=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);this.T.ayO(R);}catch(ex){this.T.O('mouseDown',ex);}};IPCC.aD.prototype.kT=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);this.T.axO(R);}catch(ex){this.T.O('mouseMove',ex);}};IPCC.aD.prototype.mw=function(an){try{var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);if(!an.rawEvent.wheelDelta){R.wheelDelta= -an.rawEvent.detail*120;}else{R.wheelDelta=an.rawEvent.wheelDelta;}this.T.axA(R);}catch(ex){this.T.O('mouseWheel',ex);}};IPCC.aD.prototype.xb=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);this.T.ayM(R);}catch(ex){this.T.O('mouseDoubleClick',ex);}};IPCC.aD.prototype.hK=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);this.T.axY(R);}catch(ex){this.T.O('mouseUp',ex);}};IPCC.aD.prototype.Rx=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;this.rJ(R);this.T.axN(R);}catch(ex){this.T.O('contextMenu',ex);}};IPCC.aD.prototype.akX=function(an){try{this.T.pY(true);}catch(ex){this.T.O('textAreaBlur',ex);}};IPCC.aD.prototype.alj=function(an){try{this.T.pY(true);}catch(ex){this.T.O('textInputBlur',ex);}};IPCC.aD.prototype.atD=function(J){var ju=this.aba(J);ju.value=J.al||"";};IPCC.aD.prototype.awZ=function(){var T=this.T;var J=T.aiU();if(!J|| !T.afR()){return;}var al=this.aba(J).value;al=al.replace(/(\n|\n\r|\r\n|\r)/g,'\n');J.set_text(al);};IPCC.aD.prototype.aba=function(J){var lj=this.T.lz().igElements,ju=null;if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){ju=lj.gY;}else if(J.get_type()===IPCC.Web.UI.MarkType.Text){ju=lj.ju;}return ju;};IPCC.xr=function(){this.fw=[];return this;};IPCC.xr.prototype.aBE=function(cV,ef){var bj=cV.uy();var F,lT,rc;var db=1;var RZ;var zP=[];var zU=[];var Ac=[];var FS,NU;rc=this.fw.length;for(F=0;F<this.fw.length;F++){if(this.fw[F].bj>bj){rc=F;break;}}lT=rc-1;if(lT<0){lT=0;}if(rc>=this.fw.length){rc=this.fw.length-1;}if(lT!==rc){RZ=(bj-this.fw[lT].bj)/(this.fw[rc].bj-this.fw[lT].bj);db=RZ*1.0;if(db>=0.15){db=1;lT=rc;}if(db<=0.15){db=1;rc=lT;}}zU=this.fw[lT].Nj(ef);Ac=this.fw[rc].Nj(ef);var Mj=function(nJ){var F;for(F=0;F<nJ.length;F++){nJ[F].level.pool.SF(nJ[F]);}};var abp=function(nJ){var akj=[];var F;for(F=0;F<nJ.length;F++){if(!nJ[F].get_isLockedAndLoaded()){akj.push(nJ[F]);}}return akj;};var ajk=function(nJ){var ahB=[];var F;for(F=0;F<nJ.length;F++){if(nJ[F].get_isLockedAndLoaded()){ahB.push(nJ[F]);}}return ahB;};if(lT>0&&lT===rc&&this.fw[rc].tiles.length>1){lT=rc-1;zU=this.fw[lT].Nj(ef);}Mj(zU);zP=abp(zU);if(zP.length>0){for(FS=lT-1;FS>=0;FS--){NU=this.fw[FS].Nj(ef);Mj(NU);if(abp(NU).length<1){break;}}if(FS<0){zU=ajk(zU);}else{lT=FS;zU=NU;db=1;}}else{Mj(Ac);zP=abp(Ac);}Mj(Ac);Ac=ajk(Ac);if(zP.length>3){zP.splice(3,zP.length-3);}function api(){var aU;function Ve(Ek){var aU='',F,bD;if(Ek.length<1){return '';}bD=Ek[0].level;aU+='level '+bD.id.toString()+' - ';for(F=0;F<Ek.length;F++){if(F>0){aU+=', ';}aU+='('+(Ek[F].x/bD.oV).toString()+','+(Ek[F].y/bD.zS).toString()+')';if(Ek[F].get_isLockedAndLoaded()){aU+='*';}}return aU;};aU='tilesToRequest: '+Ve(this.tilesToRequest)+'<br/>';aU+='opaqueTiles: '+Ve(this.opaqueTiles)+'<br/>';aU+='translucentTiles: '+Ve(this.translucentTiles)+'<br/>';aU+='opacity: '+this.opacity.toString()+'<br/>';aU+='abI: '+this.abI.toString()+'<br/>';aU+='cV: '+this.cV.toString()+'<br/>';return aU;};return{opaqueTiles:zU,translucentTiles:Ac,opacity:db,tilesToRequest:zP,toString:api,abI:bj,cV:cV.toString()};};IPCC.xr.prototype.atW=function(qT){var Eg=[];var uS=[];var F,j;var bD,tile;for(F=0;F<this.fw.length;F++){bD=this.fw[F];for(j=0;j<bD.tiles.length;j++){tile=bD.tiles[j];if(tile.poolItem!==undefined){Eg.push(tile);}}}var aev=function(UO,ajU){var F,j,TO,TP;for(F=0;F<ajU.length;F++){TO=ajU[F];TP=true;for(j=0;j<UO.length;j++){if(TO===UO[j]){TP=false;break;}}if(TP){UO.push(TO);}}};uS=qT.tilesToRequest.concat();aev(uS,qT.opaqueTiles);aev(uS,qT.translucentTiles);for(F=Eg.length-1;F>=0;F--){var arA=Eg[F];for(j=0;j<uS.length;j++){if(uS[j]===arA){Eg.splice(F,1);break;}}}for(F=0;F<Eg.length;F++){Eg[F].unlock();}for(F=0;F<uS.length;F++){uS[F].relock();}for(F=0;F<uS.length;F++){if(uS[F].poolItem===undefined){uS[F].lock();}}};IPCC.xr.prototype.unlockAllItems=function(){var F,j,bD;for(F=0;F<this.fw.length;F++){bD=this.fw[F];for(j=0;j<bD.tiles.length;j++){if(bD.tiles[j].poolItem!==undefined){bD.pool.ade(bD.tiles[j]);}}}};IPCC.xr.prototype.aEm=function(){var F;for(F=0;F<this.fw.length;F++){this.fw[F].pool.anC();}};IPCC.xr.prototype.toString=function(){var aU='',F,j,bD;for(F=0;F<this.fw.length;F++){bD=this.fw[F];aU+='Level '+F.toString()+':   scaleFactor='+bD.bj.toString()+'  image='+bD.width.toString()+'x'+bD.height.toString()+'  tile='+bD.oV.toString()+'x'+bD.zS.toString()+'\n';for(j=0;j<bD.tiles.length;j++){if(j>0){aU+=', ';}aU+='('+bD.tiles[j].x.toString()+', '+bD.tiles[j].y.toString()+')';}aU+='\n';}return aU;};IPCC.xr.prototype.createPyramid=function(kM,T){var atz=6000000;var akl=5000;var oV=1024;var auR=oV*oV*3*150;var aco=0.5;var atH=2;var aQ=T.du();var Cl=aQ.width*aQ.height*3;var AF;var bD;var bj;var F;var x,y;var tile;var xY,yl;this.fw=[];if(aQ.rA){bj=1.0;AF=Cl*bj*bj;while(this.fw.length<atH||AF>akl){bD=new IPCC.QY();bD.bj=bj;this.fw.unshift(bD);bj*=aco;AF=Cl*bj*bj;}}else{if(T.rE()===true){Cl=aQ.width*aQ.height;}bj=Math.sqrt(akl/Cl);var avH=bj*aQ.fQ;bj=Math.ceil(avH)/aQ.fQ;AF=Cl*bj*bj;if(T.rE()===false){while(AF<auR){bD=new IPCC.QY();bD.bj=bj;this.fw.push(bD);bj/=aco;AF=Cl*bj*bj;}}else{bD=new IPCC.QY();bD.bj=1;this.fw.push(bD);}}aQ.rq=this.fw[this.fw.length-1].bj*8;for(F=0;F<this.fw.length;F++){bD=this.fw[F];bD.ND=85;if(F===this.fw.length-1){bD.ND=100;}bD.pyramid=this;bD.id=F;bD.pool=new IPCC.aeM();bD.pool.uiDirector=kM;AF=Cl*bD.bj*bD.bj;bD.width=Math.round(aQ.width*bD.bj);bD.height=Math.round(aQ.height*bD.bj);bD.oV=bD.width;bD.zS=bD.height;if(F>2&&F>this.fw.length-2){bD.oV=Math.min(oV/2,bD.width);bD.zS=Math.min(oV/2,bD.height);}if(AF>atz){bD.oV=Math.min(oV,bD.width);bD.zS=Math.min(oV,bD.height);}bD.tiles=[];xY=bD.oV;for(x=0;x<bD.width;x+=xY){xY=bD.oV;if(x+xY*1.25>bD.width){xY=bD.width-x;}yl=bD.zS;for(y=0;y<bD.height;y+=yl){yl=bD.zS;if(y+yl*1.25>bD.height){yl=bD.height-y;}tile=new IPCC.JD();tile.level=bD;tile.x=x;tile.y=y;tile.right=tile.x+xY;if(tile.right<bD.width){tile.right++;}tile.bottom=tile.y+yl;if(tile.bottom<bD.height){tile.bottom++;}var Fg='jpeg';if(T.rE()===false){if(bD.ND>=100){Fg='png';}if(xY!==bD.width||yl!==bD.height){tile.url=T.aaI('Tile/'+x.toString()+'/'+y.toString()+'/'+xY.toString()+'/'+yl.toString(),'Scale='+bD.bj.toString()+'&Quality='+bD.ND+'&ContentType='+Fg);}else{tile.url=T.aaI('','Scale='+bD.bj.toString()+'&Quality='+bD.ND+'&ContentType='+Fg);}}else{if(document.documentMode===10||IPCC.bb.zz){Fg='svg';}else{Fg='svga';}tile.url=T.aaI('','Scale='+bD.bj.toString()+'&ContentType='+Fg);tile.aDw=kM.Vs();}bD.tiles.push(tile);}}}};IPCC.QY=function(){this.bj=1;this.width=0;this.height=0;this.oV=0;this.zS=0;this.pool=undefined;return this;};IPCC.QY.prototype.Nj=function(ef){if(ef.width<1||ef.height<1){return[];}var mD=Math.floor(ef.x*this.bj);var mO=Math.floor(ef.y*this.bj);var pr=Math.ceil((ef.x+ef.width)*this.bj);var oM=Math.ceil((ef.y+ef.height)*this.bj);var nJ=[];var F,jw;var cT=this.tiles.length;for(F=0;F<cT;F++){jw=this.tiles[F];if(jw.x<=pr&&jw.right>=mD&&jw.y<=oM&&jw.bottom>=mO){nJ.push(jw);}}return nJ;};IPCC.JD=function(){this.x=0;this.y=0;this.right=0;this.bottom=0;this.url='';this.poolItem=undefined;this.level=undefined;return this;};IPCC.JD.prototype.unlock=function(){this.level.pool.ade(this);};IPCC.JD.prototype.lock=function(){this.level.pool.lockTile(this);};IPCC.JD.prototype.relock=function(){return this.level.pool.SF(this);};IPCC.JD.prototype.get_isLockedAndLoaded=function(){if(this.poolItem===undefined|| !this.poolItem.loaded){return false;}return true;};IPCC.aeM=function(){this.bY=[];this.parentElementID='';this.lockTile=function(jw){var dr,F,VG,YX;if(this.SF(jw)){return;}VG=0;for(F=this.bY.length-1;F>=0;F--){if(!(this.bY[F].locked)){VG++;YX=F;}}if(VG>4){dr=this.bY[YX];this.uiDirector.UJ(dr);this.bY.splice(YX,1);}dr=new IPCC.auI();dr.pool=this;this.uiDirector.aeW(dr);this.bY.push(dr);dr.locked=true;dr.tile=jw;jw.poolItem=dr;return;};this.SF=function(jw){var dr,F;if(this.locked){return true;}for(F=0;F<this.bY.length;F++){if(this.bY[F].tile===jw){dr=this.bY[F];dr.locked=true;jw.poolItem=dr;return true;}}return false;};this.ade=function(jw){var eN,F;eN=jw.poolItem;if(eN!==undefined&&eN.locked){this.uiDirector.aeS(eN);eN.locked=false;jw.poolItem=undefined;for(F=0;F<this.bY.length;F++){if(this.bY[F]===eN){this.bY.splice(F,1);this.bY.push(eN);return;}}}};return this;};IPCC.aeM.prototype.anC=function(){var F;for(F=0;F<this.bY.length;F++){if(!this.bY[F].locked){this.uiDirector.UJ(this.bY[F]);}}};IPCC.auI=function(){this.locked=false;this.loaded=false;this.tile=undefined;this.pool=undefined;this.elementID='';return this;};IPCC.bb={};IPCC.bb.anE=(function supportsSVG(){return! !('createElementNS'in document&&document.createElementNS('http://www.w3.org/2000/svg','svg').createSVGRect);})();IPCC.bb.zz=(function(){var zz=false;var uv=navigator.userAgent,Xv=((uv.indexOf('Mozilla/5.0')> -1&&uv.indexOf('Android ')> -1&&uv.indexOf('AppleWebKit')> -1)&& !(uv.indexOf('Chrome')> -1)),acv=new RegExp(/AppleWebKit\/([\d.]+)/),auB=acv.exec(uv),aen=(auB===null?null:parseFloat(acv.exec(uv)[1]));zz=Xv&&aen!==null&&aen<537;return zz;})();IPCC.bb.aFE=(function(){var ahA=false;var uv=navigator.userAgent,Xv=/Android/i.test(uv),avs=/iPhone|iPad|iPod/i.test(uv),aws=/IEMobile/i.test(uv);ahA=(Xv||avs||aws);return ahA;})();IPCC.bb.BX=(function(){if(document.documentMode===8){document.namespaces.add('v','urn:schemas-microsoft-com:vml');document.createStyleSheet().addRule("v\\: *","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:oval","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:roundrect","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:fill","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:line","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:shape","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:polyline","behavior:url(#default#VML); position:absolute");document.createStyleSheet().addRule("v\\:stroke","behavior:url(#default#VML); position:absolute");return true;}return false;})();IPCC.bb.OU=(function(){return('ontouchstart'in document.documentElement)||window.navigator.msPointerEnabled;})();IPCC.bb.Jx=(function(){return window.navigator.msPointerEnabled;})();IPCC.bb.awc=(function(){return(navigator.platform)? ! !navigator.platform.match(/iPad|iPhone|iPod/g):false;})();IPCC.bb.adU=function(){return IPCC.bb.auP.btoa((Math.random().toString(36).slice(-4))+'_'+IPCC.bb.An(new Date())+'_'+(Math.random().toString(36).slice(-6)));};IPCC.bb.inArray=function(eY,dr){for(var i=0,l=eY.length;i<l;i++){if(eY[i]===dr){return true;}}return false;};IPCC.bb.forEach=function(bg,cf,cC){var qP=[].forEach,aCF=Object.prototype.hasOwnProperty;if(qP&&bg.forEach===qP){cf&&bg.forEach(cf,cC);}else if(bg.length=== +bg.length){for(var i=0,length=bg.length;i<length;i++){cf&&cf.call(cC,bg[i],i,bg);}}else{for(var ct in bg){if(aCF.call(bg,ct)){cf&&cf.call(cC,bg[ct],ct,bg);}}}};IPCC.bb.map=function(eY,cf,cC){var qP=[].map,wa=[];if(qP&&eY.map===qP){wa=eY.map(cf,cC);}else{IPCC.bb.forEach(eY,function(el,i){wa.push(cf.call(cC,el,i,eY));});}return wa;};IPCC.bb.filter=function(eY,cf,cC){var qP=[].filter,wa=[],alE=false;if(qP&&eY.filter===qP){wa=eY.filter(cf,cC);}else{IPCC.bb.forEach(eY,function(aS,i){alE=cf.call(cC,aS,i,eY);if(alE){wa.push(aS);}});}return wa;};IPCC.bb.reduce=function(eY,cf,fM,cC){var qP=[].reduce;var HE=(arguments.length===2)?undefined:fM;if(qP&&typeof qP==='function'&&eY.reduce===qP){return eY.reduce(cf,fM,cC);}IPCC.bb.forEach(eY,function(cg,cB){if(!HE){HE=cg;return;}HE=cf.call(cC,HE,cg,cB,eY);});return HE;};IPCC.bb.reduceLeft=function(eY,cf,fM,cC){var wa=eY.reverse();return IPCC.bb.reduce.call(undefined,wa,cf,fM,cC);};IPCC.bb.contains=function(eY,cg){var dm=eY.length;while(dm--){if(eY[dm]===cg){return true;}}return false;};IPCC.bb.arU=function(Vm,aej){if(Vm.length!==aej.length){return false;}for(var i=0,l=Vm.length;i<l;i++){if(Vm[i]!==aej[i]){return false;}}return true;};IPCC.bb.extend=function(target){"use strict";var source;if(!target){throw new IPCC.Web.UI.ImGearArgumentException("target","target must be defined.");}else if(typeof target!=='object'){throw new IPCC.Web.UI.ImGearArgumentException("target","typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};IPCC.bb.ajT=function ajT(Ox,asc,aeL){var DG;return function(){var cC=this,cs=arguments;var avf=function(){DG=undefined;if(!aeL){Ox.apply(cC,cs);}};var asG=aeL&& !DG;clearTimeout(DG);DG=setTimeout(avf,asc);if(asG){Ox.apply(cC,cs);}};};IPCC.bb.anp=function anp(bF,um){if(bF.classList){bF.classList.add(um);}else{bF.className+=' '+um;}};IPCC.bb.amw=function amw(bF,um){if(bF.classList){bF.classList.remove(um);}else{bF.className=bF.className.replace(um,'');}};IPCC.bb.YY=function(jC){return{width:jC.width||(jC.right-jC.left),height:jC.height||(jC.bottom-jC.top),top:jC.top,bottom:jC.bottom,left:jC.left,right:jC.right};};IPCC.bb.Lx=function(awq){var tk,Kw={method:'GET',body:null,headers:{}},oY=PCCViewer.Deferred(),bp={},aI;PCCViewer.zR.uu(bp,Kw,awq);try{tk=new XMLHttpRequest();}catch(e){oY.reject(new PCCViewer.Error("Error",e.message));}tk.open(bp.method,bp.url,true);tk.onreadystatechange=function(){if(tk.readyState===4){if(tk.status>=200&&tk.status<300){oY.resolve(tk.responseText);}else{oY.reject(new PCCViewer.Error("Error","An AJAX problem occurred: "+tk.status+" "+tk.statusText));}}};aI=null;for(aI in bp.headers){if(bp.headers.hasOwnProperty(aI)){tk.setRequestHeader(aI,bp.headers[aI]);}}if(bp.method==='POST'&&typeof bp.headers['Content-Type']==='undefined'){oY.reject(new PCCViewer.Error("Error","An Ajax request with a method of POST must have a Content-Type header set."));}aI=null;if(bp.method==='POST'&&bp.headers['Content-Type']==="application/x-www-form-urlencoded"&&bp.dataType==='json'){var agF=[];for(aI in bp.body){if(bp.body.hasOwnProperty(aI)){agF.push(encodeURIComponent(aI)+'='+encodeURIComponent(bp.body[aI]));}}bp.body=agF.join('&');}tk.send(bp.body);return oY.getPromise();};IPCC.bb.Oo=function(fr,lU,fe){var lk=[],tW=null,wW=null,ba;var awJ=function(wW,tW){if(!tW){return false;}else{return Math.abs(wW.y-tW.y)<1&&Math.abs(wW.height-tW.height)<1&&wW.x+wW.width>=tW.x+tW.width;}};for(ba=lU;ba<fe+1;ba++){wW=fr.lf(ba).bQ;if(awJ(wW,tW)){tW.union(wW);}else{tW=wW.clone();lk.push(tW);}}return lk;};IPCC.bb.addEvent=function addEvent(obj,event,handler){if(obj.addEventListener){obj.addEventListener(event,handler,false);}else if(obj.attachEvent){obj.attachEvent('on'+event,handler);}};IPCC.bb.removeEvent=function(obj,event,handler){if(obj.removeEventListener){obj.removeEventListener(event,handler,false);}else if(obj.detachEvent){obj.detachEvent('on'+event,handler);}};IPCC.bb.bspline=(function(){var d3_svg_lineBasisBezier1=[0,2/3,1/3,0],d3_svg_lineBasisBezier2=[0,1/3,2/3,0],d3_svg_lineBasisBezier3=[0,1/6,2/3,1/6];function d3_svg_lineLinear(points){return points.join("L");};function d3_svg_lineDot4(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3];};function d3_svg_lineBasisBezier(path,x,y){path.push("C",d3_svg_lineDot4(d3_svg_lineBasisBezier1,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier1,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier2,y),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,x),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,y));};function d3_svg_lineBasis(points){if(points.length<3){return d3_svg_lineLinear(points);}var i=1,n=points.length,pi=points[0],x0=pi[0],y0=pi[1],px=[x0,x0,x0,(pi=points[1])[0]],py=[y0,y0,y0,pi[1]],path=[x0,",",y0,"L",d3_svg_lineDot4(d3_svg_lineBasisBezier3,px),",",d3_svg_lineDot4(d3_svg_lineBasisBezier3,py)];points.push(points[n-1]);while(++i<=n){pi=points[i];px.shift();px.push(pi[0]);py.shift();py.push(pi[1]);d3_svg_lineBasisBezier(path,px,py);}points.pop();path.push("L",pi);return path.join("");};return function(bv){var anL=IPCC.bb.map(bv,function(aS){return[aS.x,aS.y];});return d3_svg_lineBasis(anL);};})();IPCC.bb.aEr=function(cO){if(cO.match(/[^a-zA-Z0-9\s\,\.]/)){throw new Error('The path data attribute is not valid. It cannot be parsed.');}var aDS=IPCC.bb.filter(cO.replace(/[Mm]/g,'|').split('|'),function(g){return! !g.length;});var aml=IPCC.bb.map(aDS,function(el){var aou=el.replace(/[a-zA-Z]/g,'|').split('|');return IPCC.bb.map(aou,function(fB){var aiC=fB.split(',');return{x: +aiC[0],y: +aiC[1]};});});return aml;};IPCC.bb.ahX=function(cO,ks,lv,jL,bp){bp.cS="12px";var jE=IPCC.bb.uE(cO,ks,bp),pV=12*lv/(jE.width||1),qt=12*jL/(jE.height||1),amc=Math.min(pV,qt);bp.cS=amc;return IPCC.bb.ahQ(cO,ks,lv,jL,bp);};IPCC.bb.ahQ=function(cO,ks,lv,jL,bp,Ql){Ql=Ql||1;var jp={},jE=IPCC.bb.uE(cO,ks,bp),cS=bp.cS;jp.width=jE.width;jp.height=jE.height;jp.fontSize=cS;if(Ql>3){return jp;}if((jE.width<lv+1)&&(jE.height<jL+1)){return jp;}else{var pV=cS*lv/(jE.width||1),qt=cS*jL/(jE.height||1),FA=Math.min(pV,qt);if(FA>=bp.cS){return jp;}else{bp.cS=FA;return IPCC.bb.ahQ(cO,ks,lv,jL,bp,Ql+1);}}};IPCC.bb.uE=function(cO,ks,bp){bp=bp||{};if(document.createElementNS){return IPCC.bb.aCm(cO,ks,bp);}else{return IPCC.bb.aeJ(cO,ks,bp);}};IPCC.bb.aCm=function(cO,ks,bp){var svg,agU=false;if(bp.gN){svg=bp.gN;}else{svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute('style','border: 1px solid black');svg.setAttribute('width','600');svg.setAttribute('height','600');agU=true;document.body.appendChild(svg);}var cS=bp.cS||"12px";if(typeof cS==="number"){cS=cS+"px";}var ep=document.createElementNS("http://www.w3.org/2000/svg","text");IPCC.bb.forEach({x:0,y:0,'font-size':cS,'stroke':"none",'fill':"#000000",'font-family':ks},function(value,name){ep.setAttribute(name,value);});if(bp.xh){ep.setAttribute('style','white-space:'+bp.xh);}var uO=document.createTextNode(cO);ep.appendChild(uO);svg.appendChild(ep);var yY=ep.getBBox(),JE=yY.width,Jt=yY.height;svg.removeChild(ep);if(agU){document.body.removeChild(svg);}if(JE===0&&Jt===0&&cO!=="M"){return IPCC.bb.uE("M",ks,bp);}else{return{width:JE,height:Jt};}};IPCC.bb.aeJ=function(cO,ks,bp){var uO=document.createTextNode(cO),Fw=document.createElement('div');var cS=bp.cS||"12px";if(typeof cS==="number"){cS=cS+"px";}IPCC.bb.forEach({position:'absolute',display:'inline-block',top:0,left:0,visibility:'hidden',fontSize:cS,fontFamily:ks},function(value,name){Fw.style[name]=value;});if(bp.xh){Fw.style.whiteSpace=bp.xh;}Fw.appendChild(uO);document.body.appendChild(Fw);var yY=Fw.getBoundingClientRect(),JE=yY.width||yY.right-yY.left,Jt=yY.height||yY.bottom-yY.top;document.body.removeChild(Fw);if(JE===0&&Jt===0&&cO!=="M"){return IPCC.bb.aeJ("M",ks,cS);}else{return{width:JE,height:Jt};}};IPCC.bb.aaX=function(svgPath){var regexp=/[\s,]*(M)[\s,]*([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(C)[\s,]?([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)[\s,]+([\d\.]+)|[\s,]*(L)[\s,]*([\d\.]+)[\s,]+([\d\.]+)/g;var match=regexp.exec(svgPath);var xArr=[],yArr=[];function updateBounds(x,y){xArr.push(Number(x));yArr.push(Number(y));};while(match!==null){if(match[1]){updateBounds(match[2],match[3]);}else if(match[4]){updateBounds(match[5],match[6]);updateBounds(match[7],match[8]);updateBounds(match[9],match[10]);}else if(match[11]){updateBounds(match[12],match[13]);}match=regexp.exec(svgPath);}return{width:Math.max.apply(Math,xArr),height:Math.max.apply(Math,yArr)};};IPCC.bb.xS=(IPCC.bb.anE)?{SVG:function SVG(Vn){var gN=document.createElementNS("http://www.w3.org/2000/svg","svg");gN.setAttribute('viewBox',Vn);return gN;},Path:function Path(sZ,qH){var dR=document.createElementNS("http://www.w3.org/2000/svg","path");dR.style.fill='none';dR.style.stroke=qH.color||'#000000';dR.style.strokeWidth=qH.thickness||4;if(sZ){dR.setAttribute('d',sZ.toString().trim());}return dR;},Rect:function Rect(aa,dj,aX){var ar=document.createElementNS("http://www.w3.org/2000/svg","rect");ar.setAttribute('width',aa||0);ar.setAttribute('height',dj||0);if(aX){ar.setAttribute('style',aX);}return ar;}}:{SVG:function(Vn,Nv){var bF=document.createElement("div");bF.style.left="0px";bF.style.top="0px";bF.style.position="relative";bF.baseInit=false;bF.baseX=0;bF.baseY=0;var awi=bF.setAttribute;bF.setAttribute=function(aI,L){if(aI==="width"){this.style.width=L*(+Nv||1);}else if(aI==="height"){this.style.height=L*(+Nv||1);}else if(aI==="x"){this.style.left=L;}else if(aI==="y"){this.style.top=L;}else if(aI==="viewBox"){var ru=L.split(" ");this.style.height= +ru.pop()*(+Nv||1)+'px';this.style.width= +ru.pop()*(+Nv||1)+'px';}else{awi(aI,L);}};bF.setAttribute('viewBox',Vn);bF.setAttribute('data-pcc-mark','signature');return bF;},Path:function(sZ,qH){var bF=document.createElement("v:shape");bF.style.width=qH.width*(+qH.multiplier||1);bF.style.height=qH.height*(+qH.multiplier||1);bF.coordsize=[qH.width,qH.height].join(', ');bF.style.position="absolute";bF.setAttribute=function(aI,L){if(aI==="d"){var GI=0;var FO=0;L=L.replace(/(\d*)((\.*\d*)(e ?-?\d*))/g,"$1");var NS=L.match(/([MLHVCSQTAZ].*?)(?=[MLHVCSQTAZ]|$)/gi);var ake="",fU=[];for(var i=0;i<NS.length;i++){var fB=NS[i].substring(0,1);var lH=NS[i].substring(1,NS[i].length);lH=lH.split(/[, ]/);for(var j=0;j<lH.length;j++){lH[j]=Math.round(lH[j]);}lH=lH.join();switch(fB){case "M":fB="m";fU=lH.split(/[, ]/);GI=parseInt(fU[0],10);FO=parseInt(fU[1],10);break;case "m":fB="t";fU=lH.split(/[, ]/);fU[0]=parseInt(fU[0],10)+parseInt(GI,10);fU[1]=parseInt(fU[1],10)+parseInt(FO,10);GI=parseInt(fU[0],10);FO=parseInt(fU[1],10);break;case "A":fB="ae";var cs=lH.split(/[, ]+/);cs[0]=parseInt(cs[0],10);cs[1]=parseInt(cs[1],10);cs[2]=parseInt(cs[2],10);cs[3]=parseInt(cs[3],10);cs[4]=parseInt(cs[4],10);cs[5]=parseInt(cs[5],10);lH=cs[4]+" "+cs[5]+" "+cs[2]*2+" "+cs[3]*2+" 0 360";break;case "L":fB="l";fU=lH.split(/[, ]+/);GI=parseInt(fU[0],10);FO=parseInt(fU[1],10);break;case "l":fB="r";fU=lH.split(/[, ]+/);fU[0]=parseInt(fU[0],10)+parseInt(GI,10);fU[1]=parseInt(fU[1],10)+parseInt(FO,10);GI=parseInt(fU[0],10);FO=parseInt(fU[1],10);break;case "c":fB="v";break;case "z":fB="xe";lH="";break;default:fB=fB.toLowerCase();}ake+=fB+lH;}this.path=ake;return;}else if(aI==="stroke"){this.stroked=(L==="none"?0:1);this.strokecolor=L;return;}else if(aI==="stroke-width"){this.strokeweight=parseFloat(L)/1.2+"pt";return;}else if(aI==="fill"){this.filled=(L==="none"?0:1);this.fillcolor=L;return;}};if(sZ){bF.setAttribute('d',sZ);}bF.setAttribute('stroke-width',qH.thickness||4);bF.setAttribute('stroke',qH.color||'#000000');bF.filled=0;bF.fillcolor='none';return bF;},Rect:function(aa,dj){var bF=document.createElement("v:roundrect");bF.rxy=0;bF.svg2vmlStyle={fill:{value:"#000000",valueSource:"default"},stroke:{value:"none",valueSource:"default"},"stroke-width":{value:"1",valueSource:"default"}};bF.setAttribute=function(aI,L,atj){if(this.svg2vmlStyle[aI]){this.svg2vmlStyle[aI]["value"]=L;this.svg2vmlStyle[aI]["valueSource"]=(atj||"user");}if(aI==="x"){this.style.left=parseInt(L,10)+'px';return;}else if(aI==="y"){this.style.top=parseInt(L,10)+'px';return;}else if(aI==="stroke"){this.stroked=(L==="none"?0:1);this.strokecolor=L;return;}else if(aI==="stroke-width"){this.strokeweight=parseFloat(L)/1.2+"pt";return;}else if(aI==="fill"){this.filled=(L==="none"?0:1);this.fillcolor=L;return;}else if(aI==="width"||aI==="height"||aI==="rx"||aI==="ry"){if(aI==="width"){this.style.width=parseInt(L,10)+'px';}else if(aI==="height"){this.style.height=parseInt(L,10)+'px';}else if(aI==="rx"||aI==="ry"){if(parseInt(L,10)){this.rxy=parseInt(L,10);}}if(this.rxy!==0){var LK=parseInt(this.style.width,10);var Nd=parseInt(this.style.height,10);if(!LK){LK=0;}if(!Nd){Nd=0;}if(Nd<LK){LK=Nd;}var RZ=this.rxy/LK;this.arcsize=RZ;}else{this.arcsize=0;}return;}};if(aa){bF.setAttribute('width',aa);}if(dj){bF.setAttribute('height',dj);}for(var aI in bF.svg2vmlStyle){if((bF.svg2vmlStyle[aI]["value"])&&(bF.svg2vmlStyle[aI]["valueSource"]==="default")){bF.setAttribute(aI,bF.svg2vmlStyle[aI]["value"],"default");}}return bF;}};IPCC.bb.IT=function IT(iG){var regexIso8601=/^(\d{4}|\+\d{6})(?:-(\d{2})(?:-(\d{2})(?:T(\d{2}):(\d{2}):(\d{2})\.(\d{1,3})(?:Z|([\-+])(\d{2}):(\d{2}))?)?)?)?$/;var m=regexIso8601.exec(iG);if(m){return Date.UTC(m[1],(m[2]||1)-1,m[3]||1,m[4]-(m[8]?m[8]+m[9]:0)||0,m[5]-(m[8]?m[8]+m[10]:0)||0,m[6]||0,((m[7]||0)+'00').substr(0,3));}else{return new Error(iG+' cannot be parsed as an ISO 8601 date.');}};IPCC.bb.An=function aCV(gl){if(gl.toISOString&&typeof gl.toISOString==='function'){return gl.toISOString();}else if(gl instanceof Date){var pad=function pad(number){if(number<10){return '0'+number;}return number;};return gl.getUTCFullYear()+'-'+pad(gl.getUTCMonth()+1)+'-'+pad(gl.getUTCDate())+'T'+pad(gl.getUTCHours())+':'+pad(gl.getUTCMinutes())+':'+pad(gl.getUTCSeconds())+'.'+(gl.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+'Z';}else{return new Error(gl+' is not a Date object.');}};IPCC.bb.vJ=function vJ(o){return(!o?false:typeof Node==="object"?o instanceof Node:o&&typeof o==="object"&&typeof o.nodeType==="number"&&typeof o.nodeName==="string");};IPCC.bb.NM=function NM(o){if(IPCC.bb.vJ(o)){while(o.firstChild){o.removeChild(o.firstChild);}}};IPCC.bb.VZ=function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(err){if(err){done(err);}else if(--counter===0){done();}else{funcs[idx++](next);}};funcs[idx++](next);};IPCC.bb.aeP=function(cg){cg=String(cg).replace(/[^0-9a-f]/gi,"");if(cg.length<6){cg=cg[0]+cg[0]+cg[1]+cg[1]+cg[2]+cg[2];}var WA=function(cO){return parseInt(cO,16);};var r=WA(cg.substring(0,2));var g=WA(cg.substring(2,4));var b=WA(cg.substring(4,6));return{r:r,g:g,b:b};};IPCC.bb.awN=function(cg){var PZ="";var Pv=function(n){while(n.length<2){n='0'+n;}return n;};var WP=function(n){return Pv(n.toString(16));};PZ+=WP(Math.floor(cg.r));PZ+=WP(Math.floor(cg.g));PZ+=WP(Math.floor(cg.b));return '#'+PZ;};IPCC.bb.azu=function(aps,asb,amI){var FR=amI,Ze=IPCC.bb.aeP(aps),pS=IPCC.bb.aeP(asb);pS.r=(1-FR)*pS.r+(Ze.r*FR);pS.g=(1-FR)*pS.g+(Ze.g*FR);pS.b=(1-FR)*pS.b+(Ze.b*FR);pS.r=Math.floor(pS.r);pS.g=Math.floor(pS.g);pS.b=Math.floor(pS.b);return IPCC.bb.awN(pS);};IPCC.bb.ahp=function(asA,wC){var aAy=IPCC.bb.reduceLeft(asA,function(fM,fp){if(fp.opacity===undefined){fp.opacity=127;}var axs=fp.opacity/255;return IPCC.bb.azu(fp.color,fM,axs);},wC);return aAy;};IPCC.bb.aaA=function(hk){if(hk.length===0){return hk;}var fN=hk.slice(0);fN.sort(function(a,b){return a.startIndex-b.startIndex;});var XS=null;var ki=[];var US=0,OB=[];var F=fN[0].startIndex;while(fN.length>0){US=0;OB=null;OB=[];var ba=0;while(ba<fN.length&&fN[ba].startIndex<=F){if(F<=fN[ba].startIndex+fN[ba].length-1){US++;OB.push(fN[ba]);ba++;}else{fN.splice(ba,1);}}if(US>0){var Gb=IPCC.bb.ahp(OB,'#ffffff');if(Gb===XS){ki[ki.length-1].endIndex=F;}else{ki.push({startIndex:F,endIndex:F,color:Gb});}XS=Gb;F++;}else{if(fN.length>0){F=fN[0].startIndex;}XS=null;}}return ki;};IPCC.bb.Fa=function(XV){return XV.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");};IPCC.bb.Pv=function(iV,dm){var cO=""+iV;while(cO.length<dm){cO='0'+cO;}return cO;};IPCC.bb.aEs=function(ew){var lg=ew.getTimezoneOffset();lg=((lg<0?'+':'-')+IPCC.bb.Pv(parseInt(Math.abs(lg/60),10),2)+IPCC.bb.Pv(Math.abs(lg%60),2));return lg;};IPCC.bb.ahv=['Sun','Mon','Tue','Wed','Thurs','Fri','Sat'];IPCC.bb.Sc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];IPCC.bb.amQ=function(Vi){var aud=/^\s*\w+\s+(\w+)\s+(\d+)\s+(\d+):(\d+):(\d+)\s+GMT[+-]?\d+\s+(\d+)\s*$/i,aU=aud.exec(Vi),aln,Dq,ajt,aeA,alB,xj,Fc;if(!aU){return null;}else{aln=aU[1].toLowerCase();ajt=aU[2];aeA=aU[3];alB=aU[4];xj=aU[5];Fc=aU[6];for(Dq=0;Dq<12;Dq++){if(IPCC.bb.Sc[Dq].toLowerCase()===aln){break;}}if(Dq>=12){return null;}return new Date(Date.UTC(Fc,Dq,ajt,aeA,alB,xj));}};IPCC.bb.ajh=function(ew){return(IPCC.bb.ahv[ew.getUTCDay()]+" "+IPCC.bb.Sc[ew.getUTCMonth()]+" "+ew.getUTCDate()+" "+ew.getUTCHours()+':'+ew.getUTCMinutes()+':'+ew.getUTCSeconds()+" "+"GMT+0000 "+ew.getUTCFullYear());};IPCC.bb.aBW=function(ew){return(IPCC.bb.ahv[ew.getUTCDay()]+" "+IPCC.bb.Sc[ew.getUTCMonth()]+" "+ew.getUTCDate()+" "+ew.getUTCFullYear());};IPCC.bb.aBc=function(ew){return(ew.getUTCHours()+':'+ew.getUTCMinutes()+':'+ew.getUTCSeconds()+" "+"GMT+0000");};IPCC.bb.ER=function(text){return text.replace(/[&<>\"\']/g,function(char){switch(char){case "&":return "&amp;";case "<":return "&lt;";case ">":return "&gt;";case "\"":return "&quot;";case "'":return "&apos;";default:throw new Error("Did not find a replacement character.");}});};IPCC.bb.adP=function(text){return text.replace(/&amp;/g,'&').replace(/&gt;/g,'>').replace(/&lt;/g,'<').replace(/&quot;/g,'"').replace(/&apos;/g,'\'');};IPCC.bb.auP=(function(chars){chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';function InvalidCharacterError(message){this.message=message;};InvalidCharacterError.prototype=new Error;InvalidCharacterError.prototype.name='InvalidCharacterError';function btoa(input){var str=String(input);for(var block,charCode,idx=0,map=chars,output='';str.charAt(idx|0)||(map='=',idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>0xFF){throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");}block=block<<8|charCode;}return output;};function atob(input){var str=String(input).replace(/=+$/,'');if(str.length%4==1){throw new InvalidCharacterError("'atob' failed: The string to be decoded is not correctly encoded.");}for(var bc=0,bs,buffer,idx=0,output='';buffer=str.charAt(idx++);~buffer&&(bs=bc%4?bs*64+buffer:buffer,bc++ %4)?output+=String.fromCharCode(255&bs>>(-2*bc&6)):0){buffer=chars.indexOf(buffer);}return output;};return{btoa:btoa,atob:atob};})();IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.MarkType=function(){};IPCC.Web.UI.MarkType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkType.prototype={Line:3,Polyline:502,Rectangle:600,Ellipse:601,Polygon:604,Text:605,Highlight:606,Stamp:607,HighlightText:608,SignaturePath:609,Freehand:610,SignatureText:611,SignatureImage:612,RectangleRedaction:613,TextSelectionRedaction:614,ImageStampAnnotation:615,ImageStampRedaction:616,TextHyperlinkAnnotation:617,DocumentHyperlink:618,TextLine:619};IPCC.Web.UI.MarkType.registerEnum('IPCC.Web.UI.MarkType',false);IPCC.Web.UI.HighLightType=function(){};IPCC.Web.UI.HighLightType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HighLightType.prototype={Tag:0,InlineHighLight:1,Link:2,Redaction:3};IPCC.Web.UI.HighLightType.registerEnum('IPCC.Web.UI.HighLight',false);IPCC.Web.UI.MarkInteractionMode=function(){};IPCC.Web.UI.MarkInteractionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.MarkInteractionMode.prototype={Full:0,SelectionDisabled:1};IPCC.Web.UI.MarkInteractionMode.registerEnum('IPCC.Web.UI.MarkInteractionMode',false);IPCC.Web.UI.LineStyle=function(){};IPCC.Web.UI.LineStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineStyle.prototype={Solid:0,Dash:1,Dot:2,DashDot:3,DashDotDot:4};IPCC.Web.UI.LineStyle.registerEnum('IPCC.Web.UI.LineStyle',false);IPCC.Web.UI.LineHeadType=function(){};IPCC.Web.UI.LineHeadType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.LineHeadType.prototype={Pointer:0,Solid:1,Open:2,PointerSolid:3,None:4};IPCC.Web.UI.LineHeadType.registerEnum('IPCC.Web.UI.LineHeadType',false);IPCC.Web.UI.CalloutType=function(){};IPCC.Web.UI.CalloutType.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.CalloutType.prototype={Line:0,Triangle:1};IPCC.Web.UI.CalloutType.registerEnum('IPCC.Web.UI.CalloutType',false);IPCC.Web.UI.FontStyle=function(){};IPCC.Web.UI.FontStyle.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.FontStyle.prototype={Regular:0,Bold:1,Italic:2,Underline:4,Strikeout:8};IPCC.Web.UI.FontStyle.registerEnum('IPCC.Web.UI.FontStyle',true);IPCC.Web.UI.HorizontalAlignment=function(){};IPCC.Web.UI.HorizontalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.HorizontalAlignment.prototype={Left:0,Center:16,Right:32};IPCC.Web.UI.HorizontalAlignment.registerEnum('IPCC.Web.UI.HorizontalAlignment',false);IPCC.Web.UI.VerticalAlignment=function(){};IPCC.Web.UI.VerticalAlignment.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.VerticalAlignment.prototype={Top:0,Center:1,Bottom:2};IPCC.Web.UI.VerticalAlignment.registerEnum('IPCC.Web.UI.VerticalAlignment',false);IPCC.Web.UI.Orientation=function(){};IPCC.Web.UI.Orientation.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.Orientation.prototype={TopLeft:1,TopRight:2,BottomRight:3,BottomLeft:4,LeftTop:5,RightTop:6,RightBottom:7,LeftBottom:8};IPCC.Web.UI.Orientation.registerEnum('IPCC.Web.UI.Orientation',false);IPCC.Web.UI.MarkEventArgs=function(){return this;};IPCC.Web.UI.MarkEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkEventArgs.prototype={};IPCC.Web.UI.MarkEventArgs.registerClass('IPCC.Web.UI.MarkEventArgs');IPCC.Web.UI.MarkCollection=function(){var ay=[];var aO=new IPCC.Web.UI.gv();this.Nr=function(J){if(this.GS(J)=== -1){ay.push(J);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;this.bo('markAdded',R);}};this.apA=function(Cg){var R=new IPCC.Web.UI.MarkEventArgs();R.length=Cg.get_length();var C=this;function np(J){if(C.GS(J)=== -1){ay.push(J);}};Cg.forEach(np,{});if(R.length>0){this.bo('markAdded',R);}};this.nl=function(od,cC){var Il=[].concat(ay);var F;for(F=0;F<Il.length;F++){od.call(cC,Il[F],F,this);}};this.fb=function(){return ay.length;};this.wf=function(J){var F=this.GS(J);if(F> -1){ay.splice(F,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;this.bo('markRemoved',R);}};this.GS=function(J){var F;for(F=0;F<ay.length;F++){if(ay[F]===J){return F;}}return-1;};this.yD=function(G){aO.addHandler('markAdded',G);};this.yp=function(G){aO.removeHandler('markAdded',G);};this.ye=function(G){aO.addHandler('markRemoved',G);};this.yn=function(G){aO.removeHandler('markRemoved',G);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};return this;};IPCC.Web.UI.MarkCollection.prototype={toString:function(){return 'MarkCollection with '+this.get_length()+' marks';},addMark:function(mark){this.Nr(mark);},addMarks:function(markCollection){this.apA(markCollection);},forEach:function(method,context){this.nl(method,context);},get_length:function(){return this.fb();},contains:function(mark){return this.GS(mark)> -1;},removeMark:function(mark){this.wf(mark);},removeAllMarks:function(){this.nl(function(J,bh,Cg){Cg.wf(J);});},add_markAdded:function(handler){this.yD(handler);},remove_markAdded:function(handler){this.yp(handler);},add_markRemoved:function(handler){this.ye(handler);},remove_markRemoved:function(handler){this.yn(handler);}};IPCC.Web.UI.MarkCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.MarkCollection.registerClass('IPCC.Web.UI.MarkCollection');IPCC.Web.UI.auq=1;IPCC.Web.UI.Mark=function(type){var aE=type;type=undefined;var sy=new Date();var sK=new Date();var bM=null;var V;var bv;var cK;var cj=new IPCC.Web.UI.Data();var aO=new IPCC.Web.UI.gv();var C=this;var jW;this.fJ=function(kn,dQ){if((jW&kn)===0){throw new IPCC.Web.UI.ImGearInvalidOperationException(dQ+' is not a valid property for this type of Mark.');}};if(aE===IPCC.Web.UI.MarkType.SignatureText){this.hF='#000000';this.hx=IPCC.Web.UI.LineStyle.Solid;this.gz=0;}else{this.hF='#000000';this.hx=IPCC.Web.UI.LineStyle.Solid;this.gz=1;}this.db=255;this.oW=IPCC.Web.UI.MarkInteractionMode.Full;var jl=false;switch(aE){case IPCC.Web.UI.MarkType.Line:jl=true;bv=new IPCC.Web.UI.PointCollection();bv.addPoint({x:0,y:0});bv.addPoint({x:0,y:0});jW=1;break;case IPCC.Web.UI.MarkType.Polyline:jl=true;this.mG=false;bv=new IPCC.Web.UI.PointCollection();jW=2;break;case IPCC.Web.UI.MarkType.Rectangle:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=4;break;case IPCC.Web.UI.MarkType.Ellipse:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=8;break;case IPCC.Web.UI.MarkType.Polygon:bv=new IPCC.Web.UI.PointCollection();jW=16;break;case IPCC.Web.UI.MarkType.Text:this.EE='#000000';this.zF=false;this.rY=IPCC.Web.UI.LineStyle.Solid;this.Dp=1;this.nz=new IPCC.Web.UI.Point(0,0);this.Md=IPCC.Web.UI.CalloutType.Triangle;this.zn=false;this.gn='Arial';this.cS=11.5;this.ee=IPCC.Web.UI.FontStyle.Regular;this.hx=IPCC.Web.UI.LineStyle.Solid;V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.al='';this.qO=IPCC.Web.UI.HorizontalAlignment.Left;this.AT=IPCC.Web.UI.VerticalAlignment.Top;this.oR='#000000';this.tN=255;this.yt=IPCC.Web.UI.Orientation.TopLeft;this.fN=[];jW=32;break;case IPCC.Web.UI.MarkType.Stamp:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=128;break;case IPCC.Web.UI.MarkType.Highlight:V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.cI='';this.mC='n';this.ao=0;this.cu='';this.cF=0;this.db=127;jW=256;break;case IPCC.Web.UI.MarkType.HighlightText:V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.cI='';this.mC='n';this.ao=0;this.cu='';this.cF=0;this.db=127;this.cW='#ffff00';jW=512;this.fN=[];this.cl=[];break;case IPCC.Web.UI.MarkType.Freehand:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=64;this.gz=4;this.hF='#000000';this.gC=false;this.Vu=1;this.VJ=1;this.rS='M0,0';break;case IPCC.Web.UI.MarkType.SignaturePath:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=1024;this.gz=4;this.hF='#000000';this.gC=false;this.Vu=1;this.VJ=1;this.rS='M0,0';break;case IPCC.Web.UI.MarkType.SignatureText:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=2048;this.al='';this.oR='#000000';this.cW='#000000';this.gn="";break;case IPCC.Web.UI.MarkType.RectangleRedaction:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=4096;this.gn='Arial';this.cS=8;this.ee=IPCC.Web.UI.FontStyle.Regular;this.al='';this.qO=IPCC.Web.UI.HorizontalAlignment.Center;this.AT=IPCC.Web.UI.VerticalAlignment.Center;this.cW='#000000';this.oR='#ffffff';this.tN=255;this.yt=IPCC.Web.UI.Orientation.TopLeft;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.cl=[];this.cI='';this.eS='';this.al='';this.gn='Arial';this.cS=8;jW=8192;this.fN=[];break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.qn='';this.gz=2;this.cu='';this.cI='';this.mC='n';this.ao=0;this.cF=0;jW=1<<14;this.fN=[];this.cl=[];break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:V=new IPCC.Web.UI.Rectangle(0,0,0,0);jW=16384;this.aQ='base64 string';this.oZ="oZ";break;case IPCC.Web.UI.MarkType.DocumentHyperlink:V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.qn='';this.zL='';this.AB='';this.Fh=0;this.Gj=0;this.nF=255;jW=32768;break;case IPCC.Web.UI.MarkType.TextLine:jW=65536;V=new IPCC.Web.UI.Rectangle(0,0,0,0);this.al='';this.oR='#000000';this.gn="Courier New";this.gz=1;this.gC=true;this.Gk=0;this.IU=false;var jE=IPCC.bb.uE("M",this.gn,{xh:'pre'});this.wZ=jE.width;this.vj=jE.height;break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',aE);}if(aE!==IPCC.Web.UI.MarkType.SignaturePath&&aE!==IPCC.Web.UI.MarkType.Freehand&&aE!==IPCC.Web.UI.MarkType.SignatureText&&aE!==IPCC.Web.UI.MarkType.DocumentHyperlink&&aE!==IPCC.Web.UI.MarkType.HighlightText&&aE!==IPCC.Web.UI.MarkType.TextLine){if(jl){this.Fo=15;this.GG=25;this.mF=IPCC.Web.UI.LineHeadType.None;this.tm='#000000';this.Gq=15;this.Fs=25;this.GE=IPCC.Web.UI.LineHeadType.None;}else{this.cW='#c0c0c0';this.yN=true;this.gC=true;if(aE===IPCC.Web.UI.MarkType.Highlight){this.gC=false;this.db=100;}}}this.Yv=IPCC.Web.UI.auq++;this.gX=true;this.bd={};this.cd=[];var RH=false;function aon(bz,R){C.bo('commentAdded',R);};function aoG(bz,R){C.bo('commentRemoved',R);};function MO(bz,R){C.bo('commentChanged',R);};cK=new IPCC.Web.UI.Conversation(C);cK.add_commentAdded(aon);cK.add_commentChanged(MO);cK.add_commentRemoved(aoG);this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};function XD(bz,R){var aal='points';if(aE===IPCC.Web.UI.MarkType.Line){aal=R.index===0?'startPoint':'endPoint';}C.aM(aal,R);};if(bv){bv.add_pointAdded(XD);bv.add_pointChanged(XD);bv.add_pointRemoved(XD);}this.lo=function(){return aE;};this.afZ=function(){return sy;};this.adw=function(L){sy=L;};this.ahc=function(){return sK;};this.abi=function(L){sK=L;};this.ft=function(){return bM;};this.kZ=function(value){if(bM!==value){bM=value;this.aM('artPage');}};this.hO=function(){return RH;};this.kV=function(L){RH=L;};this.aha=function(){var qD=new IPCC.Web.UI.Rectangle(0,0,0,0);switch(aE){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:return bv.wd();case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.DocumentHyperlink:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:return V.clone();case IPCC.Web.UI.MarkType.Text:var gO=V.x+V.width,iT=V.y+V.height;var aiw=V.x+this.nz.x,aiY=V.y+this.nz.y;qD.x=Math.min(V.x,Math.min(gO,aiw));qD.y=Math.min(V.y,Math.min(iT,aiY));qD.width=Math.max(V.x,Math.max(gO,aiw))-qD.x;qD.height=Math.max(V.y,Math.max(iT,aiY))-qD.y;break;}return qD;};this.fF=function(){return V.clone();};this.vx=function(L){this.FV(16384,'image','aQ',L);};this.du=function(){return this.aQ;};this.qc=function(){return bv;};this.aBQ=function(){return cK;};this.za=function(){return cj;};this.Gh=function(L){var mX;if(!V.equals(L)){V=new IPCC.Web.UI.Rectangle(L.x,L.y,L.width,L.height);if(aE===IPCC.Web.UI.MarkType.Stamp||aE===IPCC.Web.UI.MarkType.SignatureText||aE===IPCC.Web.UI.MarkType.TextLine){if(document.documentMode<9){mX=0;if(V.width>=V.height){mX=(V.width/14)/2;}else{mX=V.width/15;}if(mX*15>=V.width){mX=(V.width/15)/2;}this.stampSize=Math.round(mX);}else{var textFontSize=(V.width/6);if(textFontSize>V.height){textFontSize=(V.height-(V.height/6));}var pp=this.get_text();if(!pp){pp=(aE===IPCC.Web.UI.MarkType.Stamp)?'APPROVED':'';}mX=pp.length*textFontSize;if(mX>V.width){textFontSize=((V.width/pp.length));}var Gk=Math.round(textFontSize);this.stampSize=Gk.toString();}}this.aM('rectangle');}};this.iL=function(){return this.Yv;};this.Mu=function(ek,eZ){if(ek!==0||eZ!==0){switch(aE){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:case IPCC.Web.UI.MarkType.Polygon:bv.akZ(ek,eZ);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.Freehand:if(aE===IPCC.Web.UI.MarkType.RectangleRedaction&&this.cI!==undefined){break;}V.x+=ek;V.y+=eZ;this.aM('rectangle');break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.TextSelectionRedaction:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;}}};this.aaN=function(TI){if(this.fN&&TI!==this.fN){while(this.fN.length>0){this.fN.pop();}if(TI){this.fN=TI.slice(0);}this.bo('markTextSelectionChanged',{});}};this.Fn=function(G){if(this.fN){aO.addHandler('markTextSelectionChanged',G);}};this.Jf=function(G){if(this.fN){aO.removeHandler('markTextSelectionChanged',G);}};this.yS=function(G){aO.addHandler('commentAdded',G);};this.Dv=function(G){aO.removeHandler('commentAdded',G);};this.ym=function(G){aO.addHandler('commentRemoved',G);};this.CO=function(G){aO.removeHandler('commentRemoved',G);};this.tO=function(G){aO.addHandler('commentChanged',G);};this.wx=function(G){aO.removeHandler('commentChanged',G);};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};this.iz(function(J){J.abi(new Date());});return this;};IPCC.Web.UI.Mark.prototype={toString:function(){switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:return 'Line Mark from '+this.qc().getPoint(0)+' to '+this.qc().getPoint(1);case IPCC.Web.UI.MarkType.Polyline:return 'Polyline Mark with '+this.qc().fb()+' vertices';case IPCC.Web.UI.MarkType.Rectangle:return 'Rectangle Mark at '+this.fF();case IPCC.Web.UI.MarkType.RectangleRedaction:return 'Rectangle Redaction Mark at '+this.fF();case IPCC.Web.UI.MarkType.Ellipse:return 'Ellipse Mark at '+this.fF();case IPCC.Web.UI.MarkType.Polygon:return 'Polygon Mark with '+this.qc().fb()+' vertices';case IPCC.Web.UI.MarkType.Text:return 'Text Mark, "'+this.al+'", at '+this.fF();case IPCC.Web.UI.MarkType.Stamp:return 'Stamp Mark at '+this.fF();case IPCC.Web.UI.MarkType.Highlight:return 'Rectangle Mark at '+this.fF();case IPCC.Web.UI.MarkType.HighlightText:return 'Highlight Mark at '+this.fF();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Selection Redaction at '+this.fF();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Text Hyperlink Annotation at '+this.fF();case IPCC.Web.UI.MarkType.TextSelectionRedaction:return 'Document Hyperlink at '+this.fF();case IPCC.Web.UI.MarkType.SignaturePath:return 'Signature Path Mark, "'+this.rS+'", at '+this.fF();case IPCC.Web.UI.MarkType.Freehand:return 'Freehand Mark, "'+this.rS+'", at '+this.fF();case IPCC.Web.UI.MarkType.SignatureText:return 'Signature Text Mark at '+this.fF();case IPCC.Web.UI.MarkType.TextLine:return 'Text Line Mark at '+this.fF();case IPCC.Web.UI.MarkType.ImageStampAnnotation:return 'ImageStamp Mark at '+this.fF();case IPCC.Web.UI.MarkType.ImageStampRedaction:return 'ImageStamp Redaction Mark at '+this.fF();}return 'Mark';},initializeDates:function(sy,sK){IPCC.bU.gl(sy,"dateCreated");IPCC.bU.gl(sK,"dateModified");this.adw(sy);this.abi(sK);},get_dateCreated:function(){return this.afZ();},get_dateModified:function(){return this.ahc();},mi:function(kn,dQ,jY,L){this.fJ(kn,dQ);if(this[jY]!==L){this[jY]=L;this.aM(dQ);}},Jz:function(kn,dQ,jY,L){IPCC.bU.UU(L,dQ);this.mi(kn,dQ,jY,L);},FN:function(kn,dQ,jY,L){IPCC.bU.iV(L,dQ);this.mi(kn,dQ,jY,L);},AM:function(kn,dQ,jY,L,zc,Ab){IPCC.bU.jS(L,dQ,zc,Ab);this.mi(kn,dQ,jY,L);},abm:function(kn,dQ,jY,L,zc,Ab){IPCC.bU.os(L,dQ,zc,Ab);this.mi(kn,dQ,jY,L);},FV:function(kn,dQ,jY,L){IPCC.bU.aE(L,dQ,'string');this.mi(kn,dQ,jY,L);},wb:function(kn,dQ,jY,L,ji){IPCC.bU.ji(L,dQ,ji);this.mi(kn,dQ,jY,L);},azj:function(kn,dQ,jY,L,ji){IPCC.bU.ji(L,dQ,ji,true);this.mi(kn,dQ,jY,L);},aBi:function(kn,dQ,jY,L){IPCC.bU.aT(L,dQ);this.mi(kn,dQ,jY,L);},get_artPage:function(){return this.ft();},get_boundingRectangle:function(){return this.aha();},get_selected:function(){var bM=this.ft();if(!bM){return false;}var eI=bM.Ak();return eI.contains(this);},set_selected:function(value){var bM=this.ft();if(bM){if(this.oW!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled|| !value){var eI=bM.Ak();if(value!==eI.contains(this)){if(value){eI.Nr(this);}else{eI.wf(this);}this.aM('selected');}}}else{if(value){throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be selected unless it is associated with an ArtPage.');}}},get_calloutLineColor:function(){this.fJ(32,'calloutLineColor');return this.EE;},set_calloutLineColor:function(value){this.Jz(32,'calloutLineColor','EE',value);},get_calloutLineIsDistinct:function(){this.fJ(32,'calloutLineIsDistinct');return this.zF;},set_calloutLineIsDistinct:function(value){this.mi(32,'calloutLineIsDistinct','zF',value);},get_calloutLineStyle:function(){this.fJ(32,'calloutLineStyle');return this.rY;},set_calloutLineStyle:function(value){this.wb(32,'calloutLineStyle','rY',value,IPCC.Web.UI.LineStyle);},get_calloutLineWidth:function(){this.fJ(32,'calloutLineWidth');return this.Dp;},set_calloutLineWidth:function(value){this.AM(32,'calloutLineWidth','Dp',value,0,50);},get_calloutPoint:function(){this.fJ(32,'calloutPoint');return this.nz;},set_calloutPoint:function(value){this.aBi(32,'calloutPoint','nz',value);},get_calloutType:function(){this.fJ(32,'calloutType');return this.Md;},set_calloutType:function(value){this.wb(32,'calloutType','Md',value,IPCC.Web.UI.CalloutType);},get_calloutVisible:function(){this.fJ(32,'calloutVisible');return this.zn;},set_calloutVisible:function(value){if(!this.zn&&value&&this.lo()===IPCC.Web.UI.MarkType.Text){if(this.nz.x===0&&this.nz.y===0){var V=this.fF();this.set_calloutPoint({x:V.width,y:V.height*1.5});}}this.mi(32,'calloutVisible','zn',value);},get_endHeadAngle:function(){this.fJ(3,'endHeadAngle');return this.Fo;},set_endHeadAngle:function(value){this.AM(3,'endHeadAngle','Fo',value,0,180);},get_endHeadLength:function(){this.fJ(3,'endHeadLength');return this.GG;},set_endHeadLength:function(value){this.AM(3,'endHeadLength','GG',value,0,100);},get_endHeadType:function(){this.fJ(3,'endHeadType');return this.mF;},set_endHeadType:function(value){this.wb(3,'endHeadType','mF',value,IPCC.Web.UI.LineHeadType);},get_href:function(){this.fJ(1<<14|1<<15,'href');return this.qn;},set_href:function(value){this.FV(1<<14|1<<15,'href','qn',value);},get_borderType:function(){this.fJ(32768,'borderType');return this.zL;},set_borderType:function(value){this.FV(32768,'borderType','zL',value);},get_borderHorizontalRadius:function(){this.fJ(32768,'borderHorizontalRadius');return this.Fh;},set_borderHorizontalRadius:function(value){this.FN(32768,'borderHorizontalRadius','Fh',value);},get_borderVerticalRadius:function(){this.fJ(1<<15,'borderVerticalRadius');return this.Gj;},set_borderVerticalRadius:function(value){this.FN(32768,'borderVerticalRadius','Gj',value);},get_borderOpacity:function(){this.fJ(32768,'nF');return this.nF;},set_borderOpacity:function(value){this.abm(32768,'nF','nF',value,0,255);},get_borderPattern:function(){this.fJ(32768,'AB');return this.AB;},set_borderPattern:function(value){this.mi(32768,'AB','AB',value,0,255);},get_fillColor:function(){this.fJ(16380,'fillColor');return this.cW;},set_fillColor:function(value){this.Jz(16380,'fillColor','cW',value);},get_fillVisible:function(){this.fJ(16380,'fillVisible');return this.yN;},set_fillVisible:function(value){this.mi(16380,'fillVisible','yN',value);},get_fontName:function(){this.fJ(6176+8192+65536,'fontName');return this.gn;},set_fontName:function(value){this.FV(6176+8192+65536,'fontName','gn',value);if(this.lo()===IPCC.Web.UI.MarkType.SignatureText||this.lo()===IPCC.Web.UI.MarkType.TextLine){var bp=(this.lo()===IPCC.Web.UI.MarkType.TextLine)?{xh:'pre'}:{};var jE=IPCC.bb.uE(this.al,this.gn,bp);this.wZ=jE.width;this.vj=jE.height;}if(this.lo()===IPCC.Web.UI.MarkType.TextLine){this.IU=false;}},get_fontSize:function(){this.fJ(32+2048+4096+8192,'fontSize');return this.cS;},set_fontSize:function(value){this.AM(32+2048+4096+8192,'fontSize','cS',value,0.1,288);},get_fontStyle:function(){this.fJ(6176,'fontStyle');return this.ee;},set_fontStyle:function(value){this.azj(6176,'fontStyle','ee',value,IPCC.Web.UI.FontStyle);},get_headFillColor:function(){this.fJ(3,'headFillColor');return this.tm;},set_headFillColor:function(value){this.Jz(3,'headFillColor','tm',value);},get_interactionMode:function(){this.fJ(~0,'interactionMode');return this.oW;},set_interactionMode:function(value){this.wb(~0,'interactionMode','oW',value,IPCC.Web.UI.MarkInteractionMode);if(value===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.set_selected(false);}},get_isClosed:function(){this.fJ(2,'isClosed');return this.mG;},set_isClosed:function(value){this.mi(2,'isClosed','mG',value);},get_lineColor:function(){return this.hF;},set_lineColor:function(value){this.Jz(13567+32768,'lineColor','hF',value);},get_lineStyle:function(){return this.hx;},set_lineStyle:function(value){this.wb(63+32768,'lineStyle','hx',value,IPCC.Web.UI.LineStyle);},get_lineWidth:function(){return this.gz;},set_lineWidth:function(value){this.AM(13567+32768,'lineWidth','gz',value,0,50);},get_lineVisible:function(){this.fJ(172+65536,'lineVisible');return this.gC;},set_lineVisible:function(value){this.mi(172+65536,'lineVisible','gC',value);},get_opacity:function(){return this.db;},set_opacity:function(value){this.abm(895+2048+1024,'opacity','db',value,0,255);},get_points:function(){this.fJ(19,'points');return this.qc();},get_conversation:function(){return this.aBQ();},get_data:function(){return this.za();},get_image:function(){this.fJ(16384,'image');return this.du();},set_image:function(value){this.fJ(16384,'image');this.vx(value);},get_rectangle:function(){this.fJ(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');return this.fF();},set_rectangle:function(value){this.fJ(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+32+8+4,'rectangle');IPCC.bU.V(value,'rectangle');this.Gh(value);if(this.lo()===IPCC.Web.UI.MarkType.TextLine){this.IU=false;}},get_startHeadAngle:function(){this.fJ(3,'startHeadAngle');return this.Gq;},set_startHeadAngle:function(value){this.AM(3,'startHeadAngle','Gq',value,0,180);},get_startHeadLength:function(){this.fJ(3,'startHeadLength');return this.Fs;},set_startHeadLength:function(value){this.AM(3,'startHeadLength','Fs',value,0,100);},get_startHeadType:function(){this.fJ(3,'startHeadType');return this.GE;},set_startHeadType:function(value){this.wb(3,'startHeadType','GE',value,IPCC.Web.UI.LineHeadType);},get_text:function(){this.fJ(14496+65536,'text');return this.al;},set_text:function(value){if(this.al===value){return;}this.FV(14496+65536,'text','al',value);if(this.lo()===IPCC.Web.UI.MarkType.SignatureText||this.lo()===IPCC.Web.UI.MarkType.TextLine){var bp=(this.lo()===IPCC.Web.UI.MarkType.TextLine)?{xh:'pre'}:{};var jE=IPCC.bb.uE(this.al,this.gn,bp);this.wZ=jE.width;this.vj=jE.height;}if(this.fN){while(this.fN.length>0){this.fN.pop();}}},get_textHorizontalAlignment:function(){this.fJ(32+2048,'textHorizontalAlignment');return this.qO;},set_textHorizontalAlignment:function(value){this.wb(32+2048,'textHorizontalAlignment','qO',value,IPCC.Web.UI.HorizontalAlignment);},get_textVerticalAlignment:function(){this.fJ(32,'textVerticalAlignment');return this.AT;},set_textVerticalAlignment:function(value){this.wb(32,'textVerticalAlignment','AT',value,IPCC.Web.UI.VerticalAlignment);},get_textColor:function(){this.fJ(6176+65536,'textColor');return this.oR;},set_textColor:function(value){this.Jz(6176+65536,'textColor','oR',value);},get_textOpacity:function(){this.fJ(32,'textOpacity');return this.tN;},set_textOpacity:function(value){this.abm(32,'textOpacity','tN',value,0,255);},get_textOrientation:function(){this.fJ(32,'textOrientation');return this.yt;},set_textOrientation:function(value){this.wb(32,'textOrientation','yt',value,IPCC.Web.UI.Orientation);},get_type:function(){return this.lo();},get_visible:function(){return this.gX;},set_visible:function(value){this.mi(65536+32768+16384+8192+4096+2048+1024+512+256+128+64+63,'visible','gX',value);},get_markID:function(){return this.iL();},get_pathString:function(){return this.rS;},set_pathString:function(value){var rS=this.get_pathString();if(rS!==value){this.RA=true;}this.FV(1088,'pathString','rS',value);},get_pathWidth:function(){return this.Vu;},set_pathWidth:function(value){this.FN(1088,'pathWidth','Vu',value);},get_pathHeight:function(){return this.VJ;},set_pathHeight:function(value){this.FN(1088,'pathHeight','VJ',value);},get_startIndex:function(){this.fJ((1<<14)+8192+512,'startIndex');return this.ao;},set_startIndex:function(value){this.FN((1<<14)+8192+512,'startIndex','ao',value);},get_textLength:function(){this.fJ((1<<14)+8192+512,'textLength');return this.cF;},set_textLength:function(value){this.FN((1<<14)+8192+512,'textLength','cF',value);},add_propertyChanged:function(handler){this.iz(handler);},remove_propertyChanged:function(handler){this.lA(handler);},add_markTextSelectionChanged:function(handler){this.Fn(handler);},remove_markTextSelectionChanged:function(handler){this.Jf(handler);},move:function(deltaX,deltaY){IPCC.bU.iV(deltaX,'deltaX');IPCC.bU.iV(deltaY,'deltaY');this.Mu(deltaX,deltaY);},moveBackward:function(){if(this.ft()){var index=this.ft().ov(this);var di=this.ft().aim();if(index>di){this.ft().reorderMark(this,index-1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveForward:function(){if(this.ft()){var index=this.ft().ov(this);if(index<this.ft().abM()-1){this.ft().reorderMark(this,index+1);}}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToBack:function(){if(this.ft()){var di=0;di=this.ft().aim();this.ft().reorderMark(this,di);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},moveToFront:function(){if(this.ft()){this.ft().reorderMark(this,this.ft().abM()-1);}else{throw new IPCC.Web.UI.ImGearInvalidOperationException('A Mark cannot be reordered unless it is associated with an ArtPage.');}},removeFromPage:function(){if(this.ft()){this.ft().removeMark(this);}},selectText:function(textRanges){this.aaN(textRanges);},awp:function(){var eb={};var C=this;var bv,ZU,aT,V,F;function ce(dQ,Mn){eb[Mn]=C[dQ];};var jl=false;var kS=false;var xg=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jl=true;xg=true;eb.__type='LineMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polyline:jl=true;xg=true;eb.__type='PolyLineMark:#IPCC.Web';ce('mG','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kS=true;eb.__type='RectangleMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.RectangleRedaction:kS=true;eb.__type='RectangleRedactionMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Ellipse:kS=true;eb.__type='EllipseMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Polygon:xg=true;eb.__type='PolygonMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Text:kS=true;eb.__type='TextMark:#IPCC.Web';ce('EE','clc');ce('zF','clid');ce('rY','cls');ce('Dp','clw');ce('Md','ct');ce('zn','cv');ce('gn','fn');ce('cS','fs');ce('ee','fst');ce('hx','ls');ce('al','te');ce('qO','tha');ce('AT','tva');ce('oR','tc');ce('tN','to');ce('yt','tor');aT=this.nz;if(aT.x!==0||aT.y!==0){eb.cp={x:aT.x,y:aT.y};}break;case IPCC.Web.UI.MarkType.Stamp:kS=true;eb.__type='StampMark:#IPCC.Web';break;case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.HighlightText:kS=true;eb.__type='HighlightText:#IPCC.Web';break;}if(jl){ce('Fo','eha');ce('GG','ehl');ce('mF','eht');ce('tm','hfc');ce('Gq','sha');ce('Fs','shl');ce('GE','sht');}else{ce('cW','fc');ce('yN','fv');ce('gC','lv');}if(kS){V=this.get_rectangle();eb.r={x:V.x,y:V.y,width:V.width,height:V.height};}eb.t=this.get_type();ce('hF','lc');ce('hx','ls');ce('gz','lw');ce('db','o');ce('gX','v');if(xg){bv=this.qc();ZU=[];for(F=0;F<bv.get_length();F++){aT=bv.getPoint(F);ZU.push({x:aT.x,y:aT.y});}eb.p=ZU;}return eb;},auV:function(eb){var C=this;var bv,F;function ce(dQ,Mn){if(eb.hasOwnProperty(Mn)){C[dQ]=eb[Mn];}};var jl=false;var kS=false;var xg=false;switch(this.get_type()){case IPCC.Web.UI.MarkType.Line:jl=true;if(eb.p&&eb.p.length===2){bv=this.qc();bv.setPoint(0,new IPCC.Web.UI.Point(eb.p[0].x,eb.p[0].y));bv.setPoint(1,new IPCC.Web.UI.Point(eb.p[1].x,eb.p[1].y));}break;case IPCC.Web.UI.MarkType.Polyline:jl=true;xg=true;ce('mG','ic');break;case IPCC.Web.UI.MarkType.Rectangle:kS=true;break;case IPCC.Web.UI.MarkType.RectangleRedaction:kS=true;break;case IPCC.Web.UI.MarkType.Ellipse:kS=true;break;case IPCC.Web.UI.MarkType.Polygon:xg=true;break;case IPCC.Web.UI.MarkType.Text:kS=true;ce('EE','clc');ce('zF','clid');ce('rY','cls');ce('Dp','clw');ce('Md','ct');ce('zn','cv');ce('gn','fn');ce('cS','fs');ce('ee','fst');ce('hx','ls');ce('al','te');ce('qO','tha');ce('AT','tva');ce('oR','tc');ce('tN','to');ce('yt','tor');if(eb.cp){this.nz=new IPCC.Web.UI.Point(eb.cp.x,eb.cp.y);}break;case IPCC.Web.UI.MarkType.Stamp:kS=true;break;case IPCC.web.UI.MarkType.Highlight:case IPCC.web.UI.MarkType.HighlightText:kS=true;break;}if(jl){ce('Fo','eha');ce('GG','ehl');ce('mF','eht');ce('tm','hfc');ce('Gq','sha');ce('Fs','shl');ce('GE','sht');}else{ce('cW','fc');ce('yN','fv');ce('gC','lv');}if(kS){if(eb.r){this.set_rectangle(new IPCC.Web.UI.Rectangle(eb.r.x,eb.r.y,eb.r.width,eb.r.height));}}eb.t=this.get_type();ce('hF','lc');ce('hx','ls');ce('gz','lw');ce('db','o');ce('gX','v');if(eb.p&&xg){bv=this.qc();for(F=0;F<eb.p.length;F++){bv.addPoint(new IPCC.Web.UI.Point(eb.p[F].x,eb.p[F].y));}}return eb;}};IPCC.Web.UI.Mark.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Mark.registerClass('IPCC.Web.UI.Mark');IPCC.Web.UI.ArtPage=function(){var ay=[];var aO=new IPCC.Web.UI.gv();var eI=new IPCC.Web.UI.MarkCollection();var C=this;var Gu=true;this.avE=[];function onMarkSelectionChanged(bz,R){var J=R.mark;if(J.cl&&J.cl[0]&&J.cl[0].gX===false){return;}var eh;var pd=R.mark.get_selected();if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.cI!==undefined){eI.remove_markAdded(onMarkSelectionChanged);eI.remove_markRemoved(onMarkSelectionChanged);for(var F=0;F<ay.length;F++){if(ay[F].cI===J.cI){if(ay[F].get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eh=ay[F];}else{ay[F].set_selected(R.mark.get_selected());}}}eI.add_markAdded(onMarkSelectionChanged);eI.add_markRemoved(onMarkSelectionChanged);if(eh){eh.set_selected(pd);}return;}else if(J.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){eI.remove_markAdded(onMarkSelectionChanged);eI.remove_markRemoved(onMarkSelectionChanged);for(var aA=0;aA<J.cl.length;aA++){J.cl[aA].set_selected(R.mark.get_selected());}eI.add_markAdded(onMarkSelectionChanged);eI.add_markRemoved(onMarkSelectionChanged);}var ea=new IPCC.Web.UI.MarkEventArgs();ea.mark=J;ea.zIndex=C.ov(J);ea.length=1;C.bo('markSelectionChanged',ea);};eI.add_markAdded(onMarkSelectionChanged);eI.add_markRemoved(onMarkSelectionChanged);var awX=eI.addMark;eI.addMark=function(J){if(C.ov(J)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eI.contains(J)){awX.call(eI,J);J.aM('selected');}};var avp=eI.addMarks;eI.addMarks=function(Cg){var qI=[];function Wm(J){if(C.ov(J)<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot select a Mark that is not associated with the ArtPage.');}if(!eI.contains(J)){qI.push(J);}};Cg.forEach(Wm,{});avp.call(eI,Cg);var F;for(F=0;F<qI.length;F++){qI[F].aM('selected');}};var avt=eI.removeMark;eI.removeMark=function(J){if(eI.contains(J)){avt.call(eI,J);J.aM('selected');}};var awE=eI.removeAllMarks;eI.removeAllMarks=function(){var qI=[];function Wm(J){if(eI.contains(J)){qI.push(J);}};eI.forEach(Wm,{});awE.call(eI);var F;for(F=0;F<qI.length;F++){qI[F].aM('selected');}};function agi(kY){IPCC.bU.os(kY,'zIndex',0,ay.length-1);};this.abM=function(){return ay.length;};this.aim=function(){var F=0;for(;F<ay.length;F++){if(ay[F].get_type()!==IPCC.Web.UI.MarkType.HighlightText&&ay[F].get_type()!==IPCC.Web.UI.MarkType.Highlight&& !(ay[F].get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ay[F].cI!==undefined)){break;}}return F;};this.Ak=function(){return eI;};this.CD=function(L){if(L===Gu){return;}Gu=L;this.aM('Gu');};this.EZ=function(){return Gu;};var pD=false;this.kE=function(){return pD;};this.rg=function(L){if(typeof L!=="boolean"){return;}pD=L;this.aM('redactionDraftMode');};function pB(bz,R){if(R.get_propertyName()==='selected'){return;}var ea=new IPCC.Web.UI.MarkEventArgs();ea.mark=bz;ea.zIndex=C.ov(bz);ea.propertyName=R.dQ;ea.length=1;if(ea.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||(ea.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&ea.mark.cI!=='undefined')){C.aqu(bz);}C.bo('markChanged',ea);};function Ce(bz){var ea=new IPCC.Web.UI.MarkEventArgs();ea.mark=bz;ea.zIndex=C.ov(bz);ea.length=1;C.bo('markTextSelectionChanged',ea);};function Oi(bz,R){var ea=new IPCC.Web.UI.CommentEventArgs();ea.mark=bz;ea.comment=R.comment;ea.index=R.index;C.bo('commentAdded',ea);};function KZ(bz,R){var ea=new IPCC.Web.UI.CommentEventArgs();ea.mark=bz;ea.comment=R.comment;ea.index=R.index;C.bo('commentRemoved',ea);};function NQ(bz,R){var ea=new IPCC.Web.UI.CommentEventArgs();ea.mark=bz;ea.comment=R.comment;ea.index=R.index;C.bo('commentChanged',ea);};this.Nr=function(J,qC){qC=qC||{};var kY=this.ov(J);if(kY>=0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot add a Mark to an ArtPage if the mark is already associated with the ArtPage.');}if(J.ft()){throw new IPCC.Web.UI.ImGearInvalidOperationExceptionException('You cannot add a Mark to an ArtPage if the mark is already associated with a different ArtPage.');}ay.push(J);J.kZ(this);J.add_propertyChanged(pB);J.add_markTextSelectionChanged(Ce);J.yS(Oi);J.ym(KZ);J.tO(NQ);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;if(J.get_type()===IPCC.Web.UI.MarkType.Highlight||J.get_type()===IPCC.Web.UI.MarkType.HighlightText||J.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||J.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.cI!==undefined)){this.ady(J,0);}else{R.zIndex=ay.length-1;}R.clientX=qC.clientX;R.clientY=qC.clientY;R.length=1;C.bo('markAdded',R);};this.FJ=function(od,cC){var Il=[].concat(ay);var F;for(F=0;F<Il.length;F++){od.call(cC,Il[F],F,this);}};this.My=function(kY){agi(kY);return ay[kY];};this.ov=function(J){var F;for(F=0;F<ay.length;F++){if(ay[F]===J){return F;}}return-1;};this.aui=function(fg){var eb;if(typeof JSON!=='undefined'){eb=JSON.parse(fg);}else{eb=IPCC.cJ.pu(fg,true);}this.YP();var Lf=[];var F;var NK=eb.m;if(NK){for(F=0;F<NK.length;F++){var as=new IPCC.Web.UI.Mark(NK[F].t);as.auV(NK[F]);as.kZ(this);as.add_propertyChanged(pB);as.add_markTextSelectionChanged(Ce);Lf.push(as);}}ay=Lf;C.bo('marksLoaded',{});};var ALPHA_CHAR_CODES=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70];this.aos=function(){var mY=new Array(36);var bh=0;var F;var ba;for(F=0;F<8;F++){mY[bh++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}for(F=0;F<3;F++){mY[bh++]=45;for(ba=0;ba<4;ba++){mY[bh++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}}mY[bh++]=45;var asm=new Date().getTime();var ash=("0000000"+asm.toString(16).toUpperCase()).substr(-8);for(F=0;F<8;F++){mY[bh++]=ash.charCodeAt(F);}for(F=0;F<4;F++){mY[bh++]=ALPHA_CHAR_CODES[Math.floor(Math.random()*16)];}return String.fromCharCode.apply(null,mY);};function Vk(kp){var ae=kp.firstChild;while(ae.nodeType!==1){ae=ae.nextSibling;}return ae;};function OS(xc,afz,aol){var avq=parseFloat(xc.getAttribute(afz));var ayA=parseFloat(xc.getAttribute(afz+'VL'));return aol/(avq/ayA);};function anz(OA,ai,bE){var akm=OA.getAttribute('pageWidth');var akp=OA.getAttribute('pageHeight');var KC,TZ,bP,xc,F;if(akm&&akp){KC=parseFloat(akm);TZ=parseFloat(akp);if(isFinite(KC)&&isFinite(TZ)&&KC>0&&TZ>0){return ai/KC;}}for(F=0;F<OA.childNodes.length;F++){xc=OA.childNodes[F];if(xc.nodeName!=='annotation'){continue;}bP=OS(xc,'width',ai);if(isFinite(bP)&&bP>0){return bP;}bP=OS(xc,'height',bE);if(isFinite(bP)&&bP>0){return bP;}bP=OS(xc,'x',ai);if(isFinite(bP)&&bP>0){return bP;}bP=OS(xc,'y',bE);if(isFinite(bP)&&bP>0){return bP;}}return 1;};this.ahJ=function(mv,bI,ai,bE,XM,stampImages,wR,tw){var C=this;if(wR!==true){this.YP();}if(mv){var kc;if(IPCC.wU.Av()){kc=mv.firstChild;}else{var Tw=mv.firstChild.nodeName;if(Tw.toLowerCase()==='xml'){kc=mv.firstChild.nextSibling;}else{kc=mv.firstChild;}}var cQ=Vk(kc);if(cQ.nodeName!=='pages'){throw 'ERROR: pages';}if(cQ.hasChildNodes()){var F;for(F=0;F<cQ.childNodes.length;F++){var bw=cQ.childNodes[F];if(bw.nodeName!=='page'){continue;}var CN=bw.getAttribute('id');var kR=false;var xO;var sG='';var HJ=[];var lw;var pJ,aA=0;var cF,cu,ao;if(XM){var adl=bw.getAttribute('pageWidth'),adQ=bw.getAttribute('pageHeight');if(adl){XM.aAT(adl);}if(adQ){XM.azd(adQ);}}var oG=[],PP={};if((CN&&parseInt(CN,10))===(bI+1)){kR=true;var Lf=[];var ba;var as;var kS,jc,qZ,sy,sK;var wu=1;var aiK=anz(bw,ai,bE);if(aiK>0){wu=aiK;}for(ba=0;ba<bw.childNodes.length;ba++){var ag=bw.childNodes[ba];if(ag.nodeName!=='annotation'){continue;}var lp=parseFloat(ag.getAttribute('width'))*wu;var ly=parseFloat(ag.getAttribute('height'))*wu;var hi=parseFloat(ag.getAttribute('x'))*wu;var gL=parseFloat(ag.getAttribute('y'))*wu;var adA=ag.getAttribute('fillColor'),Sp,rs,Rf=ag.getAttribute('lineColor'),aff,ld;if(adA==='transparent'){Sp=rs=adA;}else{Sp=parseInt(ag.getAttribute('fillColor'),10);rs=parseInt(Sp,10).toString(16);while(rs.length<6){rs='0'+rs;}rs='#'+rs;}if(Rf==='transparent'){ld=Rf;}else{aff=parseInt(Rf,10);ld=parseInt(aff,10).toString(16);while(ld.length<6){ld='0'+ld;}ld='#'+ld;}var asO=ag.getAttribute('stampSize');var PV=ag.getAttribute('dragDirection');var JV=parseInt(ag.getAttribute('opacity'),10);if(isNaN(JV)){JV=0;}if(ag.nodeName==='annotation'){var afl=ag.getAttribute('label');if(!afl){afl='';}var mE=ag.getAttribute('drawType');var kL;switch(mE){case 'imagestamp':case 'imagestamp_redact':var oZ=ag.getAttribute('imageStampId');var aC=(mE==='imagestamp')?IPCC.Web.UI.MarkType.ImageStampAnnotation:IPCC.Web.UI.MarkType.ImageStampRedaction;as=new IPCC.Web.UI.Mark(aC);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_image(stampImages[oZ].base64format);as.oZ=oZ;kS=true;if(mE==='imagestamp_redact'){as.kV(true);}break;case 'circle':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});kS=true;as.set_lineColor(ld);as.set_fillVisible(false);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'circle_filled':case 'circle_trans':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Ellipse);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});kS=true;as.set_fillColor(rs);as.set_lineColor(ld);as.set_fillVisible(true);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'text':case 'text_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Text);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fontName('verdana');as.set_fontSize(10);as.set_opacity(0);xO=undefined;as.set_fillColor('#000000');if(mE==='text_redact'){as.kV(true);}if(mE==='text'){as.set_fillColor(rs);as.set_lineColor(ld);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));as.set_fillVisible(true);as.set_opacity(JV);}oG=[];jc=ag.firstChild;while((jc)&&(jc.nodeType!==4)){jc=jc.nextSibling;}if((jc)&&(jc.nodeType===4)){kL=jc.innerText||jc.textContent||jc.data;as.bd.al=kL;pJ=kL.split("</TEXTFORMAT>");sG='';HJ=[];for(aA=0;aA<pJ.length;aA++){if(pJ[aA].match(/<TEXTFORMAT/)){pJ[aA]=pJ[aA]+"</TEXTFORMAT>";oG.push(pJ[aA]);}}for(aA=0;aA<oG.length;aA++){if(oG[aA].match(/<P/)){xO=this.ajc(oG[aA]);HJ.push(xO);sG+=xO+" ";if(aA===0){lw=this.ahP(oG[aA]);ags(lw,as);}}sG=sG.replace(/\s+$/g,"");as.set_text(sG);var apD=this.aCG(oG[aA]);switch(apD){case 'CENTER':as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);break;case 'RIGHT':as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Right);break;default:as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Left);break;}}}break;case 'line':case 'arrow':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Line);var bv=as.qc();if(PV==='br'){bv.setPoint(1,new IPCC.Web.UI.Point(hi+lp,gL+ly));bv.setPoint(0,new IPCC.Web.UI.Point(hi,gL));}else if(PV==='bl'){bv.setPoint(1,new IPCC.Web.UI.Point(hi,gL+ly));bv.setPoint(0,new IPCC.Web.UI.Point(hi+lp,gL));}else if(PV==='tr'){bv.setPoint(1,new IPCC.Web.UI.Point(hi+lp,gL));bv.setPoint(0,new IPCC.Web.UI.Point(hi,gL+ly));}else if(PV==='tl'){bv.setPoint(1,new IPCC.Web.UI.Point(hi,gL));bv.setPoint(0,new IPCC.Web.UI.Point(hi+lp,gL+ly));}as.set_lineColor(ld);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));if(mE==='arrow'){as.set_headFillColor(ld);as.set_endHeadType(IPCC.Web.UI.LineHeadType.Solid);as.set_startHeadAngle(30);as.set_startHeadLength(35);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));}break;case 'stamp':case 'stamp_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Stamp);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fillColor(ld);if(mE==='stamp_redact'){as.kV(true);as.set_fillColor('#000000');}jc=ag.firstChild;while((jc)&&(jc.nodeType!==4)){jc=jc.nextSibling;}if((jc)&&(jc.nodeType===4)){kL=jc.innerText||jc.textContent||jc.data;as.bd.al=kL;as.set_text(kL);}break;case 'highlightText':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fillColor(ld);as.cI=ag.getAttribute('highlightGroupID');if(ag.getAttribute('textLength')){as.cF=parseInt(ag.getAttribute('textLength'),10);}as.cu=ag.getAttribute('selectedText');if(ag.getAttribute('startIndex')){as.ao=parseInt(ag.getAttribute('startIndex'),10);}as.mC=ag.getAttribute('isHighlight');as.set_opacity(127);var cl=ajS(ag,wu);if(cl){as.cl=cl;}break;case 'rectangle_filled_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fillColor('#000000');as.set_lineColor(ld);as.set_fillVisible(true);as.kV(true);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));qZ=ag.getAttribute('highlightGroupID');as.set_text(ag.getAttribute('meta'));if(qZ){as.set_lineWidth(0);as.cI=qZ;var eh=PP[qZ];if(!eh){eh=PP[qZ]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eh.cI=qZ;eh.set_rectangle(as.get_rectangle());eh.kV(true);eh.set_text(ag.getAttribute('meta'));}else{var Jo=false;var pR=eh.get_rectangle();var hd=pR.x,gO=pR.x+pR.width,_top=pR.y,iT=pR.y+pR.height;if(pR.x>hi){Jo=true;hd=hi;}if(pR.y>gL){Jo=true;_top=gL;}if(pR.x+pR.width<hi+lp){Jo=true;gO=hi+lp;}if(pR.y+pR.height<gL+ly){Jo=true;iT=gL+ly;}if(Jo===true){eh.set_rectangle({x:hd,y:_top,width:gO-hd,height:iT-_top});}}}break;case 'text_selection_redaction':qZ=ag.getAttribute('highlightGroupID');as=PP[qZ];if(!as){as=PP[qZ]=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);as.cI=qZ;as.set_rectangle({x:0,y:0,width:0,height:0});as.kV(true);as.set_text(ag.getAttribute('meta'));}cF=ag.getAttribute('textLength');if(cF){as.cF=parseInt(cF,10);}cu=ag.getAttribute('selectedText');if(cu){as.cu=cu;}ao=ag.getAttribute('startIndex');if(ao){as.ao=parseInt(ao,10);}break;case 'text_hyperlink_annotation':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextHyperlinkAnnotation);qZ=ag.getAttribute('highlightGroupID');as.cI=qZ;var qn=ag.getAttribute('href');if(qn){as.set_href(qn);}cF=ag.getAttribute('textLength');if(cF){as.cF=parseInt(cF,10);}cu=ag.getAttribute('selectedText');if(cu){as.cu=cu;}ao=ag.getAttribute('startIndex');if(ao){as.ao=parseInt(ao,10);}var mC=ag.getAttribute('isHighlight');as.mC=mC?mC:'n';as.cl=ajS(ag,wu);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});break;case 'rectangle':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_lineVisible(true);as.set_lineColor(ld);as.set_fillVisible(false);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'rectangle_filled':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fillColor(rs);as.set_lineColor(ld);as.set_fillVisible(true);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'rectangle_trans':case 'rectangle_trans_redact':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Rectangle);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fillColor(rs);as.set_lineColor(ld);as.set_fillVisible(true);if(mE==='rectangle_trans_redact'){as.kV(true);}as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));break;case 'freehand':case 'signature_path':if(mE==='freehand'){as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Freehand);}else{as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignaturePath);}as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_pathWidth(parseFloat(ag.getAttribute('pathWidth')));as.set_pathHeight(parseFloat(ag.getAttribute('pathHeight')));as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));as.set_lineColor(ld);var vX=ag.firstChild;while((vX)&&(vX.nodeType!==4)){vX=vX.nextSibling;}if((vX)&&(vX.nodeType===4)){kL=vX.innerText||vX.textContent||vX.data;as.bd.al=kL;as.set_pathString(kL);}break;case 'signature_text':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.SignatureText);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});as.set_fontSize(10);as.set_lineWidth=0;as.set_fillVisible(true);as.set_opacity(1);jc=ag.firstChild;this.ams(jc,as);as.wZ=parseFloat(ag.getAttribute('fontWidth'));as.vj=parseFloat(ag.getAttribute('fontHeight'));break;case 'text_input_signature':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextLine);as.set_rectangle({x:hi,y:gL,width:lp,height:ly});jc=ag.firstChild;this.ams(jc,as);as.wZ=parseFloat(ag.getAttribute('fontWidth'));as.vj=parseFloat(ag.getAttribute('fontHeight'));as.set_lineVisible(false);break;case 'polyline':as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Polyline);as.set_lineWidth(parseFloat(ag.getAttribute('lineWidth')));as.set_lineColor(ld);var wi=ag.firstChild;while((wi)&&(wi.nodeType!==4)){wi=wi.nextSibling;}var Eu;if((wi)&&(wi.nodeType===4)){kL=wi.innerText||wi.textContent||wi.data;if(kL&&kL!=='undefined'){if(typeof JSON!=='undefined'){Eu=JSON.parse(kL);}else{Eu=IPCC.cJ.pu(kL,true);}bv=as.qc();if(Eu){for(F=0;F<Eu.length;F++){bv.addPoint(new IPCC.Web.UI.Point(Eu[F].x*wu,Eu[F].y*wu));}}}}break;default:}if(as){as.bd.jX=ag.getAttribute('nodeId');if(JV>=0&&(mE==='rectangle_trans_redact'|| !as.hO())&&mE!=='stamp'&&mE!=='imagestamp'&&mE!=='imagestamp_redact'&&mE!=='text_hyperlink_annotation'){as.set_opacity(JV);}as.bd.Gk=asO;as.bd.aDs=mE;as.bd.gz=ag.getAttribute('lineWidth');as.bd.cW=ag.getAttribute('fillColor');as.bd.hF=ag.getAttribute('lineColor');as.bd.aEx=ag.getAttribute('dragDirection');as.bd.CN=CN;as.bd.ae=ag.getAttribute('x');as.bd.fv=ag.getAttribute('y');as.bd.dj=ag.getAttribute('height');as.bd.aa=ag.getAttribute('width');as.bd.aEE=ag.getAttribute('x_percent');as.bd.aCS=ag.getAttribute('y_percent');as.bd.aDg=ag.getAttribute('height_percent');as.bd.aED=ag.getAttribute('width_percent');as.bd.aDD=ag.getAttribute('formUser');as.bd.aCZ=ag.getAttribute('created');as.bd.aEf=ag.getAttribute('modified');as.bd.aFV=ag.getAttribute('saveDate');as.bd.aDE=ag.getAttribute('saveTime');as.bd.qH=ag.getAttribute('meta');var zA=ag.firstChild;while((zA)&&(zA.nodeType!==4)){zA=zA.nextSibling;}if((zA)&&(zA.nodeType===4)){as.cd.push(zA.data);}else{as.cd.push('');}var oW=parseInt(ag.getAttribute('interactionMode'))||IPCC.Web.UI.MarkInteractionMode.Full;as.set_interactionMode(oW);as.kZ(this);as.add_propertyChanged(pB);as.add_markTextSelectionChanged(Ce);as.yS(Oi);as.ym(KZ);as.tO(NQ);Lf.push(as);atb(ag,as);sy=IPCC.bb.amQ(ag.getAttribute('created'));sK=IPCC.bb.amQ(ag.getAttribute('modified'));sy=sy||new Date();sK=sK||new Date();as.initializeDates(sy,sK);if(tw){as.set_visible(false);}}}}ay=ay.concat(Lf);C.bo('marksLoaded',{});}if(kR){arZ(mv,bI);break;}}}}};this.ams=function(wr,as){var F,kL,pJ,sG,HJ,xO,oG=[],lw;while((wr)&&(wr.nodeType!==4)){wr=wr.nextSibling;}if((wr)&&(wr.nodeType===4)){kL=wr.innerText||wr.textContent||wr.data;as.bd.al=kL;pJ=kL.split("</TEXTFORMAT>");for(F=0;F<pJ.length;F++){if(pJ[F].match(/<TEXTFORMAT/)){pJ[F]=pJ[F]+"</TEXTFORMAT>";oG.push(pJ[F]);}}sG='';HJ=[];for(F=0;F<oG.length;F++){if(oG[F].match(/<P/)){xO=this.ajc(oG[F]);HJ.push(xO);sG+=xO+" ";if(F===0){lw=this.ahP(oG[F]);ags(lw,as);}}sG=sG.replace(/\s+$/g,"");as.set_text(sG);if(as.get_type()!==IPCC.Web.UI.MarkType.TextLine){as.set_textHorizontalAlignment(IPCC.Web.UI.HorizontalAlignment.Center);}}}};function Vh(ajb,cj){for(var i=0;i<ajb.childNodes.length;i++){var YB=ajb.childNodes[i];if(YB.nodeName==='kvp'){var aI=YB.getAttribute("key");var L=YB.getAttribute("value");cj.set_data(aI,L);}}};function asa(OJ,cK){var cr=new IPCC.Web.UI.Comment(IPCC.bb.adP(OJ.getAttribute("text")));cr.set_creationTime(OJ.getAttribute("created"));cK.addComment(cr);for(var i=0;i<OJ.childNodes.length;i++){var ajp=OJ.childNodes[i];if(ajp.nodeName==='data'){Vh(ajp,cr.get_data());}}};function atg(ajr,cK){for(var i=0;i<ajr.childNodes.length;i++){var QU=ajr.childNodes[i];if(QU.nodeName==='comments'){var hI=QU;for(var j=0;j<hI.childNodes.length;j++){var aja=hI.childNodes[j];if(aja.nodeName==='comment'){asa(aja,cK);}}}else if(QU.nodeName==='data'){Vh(QU,cK.get_data());}}};function atb(aeO,J){for(var i=0;i<aeO.childNodes.length;i++){var Pl=aeO.childNodes[i];if(Pl.nodeName==='conversation'){atg(Pl,J.get_conversation());}else if(Pl.nodeName==='data'){Vh(Pl,J.get_data());}}};function ajS(uz,xw){var lk=null,BD;for(var i=0;i<uz.childNodes.length;i++){BD=uz.childNodes[i];if(BD.nodeName==='line-rectangles'){if(!lk){lk=arK(BD,xw);}else{throw new Error("An XML annotation node cannot have more than one line-rectangles child node.");}}}return lk;};function arK(uz,xw){var lk=[],BD;for(var i=0;i<uz.childNodes.length;i++){BD=uz.childNodes[i];if(BD.nodeName==='rectangle'){lk.push(atd(BD,xw));}}return lk;};function atd(uz,xw){var ae=parseFloat(uz.getAttribute("x"))*xw;var fv=parseFloat(uz.getAttribute("y"))*xw;var aa=parseFloat(uz.getAttribute("width"))*xw;var dj=parseFloat(uz.getAttribute("height"))*xw;return new IPCC.Web.UI.Rectangle(ae,fv,aa,dj);};this.Zq=function(ar,Iy,vt,gC,db,bh){var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);as.set_rectangle({x:ar.x,y:ar.y,width:ar.width,height:ar.height});as.set_fillColor(vt);as.set_fillVisible(true);as.ao=bh;as.cF=1;if(db){as.set_opacity(db);}else{as.set_opacity(127);}C.addMark(as);return as;};this.aoO=function(ar,Uy,bh){var as=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.Highlight);as.set_rectangle({x:ar.x,y:ar.y,width:ar.width,height:ar.height});as.set_fillColor(Uy.get_fillColor());as.set_fillVisible(true);as.ao=bh;as.cF=1;if(Uy.get_opacity()){as.set_opacity(Uy.get_opacity());}else{as.set_opacity(127);}C.addMark(as);return as;};function ags(lw,as){for(var cc=0;cc<lw.length;cc++){var bY=lw[cc].attribs;var kR=false;if(lw[cc].attribs.length>1&& !kR&&lw[cc].JY==='font'){kR=true;for(var ba=0;ba<bY.length;ba++){if(bY[ba].ct==="FACE"){as.set_fontName(bY[ba].L);}else if(bY[ba].ct==="SIZE"&&as.get_type()!==IPCC.Web.UI.MarkType.TextLine){var uq=parseFloat(bY[ba].L);as.set_fontSize(uq);}else if(bY[ba].ct==="COLOR"){var ajd=bY[ba].L;if(as.get_type()===IPCC.Web.UI.MarkType.SignatureText){as.set_fillColor(ajd);}else{as.set_textColor(ajd);}}}var nb=false;if(lw[cc+1]&&as.get_type()!==IPCC.Web.UI.MarkType.TextLine){if(lw[cc+1].tagName==='font'){break;}else{var AH=lw[cc+1].JY;if(AH==='b'||AH==='i'||AH==='u'||AH==='s'){if(AH==='b'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);}else if(AH==='i'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);}else if(AH==='u'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);}else if(AH==='s'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);}nb=true;}}if(lw[cc+2]){var aor=lw[cc+2].JY;nb=Xw(as,nb,aor);}if(lw[cc+3]){var anX=lw[cc+3].JY;nb=Xw(as,nb,anX);}if(lw[cc+4]){var aov=lw[cc+4].JY;nb=Xw(as,nb,aov);}if(kR){break;}}}}};function Xw(J,agV,zO){var nb=agV;var as=J;if(agV){if(zO==='b'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Bold);nb=true;}else if(zO==='i'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Italic);nb=true;}else if(zO==='u'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Underline);nb=true;}else if(zO==='s'){as.set_fontStyle(as.get_fontStyle()|IPCC.Web.UI.FontStyle.Strikeout);nb=true;}}else{if(zO==='b'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Bold);nb=true;}else if(zO==='i'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Italic);nb=true;}else if(zO==='u'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Underline);nb=true;}else if(zO==='s'){as.set_fontStyle(IPCC.Web.UI.FontStyle.Strikeout);nb=true;}}return nb;};function CT(str){var obj={},items=str.split(",");for(var i=0;i<items.length;i++){obj[items[i]]=true;}return obj;};var aac=/^<([\-A-Za-z0-9_]+)((?:\s+\w+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,aiW=/^<\/([\-A-Za\-z0-9_]+)[^>]*>/,aub=/([\-A-Za\-z0-9_]+)(?:\s*=\s*(?:(?:"((?:\\[\w\W]|[^"])*)")|(?:'((?:\\[\w\W]|[^'])*)')|([^>\s]+)))?/g;var aok=CT("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed");var PY=CT("address,applet,blockquote,button,center,dd,del,dir,div,dl,dt,fieldset,form,frameset,hr,iframe,ins,isindex,li,map,menu,noframes,noscript,object,ol,p,pre,script,table,tbody,td,tfoot,th,thead,tr,ul");var awm=CT("a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,em,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,span,strike,strong,sub,sup,textarea,tt,u,var");var asH=CT("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr");var azO=CT("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected");var azF=CT("script,style");this.afa=function(html,handler){var bh,xC,vW,lE=[],wK=html;function parseEndTag(tag,tagName){var hT;if(!tagName){hT=0;}else{for(hT=lE.length-1;hT>=0;hT--){if(lE[hT]===tagName){break;}}}if(hT>=0){for(var i=lE.length-1;i>=hT;i--){if(handler.end){handler.end(lE[i]);}}lE.length=hT;}};function parseStartTag(tag,tagName,rest,unary){tagName=tagName.toLowerCase();if(PY[tagName]){while(lE.last()&&awm[lE.last()]){parseEndTag("",lE.last());}}if(asH[tagName]&&lE.last()===tagName){parseEndTag("",tagName);}unary=aok[tagName]|| ! !unary;if(!unary){lE.push(tagName);}if(handler.start){var attrs=[];rest.replace(aub,function(vW,name){var value=arguments[2]?arguments[2]:arguments[3]?arguments[3]:arguments[4]?arguments[4]:azO[name]?name:"";attrs.push({name:name,value:value,escaped:value.replace(/(^|[^\\])"/g,'$1\\\"')});});if(handler.start){handler.start(tagName,attrs,unary);}}};lE.last=function(){return this[this.length-1];};function aqb(all,text){text=text.replace(/<!--([\w\W]*?)-->/g,"$1").replace(/<!\[CDATA\[([\w\W]*?)\]\]\]>/g,"$1");if(handler.chars){handler.chars(text);}return "";};while(html){xC=true;if(!lE.last()|| !azF[lE.last()]){if(html.indexOf("<!--")===0){bh=html.indexOf("-->");if(bh>=0){if(handler.comment){handler.comment(html.substring(4,bh));}html=html.substring(bh+3);xC=false;}}else if(html.indexOf("</")===0){vW=html.match(aiW);if(vW){html=html.substring(vW[0].length);vW[0].replace(aiW,parseEndTag);xC=false;}}else if(html.indexOf("<")===0){vW=html.match(aac);if(vW){html=html.substring(vW[0].length);vW[0].replace(aac,parseStartTag);xC=false;}}if(xC){bh=html.indexOf("<");var text=bh<0?html:html.substring(0,bh);text=IPCC.bb.adP(text);html=bh<0?"":html.substring(bh);if(handler.chars){handler.chars(text);}}}else{html=html.replace(new RegExp("(.*)<\/"+lE.last()+"[^>]*>"),aqb);parseEndTag("",lE.last());}if(html===wK){throw " Parse Error in annotation Html Text: "+html;}wK=html;}parseEndTag();};this.ajc=function(html){var results="";this.afa(html,{start:function(){},end:function(){},chars:function(text){results+=text;},comment:function(){}});return results;};this.ahP=function(html){var gR=[];this.afa(html,{start:function(tag,attrs){var eT;eT=tag;if(tag==='font'||tag==='b'||tag==='i'||tag==='u'||tag==='s'){var yZ={};yZ.JY=tag;yZ.attribs=[];if(tag==='b'){yZ.aCY=true;}else if(tag==='i'){yZ.aDR=true;}else if(tag==='u'){yZ.aEh=true;}else if(tag==='s'){yZ.aDk=true;}else{for(var i=0;i<attrs.length;i++){var AA={};AA.ct=attrs[i].name;AA.L=attrs[i].value;yZ.attribs.push(AA);}}gR.push(yZ);}},end:function(){},chars:function(){},comment:function(){}});return gR;};this.aCG=function(html){var parts=html.toUpperCase().split('ALIGN="');var alignment=parts[1].split('"')[0];switch(alignment){case 'CENTER':return alignment;case 'RIGHT':return alignment;default:return 'LEFT';}};function arZ(mv,axw){var mU=mv.getElementsByTagName("highlights")[0];if(mU.hasChildNodes()){var kQ;var dk;for(var F=0;F<mU.childNodes.length;F++){kQ=mU.childNodes[F];if(kQ.nodeType===1){dk=kQ.getAttribute('page');if(dk&&parseInt(dk,10)===axw+1){var jb=new IPCC.Web.UI.auX();jb.avS=kQ.nodeName;switch(jb.avS){case 'tag':jb.Nz=IPCC.Web.UI.HighLightType.Tag;break;case 'highlight':jb.Nz=IPCC.Web.UI.HighLightType.InlineHighLight;break;case 'link':jb.Nz=IPCC.Web.UI.HighLightType.Link;break;case 'redaction':jb.Nz=IPCC.Web.UI.HighLightType.Redaction;break;default:jb.Nz=undefined;}if(kQ.childNodes[0].data){jb.cd.push(kQ.childNodes[0].data);}jb.bd.cD=kQ.getAttribute('id');jb.bd.aEC=kQ.getAttribute('userid');jb.bd.aEF=kQ.getAttribute('mode');jb.bd.fp=kQ.getAttribute('color');jb.bd.aGB=kQ.getAttribute('occurence');jb.bd.ag=kQ.getAttribute('annotation');jb.bd.bw=kQ.getAttribute('page');jb.bd.aDm=kQ.getAttribute('documentname');jb.bd.aDt=kQ.getAttribute('tooltip');jb.bd.aEp=kQ.getAttribute('allowdelete');jb.bd.lU=kQ.getAttribute('start');jb.bd.aDu=kQ.getAttribute('end');C.avE.push(jb);}}}}};this.YP=function(){var R;if(ay.length<1){return;}eI.removeAllMarks();var F;for(F=ay.length-1;F>=0;F--){ay[F].remove_propertyChanged(pB);ay[F].remove_markTextSelectionChanged(Ce);ay[F].kZ(null);R=new IPCC.Web.UI.MarkEventArgs();R.length=ay.length;R.zIndex=0;R.mark=ay.pop();C.bo('markRemoved',R);}R=new IPCC.Web.UI.MarkEventArgs();R.length=ay.length;R.zIndex=0;C.bo('markRemoved',R);};this.wf=function(J){var kY=this.ov(J);var wq=J.cI;if(kY>=0){J.remove_propertyChanged(pB);J.remove_markTextSelectionChanged(Ce);J.kZ(null);ay.splice(kY,1);eI.removeMark(J);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;R.zIndex=kY;R.length=1;C.bo('markRemoved',R);if(wq){this.anF(wq);}}};this.aEz=function(qK){var vA=ay.length;var wq=qK.cI;while(vA--){var J=ay[vA];if(J.cI===wq){J.set_fillColor(qK.get_fillColor());}}};this.aqu=function(qK){var vA=ay.length;var wq=qK.cI;if(!wq){qK.set_text(qK.get_text());return;}while(vA--){var J=ay[vA];if(J.cI===wq){if(J.get_text()!==qK.get_text()){J.set_text(qK.get_text());}if(J.get_fontName()!==qK.get_fontName()){J.set_fontName(qK.get_fontName());}if(J.get_fontSize()!==qK.get_fontSize()){J.set_fontSize(qK.get_fontSize());}}}};this.anF=function(wq){var vA=ay.length;while(vA--){var J=ay[vA];if(J.cI===wq){var kY=this.ov(J);eI.removeMark(J);ay.splice(vA,1);var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;R.zIndex=kY;R.length=1;}}};this.ady=function(J,kY){var OG=this.ov(J);if(OG<0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot reorder a Mark unless it is currently associated with the ArtPage.');}if(OG===kY){return;}agi(kY);ay.splice(OG,1);ay.splice(kY,0,J);if(J.get_type()===IPCC.Web.UI.MarkType.Highlight||J.get_type()===IPCC.Web.UI.MarkType.HighlightText||J.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||J.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink||(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.cI!==undefined)){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.mark=J;R.zIndex=kY;R.oldZIndex=OG;R.length=1;C.bo('markReordered',R);};function ans(lk,eO,ck){if(!lk){return undefined;}var mu={hG:'line-rectangles',cd:[],bd:{}};IPCC.bb.forEach(lk,function(V){mu.cd.push({hG:'rectangle',cd:[],bd:{x:V.x,y:V.y,height:V.height,width:V.width}});});return mu;};function Xj(cj){if(!cj){return undefined;}var tc=cj.get_dataKeys();if(tc.length===0){return undefined;}var mu={hG:'data',cd:[],bd:{}};IPCC.bb.forEach(tc,function(aI){var L=cj.get_data(aI);mu.cd.push({hG:'kvp',cd:[],bd:{key:aI,value:L}});});return mu;};function aoi(cr){if(!cr){return undefined;}var CP={hG:'comment',cd:[],bd:{}};CP.bd.text=IPCC.bb.ER(cr.get_text());CP.bd.created=cr.get_creationTime();var mu=Xj(cr.get_data());if(mu){CP.cd.push(mu);}return CP;};function app(cK){if(!cK||cK.get_length()===0){return undefined;}var Wh={hG:'conversation',cd:[],bd:{}};var acL={hG:'comments',cd:[],bd:{}};Wh.cd.push(acL);cK.forEach(function(cr){var CP=aoi(cr);if(CP){acL.cd.push(CP);}});var mu=Xj(cK.get_data());if(mu){Wh.cd.push(mu);}return Wh;};this.avw=function(bI,eO,ck,bp){var kc={hG:'documentAnnotations',cd:[],bd:{}};var cQ={hG:'pages',cd:[],bd:{}};kc.cd.push(cQ);var mU={hG:'highlights',cd:[],bd:{}};kc.cd.push(mU);var vE={},tC=[];var bw={hG:'page',cd:[],bd:{id:(bI+1).toString(),pageWidth:eO,pageHeight:ck}};cQ.cd.push(bw);bp=bp||{};var ahI=(bp.includeAnnotations!==undefined)? ! !bp.includeAnnotations:true,agY=(bp.includeRedactions!==undefined)? ! !bp.includeRedactions:true,ahE=(bp.includeSignatures!==undefined)? ! !bp.includeSignatures:false,JN=(bp.JN!==undefined)? ! !bp.JN:false,apr= ! !JN;var F;var jl=false;var lD;var iy;var kg,yH,ve,al;for(F=0;F<ay.length;F++){if(ahI===false&&agY===false&&ahE===false){break;}var J=ay[F];var aC=J.get_type();if(apr&& !J.get_visible()){continue;}if(ahI===false){if(aC===IPCC.Web.UI.MarkType.Rectangle||aC===IPCC.Web.UI.MarkType.Ellipse||aC===IPCC.Web.UI.MarkType.Line||aC===IPCC.Web.UI.MarkType.Text||aC===IPCC.Web.UI.MarkType.Stamp||aC===IPCC.Web.UI.MarkType.Highlight||aC===IPCC.Web.UI.MarkType.HighlightText||aC===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||aC===IPCC.Web.UI.MarkType.Freehand||aC===IPCC.Web.UI.MarkType.ImageStampAnnotation||aC===IPCC.Web.UI.MarkType.Polyline){if(J.hO()===false){continue;}}}if(agY===false){if(J.hO()===true){continue;}if(aC===IPCC.Web.UI.MarkType.RectangleRedaction||aC===IPCC.Web.UI.MarkType.TextSelectionRedaction||aC===IPCC.Web.UI.MarkType.ImageStampRedaction){continue;}}if(ahE===false){if(aC===IPCC.Web.UI.MarkType.SignaturePath||aC===IPCC.Web.UI.MarkType.SignatureText||aC===IPCC.Web.UI.MarkType.SignatureImage||aC===IPCC.Web.UI.MarkType.TextLine){continue;}}var aP={hG:'annotation',cd:[],bd:{}};if(!J.bd.jX){aP.bd.nodeId=C.aos();}else{aP.bd.nodeId=J.bd.jX;}var agK,Oa="",vv="";if(J.get_lineColor()){var RC=J.get_lineColor();if(RC==='transparent'){aP.bd.lineColor=RC;}else{agK=RC.replace(/#/,"");Oa=parseInt(agK,16);vv=Oa.toString();aP.bd.lineColor=vv;}}aP.bd.interactionMode=J.get_interactionMode();aP.bd.stampSize='122';var LT={};LT[IPCC.Web.UI.MarkType.Stamp]=true;LT[IPCC.Web.UI.MarkType.ImageStampAnnotation]=true;LT[IPCC.Web.UI.MarkType.ImageStampRedaction]=true;if((aC===IPCC.Web.UI.MarkType.Rectangle&&J.get_opacity()<255|| !J.hO())&&LT[aC]!==true){aP.bd.opacity=J.get_opacity();}if(J.get_conversation().get_length()>0){aP.cd.push(app(J.get_conversation()));}var mu=Xj(J.get_data());if(mu){aP.cd.push(mu);}jl=false;switch(aC){case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Ellipse:iy=J.get_fillColor();if(iy==='transparent'){aP.bd.fillColor=iy;}else if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor=parseInt(lD,16).toString();}else{aP.bd.fillColor=vv;}if(J.get_fillVisible()){if(J.get_type()===IPCC.Web.UI.MarkType.Rectangle){if(J.get_opacity()===255){if(J.hO()===true){aP.bd.drawType='rectangle_filled_redact';if(J.cI){aP.bd.highlightGroupID=J.cI;}}else{aP.bd.drawType='rectangle_filled';}}else{if(J.hO()===true){aP.bd.drawType='rectangle_trans_redact';}else{aP.bd.drawType='rectangle_trans';}}}else{if(J.get_opacity()===255){aP.bd.drawType='circle_filled';if(J.hO()){aP.bd.drawType='circle_filled_redact';}}else{aP.bd.drawType='circle_trans';if(J.hO()){aP.bd.drawType='circle_trans_redact';}}}}else{if(J.get_type()===IPCC.Web.UI.MarkType.Rectangle){aP.bd.drawType='rectangle';aP.bd.fillColor=vv;}else{aP.bd.drawType='circle';aP.bd.fillColor=vv;}}aP.bd.dragDirection='br';var V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:aP.bd.lineWidth=J.get_lineWidth();jl=true;break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:aP.bd.highlightGroupID=J.cI;aP.bd.drawType='text_selection_redaction';if(J.cu&&J.cu.length>0){aP.bd.startIndex=J.ao;aP.bd.selectedText=J.cu;aP.bd.textLength=J.cF;}break;case IPCC.Web.UI.MarkType.Text:var yO=J.get_rectangle();aP.bd.x=yO.x;aP.bd.y=yO.y;aP.bd.x_percent=yO.x/eO;aP.bd.y_percent=yO.y/ck;aP.bd.height_percent=yO.height/ck;aP.bd.width_percent=yO.width/eO;aP.bd.height=yO.height;aP.bd.width=yO.width;iy=J.get_fillColor();if(J.hO()===true){aP.bd.drawType='text_redact';}else{aP.bd.drawType='text';aP.bd.opacity=J.get_opacity();}if(iy==='transparent'){aP.bd.fillColor=iy;}else if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor=parseInt(lD,16).toString();}else{aP.bd.fillColor='16776960';}var cn='';cn="<TEXTFORMAT LEADING=\"2\">";switch(J.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:cn+="<P ALIGN=\"center\" ";break;case IPCC.Web.UI.HorizontalAlignment.Left:cn+="<P ALIGN=\"left\" ";break;case IPCC.Web.UI.HorizontalAlignment.Right:cn+="<P ALIGN=\"right\" ";break;}cn+=">";cn+="<FONT ";yH=J.get_fontName();cn+="FACE="+"\""+yH+"\" ";ve=J.get_fontSize().toString();cn+="SIZE= \""+ve+"\" ";kg="\""+J.get_textColor()+"\" ";cn+="COLOR="+kg+" ";cn+="LETTERSPACING=\"0\" ";cn+="KERNING=\"0\" ";cn+=">";var ee=J.get_fontStyle();if(ee&IPCC.Web.UI.FontStyle.Bold){cn+="<B>";}if(ee&IPCC.Web.UI.FontStyle.Italic){cn+="<I>";}if(ee&IPCC.Web.UI.FontStyle.Underline){cn+="<U>";}if(ee&IPCC.Web.UI.FontStyle.Strikeout){cn+="<S>";}al=J.get_text();al=IPCC.bb.ER(al);cn+=al;if(ee&IPCC.Web.UI.FontStyle.Strikeout){cn+="</S>";}if(ee&IPCC.Web.UI.FontStyle.Underline){cn+="</U>";}if(ee&IPCC.Web.UI.FontStyle.Italic){cn+="</I>";}if(ee&IPCC.Web.UI.FontStyle.Bold){cn+="</B>";}cn+="</FONT>";cn+="</P>";cn+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.Highlight:V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.drawType='highlight';aP.bd.highlightGroupID=J.cI;aP.bd.isHighlight=J.mC;iy=J.get_fillColor();if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor=parseInt(lD,16).toString();aP.bd.lineColor=parseInt(lD,16).toString();}else{aP.bd.fillColor=vv;}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.drawType='text_hyperlink_annotation';aP.bd.href=J.qn;aP.bd.startIndex=J.ao;aP.bd.selectedText=J.cu;aP.bd.textLength=J.cF;aP.bd.highlightGroupID=J.cI;aP.bd.isHighlight=J.mC;aP.cd.push(ans(J.cl,eO,ck));break;case IPCC.Web.UI.MarkType.HighlightText:V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.drawType='highlightText';aP.bd.startIndex=J.ao;aP.bd.selectedText=J.cu;aP.bd.textLength=J.cF;aP.bd.highlightGroupID=J.cI;aP.bd.isHighlight=J.mC;iy=J.get_fillColor();if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor=parseInt(lD,16).toString();aP.bd.lineColor=parseInt(lD,16).toString();}else{aP.bd.fillColor=vv;}aP.cd.push(ans(J.cl,eO,ck));break;case IPCC.Web.UI.MarkType.RectangleRedaction:V=J.get_rectangle();aP.bd.drawType='rectangle_filled_redact';aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.meta=J.get_text();aP.bd.stampSize=J.get_fontSize();if(J.cI){aP.bd.highlightGroupID=J.cI;}break;case IPCC.Web.UI.MarkType.Stamp:iy=J.get_fillColor();if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor=parseInt(lD,16).toString();aP.bd.lineColor=parseInt(lD,16).toString();}else{aP.bd.fillColor=vv;}V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;if(J.hO()===true){aP.bd.drawType='stamp_redact';}else{aP.bd.drawType='stamp';}al=J.get_text();aP.bd.stampSize=J.stampSize;aP.cd.push('<![CDATA['+al+']]>');break;case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:if(J.get_type()===IPCC.Web.UI.MarkType.Freehand){aP.bd.drawType='freehand';}else{aP.bd.drawType='signature_path';}cn=J.get_pathString();aP.bd.pathWidth=J.get_pathWidth();aP.bd.pathHeight=J.get_pathHeight();V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;break;case IPCC.Web.UI.MarkType.SignatureText:iy=J.get_fillColor();var cW;if(iy){lD=iy.replace(/#/,"");aP.bd.fillColor="";aP.bd.lineColor="";cW=parseInt(lD,16).toString();}else{aP.bd.fillColor="";cW=vv;}V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.opacity=0;aP.bd.drawType='signature_text';aP.bd.stampSize=J.stampSize;aP.bd.fontWidth=J.wZ;aP.bd.fontHeight=J.vj;cn='';cn="<TEXTFORMAT LEADING=\"2\">";cn+="<P ALIGN=\"center\" ";cn+=">";cn+="<FONT ";yH=J.get_fontName();cn+="FACE="+"\""+yH+"\" ";ve=J.stampSize.toString();cn+="SIZE= \""+ve+"\" ";kg="\""+J.get_fillColor()+"\" ";cn+="COLOR="+kg+" ";cn+="LETTERSPACING=\"0\" ";cn+="KERNING=\"0\" ";cn+=">";al=IPCC.bb.ER(J.get_text());cn+=al;cn+="</FONT>";cn+="</P>";cn+="</TEXTFORMAT>";break;case IPCC.Web.UI.MarkType.TextLine:if(!JN){V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.opacity=0;aP.bd.drawType='text_input_signature';aP.bd.stampSize=J.stampSize;aP.bd.fontWidth=J.wZ;aP.bd.fontHeight=J.vj;cn='';cn="<TEXTFORMAT LEADING=\"2\">";cn+="<P ALIGN=\"left\" ";cn+=">";cn+="<FONT ";yH=J.get_fontName();cn+="FACE="+"\""+yH+"\" ";ve=J.stampSize.toString();cn+="SIZE= \""+ve+"\" ";kg="\""+J.get_textColor()+"\" ";cn+="COLOR="+kg+" ";cn+="LETTERSPACING=\"0\" ";cn+="KERNING=\"0\" ";cn+=">";al=IPCC.bb.ER(J.get_text());cn+=al;cn+="</FONT>";cn+="</P>";cn+="</TEXTFORMAT>";}else{V=J.get_rectangle();var Gr=J.stampSize;var oK;if(!J.IU|| !J.oK){var asl=IPCC.bb.ahX(J.get_text(),J.get_fontName(),V.width,V.height,{xh:"pre",cS:Gr+"px"});oK=asl;J.IU=true;J.oK=oK;}else{oK=J.oK;}Gr=oK.fontSize;var hX=oK.width/V.width,bj=1.0,MIN_BUFFER=0.85;if(/mono/i.test(J.get_fontName())){MIN_BUFFER=0.75;}if(hX>MIN_BUFFER){bj=MIN_BUFFER*V.width/oK.width;Gr=Gr*bj;}var aib=V.width,azp=oK.height*bj,aep=V.height-(V.height-azp)/2,ahT=V.x,aiG=V.y+(V.height-oK.height)/2+(oK.height*(1-bj));aP.bd.x=ahT;aP.bd.y=aiG;aP.bd.x_percent=ahT/eO;aP.bd.y_percent=aiG/ck;aP.bd.height_percent=aep/ck;aP.bd.width_percent=aib/eO;aP.bd.height=aep;aP.bd.width=aib;aP.bd.opacity=0;aP.bd.drawType='text_redact';cn='';cn="<TEXTFORMAT>";cn+="<P ALIGN=\"left\" ";cn+=">";cn+="<FONT ";yH=J.get_fontName();cn+="FACE="+"\""+yH+"\" ";if(J.aiH){ve=(Gr/J.aiH).toString();}else{ve=Gr.toString();}cn+="SIZE= \""+ve+"\" ";kg="\""+J.get_textColor()+"\" ";cn+="COLOR="+kg+" ";cn+="LETTERSPACING=\"0\" ";cn+="KERNING=\"0\" ";cn+=">";al=IPCC.bb.ER(J.get_text());cn+=al;cn+="</FONT>";cn+="</P>";cn+="</TEXTFORMAT>";}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aP.bd.drawType=(aC===IPCC.Web.UI.MarkType.ImageStampRedaction)?'imagestamp_redact':'imagestamp';V=J.get_rectangle();aP.bd.x=V.x;aP.bd.y=V.y;aP.bd.height=V.height;aP.bd.width=V.width;aP.bd.lineWidth=J.get_lineWidth();aP.bd.x_percent=V.x/eO;aP.bd.y_percent=V.y/ck;aP.bd.height_percent=V.height/ck;aP.bd.width_percent=V.width/eO;aP.bd.imageStampId=J.oZ;vE[J.oZ]={hG:'stampImage',cd:[],bd:{imageStampId:J.oZ,base64format:J.du()}};break;}if(jl){aP.bd.lineWidth=J.get_lineWidth();var ar=J.get_boundingRectangle();aP.bd.x=ar.x;aP.bd.y=ar.y;aP.bd.x_percent=ar.x/eO;aP.bd.y_percent=ar.y/ck;aP.bd.height_percent=ar.height/ck;aP.bd.width_percent=ar.width/eO;aP.bd.height=ar.height;aP.bd.width=ar.width;if(aC===IPCC.Web.UI.MarkType.Line){if(J.get_endHeadType()===IPCC.Web.UI.LineHeadType.None){aP.bd.drawType='line';}else{aP.bd.drawType='arrow';}}else{aP.bd.drawType='polyline';}aP.bd.lineWidth=J.get_lineWidth();var bv=J.get_points();if(aC===IPCC.Web.UI.MarkType.Line){if((bv.getPoint(0).x<bv.getPoint(1).x)&&(bv.getPoint(0).y>bv.getPoint(1).y)){aP.bd.dragDirection='tr';}else if((bv.getPoint(0).x>bv.getPoint(1).x)&&(bv.getPoint(0).y>bv.getPoint(1).y)){aP.bd.dragDirection='tl';}else if((bv.getPoint(0).x>bv.getPoint(1).x)&&(bv.getPoint(0).y<bv.getPoint(1).y)){aP.bd.dragDirection='bl';}else if((bv.getPoint(0).x<bv.getPoint(1).x)&&(bv.getPoint(0).y<bv.getPoint(1).y)){aP.bd.dragDirection='br';}else{aP.bd.dragDirection='br';}}else{var xV=[];var cT=bv.get_length(),aT;if(cT>1){for(var ba=0;ba<bv.get_length();ba++){aT=bv.getPoint(ba);xV.push({x:aT.x,y:aT.y});}cn=IPCC.cJ.Yo(xV);}}if(Oa){aP.bd.fillColor=Oa;}else{aP.bd.fillColor="";}}else{aP.bd.lineWidth=J.get_lineWidth();aP.bd.dragDirection='br';}if(J.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){aP.bd.meta='';}aP.bd.label='';var ew=new Date();aP.bd.saveDate=IPCC.bb.aBW(ew);aP.bd.saveTime=IPCC.bb.aBc(ew);aP.bd.uuid='';aP.bd.formUser='';aP.bd.created=IPCC.bb.ajh(J.get_dateCreated());aP.bd.modified=IPCC.bb.ajh(J.get_dateModified());if(J.get_type()===IPCC.Web.UI.MarkType.Text||J.get_type()===IPCC.Web.UI.MarkType.Freehand||J.get_type()===IPCC.Web.UI.MarkType.SignaturePath||J.get_type()===IPCC.Web.UI.MarkType.SignatureText||J.get_type()===IPCC.Web.UI.MarkType.Polyline||J.get_type()===IPCC.Web.UI.MarkType.TextLine){aP.cd.push('<![CDATA['+cn+']]>');}else{aP.cd.push('');}if(J.get_type()!==IPCC.Web.UI.MarkType.Highlight){bw.cd.push(aP);}}for(var Gm in vE){if(vE.hasOwnProperty(Gm)){tC.push(vE[Gm]);}}return{kc:kc,tC:tC};};this.awh=function(){var eb={m:[]};var F;for(F=0;F<ay.length;F++){eb.m.push(ay[F].awp());}C.bo('marksSaved',{});var agm="";agm=IPCC.cJ.Yo(eb);return agm;};this.yD=function(G){aO.addHandler('markAdded',G);};this.yp=function(G){aO.removeHandler('markAdded',G);};this.DQ=function(G){aO.addHandler('markChanged',G);};this.Eh=function(G){aO.removeHandler('markChanged',G);};this.ye=function(G){aO.addHandler('markRemoved',G);};this.yn=function(G){aO.removeHandler('markRemoved',G);};this.Dc=function(G){aO.addHandler('markReordered',G);};this.Dk=function(G){aO.removeHandler('markReordered',G);};this.Sj=function(G){aO.addHandler('marksLoaded',G);};this.Na=function(G){aO.removeHandler('marksLoaded',G);};this.aqr=function(G){aO.addHandler('marksSaved',G);};this.atJ=function(G){aO.removeHandler('marksSaved',G);};this.DV=function(G){aO.addHandler('markSelectionChanged',G);};this.CW=function(G){aO.removeHandler('markSelectionChanged',G);};this.Fn=function(G){aO.addHandler('markTextSelectionChanged',G);};this.Jf=function(G){aO.removeHandler('markTextSelectionChanged',G);};this.yS=function(G){aO.addHandler('commentAdded',G);};this.Dv=function(G){aO.removeHandler('commentAdded',G);};this.ym=function(G){aO.addHandler('commentRemoved',G);};this.CO=function(G){aO.removeHandler('commentRemoved',G);};this.tO=function(G){aO.addHandler('commentChanged',G);};this.wx=function(G){aO.removeHandler('commentChanged',G);};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};this.aM=function(dQ){var G=aO.getHandler("propertyChanged");if(G){G(this,new IPCC.qV(dQ));}};return this;};IPCC.Web.UI.ArtPage.prototype={get_markCount:function(){return this.abM();},get_selectedMarks:function(){return this.Ak();},toString:function(){return 'ArtPage with '+this.get_markCount()+' marks';},addMark:function(mark,mouseLocation){this.Nr(mark,mouseLocation);},forEachMark:function(method,context){this.FJ(method,context);},getMark:function(zIndex){return this.My(zIndex);},getZIndexOfMark:function(mark){return this.ov(mark);},loadFromJson:function(json){this.aui(json);},removeAllMarks:function(){this.YP();},removeMark:function(mark){this.wf(mark);},reorderMark:function(mark,zIndex){this.ady(mark,zIndex);},saveToJson:function(){return this.awh();},add_markAdded:function(handler){this.yD(handler);},remove_markAdded:function(handler){this.yp(handler);},add_markChanged:function(handler){this.DQ(handler);},remove_markChanged:function(handler){this.Eh(handler);},add_markRemoved:function(handler){this.ye(handler);},remove_markRemoved:function(handler){this.yn(handler);},add_markReordered:function(handler){this.Dc(handler);},remove_markReordered:function(handler){this.Dk(handler);},add_marksLoaded:function(handler){this.Sj(handler);},remove_marksLoaded:function(handler){this.Na(handler);},add_markSelectionChanged:function(handler){this.DV(handler);},remove_markSelectionChanged:function(handler){this.CW(handler);},add_markTextSelectionChanged:function(handler){this.Fn(handler);},remove_markTextSelectionChanged:function(handler){this.Jf(handler);},add_commentAdded:function(handler){this.yS(handler);},remove_commentAdded:function(handler){this.Dv(handler);},add_commentRemoved:function(handler){this.ym(handler);},remove_commentRemoved:function(handler){this.CO(handler);},add_commentChanged:function(handler){this.tO(handler);},remove_commentChanged:function(handler){this.wx(handler);}};IPCC.Web.UI.ArtPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ArtPage.registerClass('IPCC.Web.UI.ArtPage');IPCC.Web.UI.auX=function(){this.hG=undefined;this.cd=[];this.bd={};};IPCC.Ht=function(){};IPCC.Ht.prototype.mx=function(T){this.T=T;this.aB=T.bV();this.jh=this.aB.get_cursor();this.aB.set_cursor(IPCC.bi.RunMarks);this.aB.FL(IPCC.bi.Link);};IPCC.Ht.prototype.fe=function(){this.aB.set_cursor(this.jh);this.aB.FL(IPCC.bi.Default);this.T=false;};IPCC.Ht.prototype.bC=function(){};IPCC.pa=function(){this.aV=false;this.T=false;};IPCC.pa.prototype.mx=function(T){this.T=T;this.T.acS(true);this.aB=T.bV();this.jh=this.aB.get_cursor();this.aB.set_cursor(IPCC.bi.EditMarks);this.aB.FL(IPCC.bi.Move);};IPCC.pa.prototype.fe=function(){this.aB.set_cursor(this.jh);this.aB.FL(IPCC.bi.Default);if(arguments[0]){if(arguments[0]===true){this.T=false;return;}}this.T.acS(false);this.T=false;};IPCC.pa.prototype.bC=function(){if(this.aV){this.aB.set_cursor(IPCC.bi.EditMarks);this.aB.FL(IPCC.bi.Move);this.T.CD(true);this.aB.og();this.aV=false;this.T.dF();}};IPCC.pa.prototype.xb=function(R){this.bC();var J=R.mark;if(J&&J.lo()===IPCC.Web.UI.MarkType.Text){this.T.xM(J);this.T.dF();}};IPCC.pa.prototype.kH=function(R){this.bC();var iF=R.domEvent;if(iF.button===0){var dA=iF.target;this.dB=dA.ImGearMarkHandle;if(this.dB){this.vZ=this.dB.aE;this.nL=this.dB.bh;}else{this.vZ=null;this.nL=null;}while(!(dA.ImGearMarkRelation)&&dA.parentNode&&dA!==document.body){dA=dA.parentNode;}this.K=dA.ImGearMarkRelation;if(this.K){this.J=this.K.J;}else{this.J=null;}this.aV=true;this.Rk=R.imagePoint;this.GH=R.imagePoint;var J=this.J;if(!J||J.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(!iF.shiftKey){this.T.ft().Ak().removeAllMarks();}this.aB.FK(R.imagePoint);}else{var gH,V;switch(this.vZ){case IPCC.ah.aD.prototype.Tp:this.iZ=J.fF();this.WK=Math.abs(this.iZ.width);this.Kz=Math.abs(this.iZ.height);gH={x:this.iZ.x,y:this.iZ.y};this.QS={x:this.iZ.x+this.iZ.width,y:this.iZ.y+this.iZ.height};if(this.nL>0&&this.nL<3){gH.x+=this.iZ.width;this.QS.x-=this.iZ.width;}if(this.nL>1){gH.y+=this.iZ.height;this.QS.y-=this.iZ.height;}this.aEI=gH;break;case IPCC.ah.aD.prototype.Uc:V=J.fF();this.iZ=V;gH={x:V.x+V.width/2,y:V.y+V.height/2};switch(this.nL){case 0:this.Bj=V.y+V.height;gH.y=V.y;break;case 1:this.Bj=V.x;gH.x=V.x+V.width;break;case 2:this.Bj=V.y;gH.y=V.y+V.height;break;case 3:this.Bj=V.x+V.width;gH.x=V.x;break;}break;case IPCC.ah.aD.prototype.Ga:this.bv=J.qc();if(this.nL<0||this.nL>this.bv.fb()){this.bC();}gH=this.bv.getPoint(this.nL);break;case IPCC.ah.aD.prototype.Kh:break;case IPCC.ah.aD.prototype.Te:V=J.fF();gH={x:V.x+J.nz.x,y:V.y+J.nz.y};break;default:var yX=J.get_selected();if(iF.ctrlKey||iF.shiftKey){yX= !yX;J.set_selected(yX);}else{if(!yX){yX=true;this.T.ft().Ak().removeAllMarks();if(J.get_type()===IPCC.Web.UI.MarkType.Highlight){for(var F=0;F<this.T.ft().get_markCount();F++){var SS=this.T.ft().getMark(F);if(SS.lo()===608&&SS.cI===J.cI){SS.set_selected(yX);}}}else{J.set_selected(yX);}}}if(!yX){this.bC();}break;}if(this.aV&&gH){this.aoe=gH.x-this.Rk.x;this.aoX=gH.y-this.Rk.y;if(this.dB){this.aB.set_cursor(this.dB.ab);this.aB.FL(this.dB.ab);}}}if(this.aV){this.T.CD(false);}}this.T.dF();};IPCC.pa.prototype.kT=function(R){var iF=R.domEvent;var GH;function avd(aDH){aDH.Mu(R.imagePoint.x-GH.x,R.imagePoint.y-GH.y);};if(iF.button!==0){this.bC();}if(this.aV){var J=this.J;if(!J||J.get_interactionMode()===IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){this.aB.Bg(R.imagePoint);}else{var gH={x:R.imagePoint.x+this.aoe,y:R.imagePoint.y+this.aoX};var V;switch(this.vZ){case IPCC.ah.aD.prototype.Tp:var pM={x:gH.x,y:gH.y};var mK={x:this.QS.x,y:this.QS.y};if(iF.ctrlKey){mK.x=this.iZ.x+this.iZ.width/2;mK.y=this.iZ.y+this.iZ.height/2;}if(iF.shiftKey){var tZ=Math.abs(pM.x-mK.x);var tE=Math.abs(pM.y-mK.y);if(tZ*this.Kz<tE*this.WK){if(this.Kz>0.001){tZ=tE*this.WK/this.Kz;}}else{if(this.Kz>0.001){tE=tZ*this.Kz/this.WK;}}if(pM.x<mK.x){tZ= -tZ;}if(pM.y<mK.y){tE= -tE;}pM.x=mK.x+tZ;pM.y=mK.y+tE;}if(iF.ctrlKey){mK={x:mK.x-(pM.x-mK.x),y:mK.y-(pM.y-mK.y)};}V={};V.x=Math.min(mK.x,pM.x);V.width=Math.max(mK.x,pM.x)-V.x;V.y=Math.min(mK.y,pM.y);V.height=Math.max(mK.y,pM.y)-V.y;J.set_rectangle(V);break;case IPCC.ah.aD.prototype.Uc:V=J.fF();var FH;if(this.nL&1){if(iF.ctrlKey){FH=this.iZ.x+this.iZ.width/2;V.width=Math.abs(gH.x-FH)*2;V.x=FH-V.width/2;}else{V.x=Math.min(gH.x,this.Bj);V.width=Math.max(gH.x,this.Bj)-V.x;}}else{if(iF.ctrlKey){FH=this.iZ.y+this.iZ.height/2;V.height=Math.abs(gH.y-FH)*2;V.y=FH-V.height/2;}else{V.y=Math.min(gH.y,this.Bj);V.height=Math.max(gH.y,this.Bj)-V.y;}}J.set_rectangle(V);break;case IPCC.ah.aD.prototype.Ga:this.bv=J.qc();gH=this.bv.setPoint(this.nL,gH);break;case IPCC.ah.aD.prototype.Kh:break;case IPCC.ah.aD.prototype.Te:V=J.fF();J.set_calloutPoint({x:gH.x-V.x,y:gH.y-V.y});break;default:GH=this.GH;this.GH=R.imagePoint;this.T.ft().Ak().nl(avd);break;}}this.T.dF();}};IPCC.pa.prototype.hK=function(){function apE(J){var Jd=J.aha();if(adY.contains(Jd)&&adY.contains({x:Jd.x+Jd.width,y:Jd.y+Jd.height})){J.set_selected(true);}};if(this.aV){if(!this.J){var adY=this.aB.xv();this.T.ft().FJ(apE);this.aB.og();}this.bC();}};IPCC.pa.prototype.oT=function(R){var bJ=this.T.fq();if(R.windowPoint.x<=0||R.windowPoint.x>=bJ.width-2){this.bC();}if(R.windowPoint.y<=0||R.windowPoint.y>=bJ.height-2){this.bC();}};IPCC.pa.prototype.mw=function(){this.bC();};IPCC.Web.UI.Comment=function(text){var aO=new IPCC.Web.UI.gv();var cj=new IPCC.Web.UI.Data();this.ZQ=IPCC.bb.An(new Date());this.al=text;this.azv=function(al){if(al===this.al){return;}this.al=al;var R=new IPCC.Web.UI.CommentEventArgs();R.comment=this;R.length=1;this.bo('commentChanged',R);};this.aDV=function(){return this.al;};this.aAY=function(awB){this.ZQ=awB;};this.aCQ=function(){return this.ZQ;};this.tO=function(G){aO.addHandler('commentChanged',G);};this.wx=function(G){aO.removeHandler('commentChanged',G);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};this.za=function(){return cj;};return this;};IPCC.Web.UI.Comment.prototype={toString:function(){return 'Comment('+this.creationTime+', '+this.text+')';},add_commentChanged:function(handler){this.tO(handler);},remove_commentChanged:function(handler){this.wx(handler);},get_text:function(){return this.aDV();},set_text:function(text){this.azv(text);},get_creationTime:function(){return this.aCQ();},set_creationTime:function(isoTimeString){this.aAY(isoTimeString);},get_data:function(){return this.za();}};IPCC.Web.UI.Comment.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Comment.registerClass('IPCC.Web.UI.Comment');IPCC.Web.UI.Conversation=function(ars){var hI=[];var aO=new IPCC.Web.UI.gv();var cj=new IPCC.Web.UI.Data();var J=ars;var C=this;function MO(bz,R){C.bo('commentChanged',R);};this.Lz=function(cr){cr.add_commentChanged(MO);hI.push(cr);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=cr;R.length=1;R.index=hI.length-1;this.bo('commentAdded',R);};this.att=function(cr){var Vq= -1;IPCC.bb.forEach(hI,function(el,idx){if(el===cr){Vq=idx;}});if(Vq=== -1){throw new IPCC.Web.UI.ImGearArgumentException('comment',"The provided comment was not found in the conversation.");}var acM=hI.splice(Vq,1)[0];acM.wx(MO);var R=new IPCC.Web.UI.CommentEventArgs();R.comment=acM;R.length=1;this.bo('commentRemoved',R);};this.nl=function(od,cC){var F;for(F=0;F<hI.length;F++){od.call(cC,hI[F],F,this);}};this.fb=function(){return hI.length;};this.yS=function(G){aO.addHandler('commentAdded',G);};this.Dv=function(G){aO.removeHandler('commentAdded',G);};this.tO=function(G){aO.addHandler('commentChanged',G);};this.wx=function(G){aO.removeHandler('commentChanged',G);};this.ym=function(G){aO.addHandler('commentRemoved',G);};this.CO=function(G){aO.removeHandler('commentRemoved',G);};this.za=function(){return cj;};this.RM=function(){return J;};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(this,R);}};return this;};IPCC.Web.UI.Conversation.prototype={toString:function(){return 'Conversation with '+this.get_length()+' comments';},addComment:function(comment){this.Lz(comment);},removeCommentInstance:function(comment){this.att(comment);},forEach:function(method,context){this.nl(method,context);},get_length:function(){return this.fb();},add_commentAdded:function(handler){this.yS(handler);},remove_commentAdded:function(handler){this.Dv(handler);},add_commentChanged:function(handler){this.tO(handler);},remove_commentChanged:function(handler){this.wx(handler);},add_commentRemoved:function(handler){this.ym(handler);},remove_commentRemoved:function(handler){this.CO(handler);},get_data:function(){return this.za();},get_mark:function(){return this.RM();}};IPCC.Web.UI.Conversation.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Conversation.registerClass('IPCC.Web.UI.Conversation');IPCC.Web.UI.Data=function(){this.cj={};this.za=function(key){if(typeof key==='undefined'){return IPCC.bb.extend({},this.cj);}else if(typeof key==='string'){return this.cj[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}};this.aAW=function(key,value){if(typeof key!=='string'){throw new IPCC.Web.UI.ImGearArgumentException("key","The argument must be a string.");}if(typeof value==='string'){this.cj[key]=value;}else if(typeof value==='undefined'){delete this.cj[key];}else{throw new IPCC.Web.UI.ImGearArgumentException("value","The argument must be a string.");}return this;};this.azq=function(){var keys=[];IPCC.bb.forEach(this.cj,function(value,key){keys.push(key);});return keys;};return this;};IPCC.Web.UI.Data.prototype={toString:function(){return 'Data('+this.creationTime+', '+this.text+')';},get_data:function(key){return this.za(key);},set_data:function(key,value){return this.aAW(key,value);},get_dataKeys:function(){return this.azq();}};IPCC.Web.UI.Data.registerClass=IPCC.Web.regClass;IPCC.Web.UI.Data.registerClass('IPCC.Web.UI.Data');IPCC.ah={};IPCC.EW=function(T){var bA=this;this.alb='filter';this.akR=function(db){return 'progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(db*100)+');';};this.Zy=true;this.WG=function(aL,cE,mg,bu,pk,pl){if(aL.Jq){aL.qB.act(cE,mg,bu,aL.ln);}};this.ail=function(){};this.ahx(T);this.aiD=function(az){return new IPCC.FD(az.clientWidth,az.clientHeight,window.screen.deviceXDPI,window.screen.deviceYDPI);};this.Ue=function(an){bA.kH(an);};this.alq=function(an){bA.xb(an);};this.Ty=function(an){bA.kT(an);};this.En=function(an){bA.mw(an);};this.SR=function(an){bA.hK(an);};this.Xq=function(an){an.returnValue=false;bA.kH(an);};this.Xy=function(an){an.returnValue=false;bA.kT(an);};this.XC=function(an){an.returnValue=false;bA.hK(an);};this.VA=function(an){bA.Rx(an);};this.UG=function(an){if(an.target!==document.activeElement){bA.akX(an);}};this.TQ=function(an){if(an.target!==document.activeElement){bA.alj(an);}};this.aeV=function(){var eH=T.lz().igElements.lK;IPCC.Web.UI.aJ.addHandler(eH,"mousewheel",this.En);IPCC.Web.UI.aJ.addHandler(eH,"dblclick",this.alq);};this.afW=function(){var eH=T.lz().igElements.lK;IPCC.Web.UI.aJ.removeHandler(eH,"mousewheel",this.En);IPCC.Web.UI.aJ.removeHandler(eH,"dblclick",this.alq);};this.ajB=function(aL,gP,pg,yq){var F,bD,az;for(F=0;F<pg.fw.length;F++){bD=pg.fw[F];az=document.createElement('div');bD.pool.parentElementID=yq+F.toString();az.id=bD.pool.parentElementID;az.style.width='0px';az.style.height='0px';az.setAttribute('tabindex','-1');gP.appendChild(az);}};this.aeW=function(eN){var OD=this.Vs();var Ez=eN.pool;var gP=document.getElementById(Ez.parentElementID);var az;az=document.createElement('img');az.id=OD;if(T.bV().get_presentationQuality()>49){az.style.msInterpolationMode='bicubic';}else{az.style.msInterpolationMode='nearest-neighbor';}az.style.position='absolute';az.style.display='none';az.setAttribute('tabindex','-1');az.setAttribute('hidefocus','true');gP.appendChild(az);eN.elementID=OD;az.poolItem=eN;};this.aeS=function(eN){var az=document.getElementById(eN.elementID);this.pA(az.style,'display','none');};this.UJ=function(eN){var az=document.getElementById(eN.elementID);if(az===null){eN.elementID='';return;}az.src='';az.parentElement.removeChild(az);eN.elementID='';};var Fy=function(an){try{IPCC.Web.UI.aJ.removeHandler(an.target,'load',Fy);an.target.onabort=null;an.target.onerror=null;var eN=an.target.poolItem;eN.loaded=true;bA.zq();}catch(ex){T.O('downloadImage',ex);var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}};var axP=function(){try{var an=window.event;IPCC.Web.UI.aJ.removeHandler(an.srcElement,'load',Fy);an.srcElement.onabort=null;an.srcElement.onerror=null;var eN=an.srcElement.poolItem;eN.loaded=false;var cR='An image download was aborted by the user';if(typeof(T.lz)==='function'){cR+='Div Id = '+T.lz().id;}throw new IPCC.Web.UI.ImGearException(cR,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){T.O('downloadImage',ex);var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}};var axB=function(){try{var an=window.event;IPCC.Web.UI.aJ.removeHandler(an.srcElement,'load',Fy);an.srcElement.onabort=null;an.srcElement.onerror=null;var eN=an.srcElement.poolItem;eN.loaded=false;var cR='An image failed to load. Error status ';if(typeof(T.lz)==='function'){cR+='Div Id = '+T.lz().id;}throw new IPCC.Web.UI.ImGearException(cR,{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){T.O('downloadImage',ex);var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}};this.Tu=function(az,dc,sN){var hQ=true;var kq=0;if(T.hL()===0){hQ=false;}var aN=new XMLHttpRequest(),iC,jN=false;if(T.Pj()&&T.eD()===true){var gT=IPCC.Web.ot.Qo(4);var me=IPCC.Web.fR.EH.mW(gT);var ZX=dc+'&iv='+me;aN.open('GET',ZX,true);aN.responseType='text';}else{aN.open('GET',dc,true);aN.responseType='text';}function lN(){var dI;try{var da,aU,dP,lh;var kx;var iK=da;if(aN.readyState===4){da=aN.status;if(aN.status===200){aU=null;try{if(hQ===true){if(iC){clearTimeout(iC);}}var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'){var rR=IPCC.Web.fR.oE.rK(aN.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,gT);var dw=IPCC.Web.Fk(aN);var sM=IPCC.Web.Ba(dw,aI,gT);var To=IPCC.Web.fR.oE.mW(sM,0,0);az.setAttribute('src','data:'+sN+';base64,'+To);}else{az.setAttribute('src',dc);}}catch(ex){dP="Image error, Error message = "+ex.message;dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);throw new IPCC.Web.UI.ImGearArgumentException(null,dP);}}else if((da<200)||(da>=300)){if(hQ===true){if(iC){clearTimeout(iC);}}iK=aN.status;if(da===403){kq++;if(aN.statusText&&aN.statusText!==""){dP="Expired viewer session ID, error message from the server: "+aN.statusText;}else{dP="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}lh=aN.getResponseHeader('Accusoft-Status-Message');if(lh){var op;kx=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(kx)){op=parseInt(kx,10);}throw new IPCC.Web.UI.ImGearHttpException(iK,lh,op);}else if(jN){throw new IPCC.Web.UI.ImGearHttpException(iK,"Client Image load timeout");}else{if(aN.statusText&&aN.statusText!==""){dP=aN.statusText;}else{dP="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iK,dP);}}}}catch(e){T.O('openPage',e);if(typeof(T.bo)==='function'){dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};aN.onreadystatechange=lN;if(hQ===true){iC=setTimeout(function(){jN=true;aN.abort();},T.hL());}aN.send();};this.afO=function(kA){var F;for(F=0;F<kA.length;F++){var az=document.getElementById(kA[F].poolItem.elementID);az.style.visibility='hidden';IPCC.Web.UI.aJ.addHandler(az,'load',Fy);az.onabort=axP;az.onerror=axB;if(T.Pj()&&T.eD()===true){this.Tu(az,kA[F].url,'image/png');}else{az.setAttribute('src',kA[F].url);}}};this.YG=function(hl,aAq,Xb,vS){var mq=document.getElementById(hl.poolItem.elementID);if(Xb){this.pA(mq,'width',Math.round(vS.height));this.pA(mq,'height',Math.round(vS.width));}else{this.pA(mq,'width',Math.round(vS.width));this.pA(mq,'height',Math.round(vS.height));}this.pA(mq.style,'left',vS.x.toString());this.pA(mq.style,'top',vS.y.toString());this.pA(mq.style,'filter',aAq);this.pA(mq.style,'visibility','visible');this.pA(mq.style,'display','block');};this.Yx=function(kA,db,cE){var F;if(kA.length<1){return;}var DZ='';if(db<1){DZ='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(db*100).toString()+')';}var fn=cE.clone();var Cd=1/kA[0].level.bj;var FQ=IPCC.fK(Cd,0,0,Cd,0,0);fn.zD(FQ);var nN=fn.IV();if(nN){FQ=new IPCC.fK(-1,0,0,1,0,0);fn.append(FQ);}var sC=Math.round(fn.CU()/90);FQ=new IPCC.fK(1,0,0,1,0,0);FQ.rotate(sC*90);fn.zD(FQ);var acV='';if(nN||sC!==0){acV+='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(nN?'1':'0')+', rotation='+sC.toString()+')';}var Xb=(sC===1||sC===3);var jw,Ec,vS;for(F=0;F<kA.length;F++){jw=kA[F];Cd=1/jw.level.bj;Ec={x:jw.x*Cd,y:jw.y*Cd};Ec.width=jw.right*Cd-Ec.x;Ec.height=jw.bottom*Cd-Ec.y;vS=cE.uK(Ec);this.YG(kA[F],DZ+acV,Xb,vS);}};};IPCC.EW.prototype=new IPCC.aD();IPCC.ah.EW=function(){};IPCC.ah.EW.prototype={ajF:function(T,aL,bu){this.T=T;this.aB=T.bV();this.aL=aL;this.eO=bu.width;this.ck=bu.height;this.Bv=bu.fQ;this.ato=bu.hE;if(!document.namespaces.igvml){document.namespaces.add('igvml','urn:schemas-microsoft-com:vml');var style=document.createStyleSheet();style.addRule('igvml\\:group','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:oval','behavior: url(#default#VML); display:inline-block;position:absolute;');style.addRule('igvml\\:rect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:polyline','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:shape','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:skew','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:stroke','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:fill','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textpath','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:roundrect','behavior: url(#default#VML); display:inline-block;');style.addRule('igvml\\:textbox','behavior: url(#default#VML); display:inline-block;');}aL.qz=document.createElement('div');aL.Uh.insertBefore(aL.qz,aL.yd);},HF:function(K){var ec='vmltextmark-'+K.J.iL();var mn=document.createElement('div');mn.style.position='absolute';mn.style.top=mn.style.left='0';mn.style.width=mn.style.height='100%';mn.style.background='blue';mn.style['filter']="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";mn.setAttribute('data-pcc-mark',ec);return mn;},ahY:function(K){K.nY=[];K.lq=[];var ec='vmlmark-'+K.J.iL(),C=this,ts,mr,jm,fA,Ph;switch(K.J.get_type()){case IPCC.Web.UI.MarkType.Rectangle:K.be=this.by('rect');K.sm=this.by('fill');K.be.appendChild(K.sm);if(K.J.hO()&&K.J.get_opacity()===255){IPCC.Web.UI.aJ.addHandler(K.be,"mouseover",function(){K.be.style.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(127/2.55)+')';});IPCC.Web.UI.aJ.addHandler(K.be,"mouseout",function(){K.be.style.filter='';});}break;case IPCC.Web.UI.MarkType.HighlightText:ec="highlighttextannotation-"+K.J.iL();K.be=this.by('group');K.be.setAttribute('data-pcc-mark',ec);this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});K.hj=this.by('group');K.be.appendChild(K.hj);this.dW(K.hj,{width:this.eO*100+'px',height:this.ck*100+'px'});K.ny=this.by('shape');K.nY.push(K.ny);K.vG=this.by('stroke');this.bO(K.vG,{on:'true'});K.ny.appendChild(K.vG);K.vG.imgearUnstyled=true;K.be.appendChild(K.ny);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ec="texthyperlinkannotation-"+K.J.iL();K.be=this.by('group');K.be.setAttribute('data-pcc-mark',ec);this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});K.hj=this.by('group');K.be.appendChild(K.hj);this.dW(K.hj,{width:this.eO*100+'px',height:this.ck*100+'px'});K.ny=this.by('shape');K.nY.push(K.ny);this.dW(K.ny,{cursor:IPCC.bi.eU(IPCC.bi.Link)});K.vG=this.by('stroke');this.bO(K.vG,{on:'true'});K.ny.appendChild(K.vG);K.vG.imgearUnstyled=true;K.be.appendChild(K.ny);K.vC=this.by('shape');K.nY.push(K.vC);this.dW(K.vC,{cursor:IPCC.bi.eU(IPCC.bi.Link)});K.GU=this.by('stroke');K.lq.push(K.GU);this.bO(K.GU,{on:'true'});K.vC.appendChild(K.GU);K.GU.imgearUnstyled=true;K.be.appendChild(K.vC);IPCC.Web.UI.aJ.addHandler(K.be,"mouseover",function(){K.vC.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ah.aD.xR(true,K.J.get_selected())*100+")";});IPCC.Web.UI.aJ.addHandler(K.be,"mouseout",function(){K.vC.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ah.aD.xR(false,K.J.get_selected())*100+")";});break;case IPCC.Web.UI.MarkType.DocumentHyperlink:ec="documenthyperlink-"+K.J.iL();K.be=this.by('group');K.be.setAttribute('data-pcc-mark',ec);K.V=this.by('roundrect');K.Tz=this.by('fill');K.tn=this.by('stroke');K.V.appendChild(K.Tz);K.V.appendChild(K.tn);K.be.appendChild(K.V);this.dW(K.V,{cursor:IPCC.bi.eU(IPCC.bi.Link)});if(K.J.zL==='Underline'&&K.J.gz>0){K.mj=this.by('rect');K.abT=this.by('stroke');K.WX=this.by('fill');K.mj.appendChild(K.abT);K.mj.appendChild(K.WX);K.be.appendChild(K.mj);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K.be=this.by('shape');K.gU=document.createElement('img');K.gU.setAttribute('data-pcc-mark',ec);K.gU.setAttribute("src",K.J.get_image());K.gU.setAttribute("class",'pcc-image-stamp-img');K.gU.removeAttribute('height');K.gU.removeAttribute('width');var mn=this.HF(K);mn.setAttribute('data-pcc-mark',ec);K.be.appendChild(K.gU);K.be.appendChild(mn);break;case IPCC.Web.UI.MarkType.RectangleRedaction:K.be=this.by('group');this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});K.fT=this.by('rect');K.be.appendChild(K.fT);K.mk=this.by('shape');K.st=document.createTextNode('');K.MZ=document.createElement('div');K.MZ.setAttribute('class','pcc-valign-mid');K.uw=document.createElement('div');K.uw.setAttribute('class','pcc-cell-content');K.uw.style.height='1px';K.uw.style.width='1px';K.cv=document.createElement('div');K.cv.style.position='absolute';K.cv.style.overflow='hidden';K.cv.style.display='table';if(document.documentMode>=8){K.cv.style.whiteSpace='pre-wrap';}K.uw.appendChild(K.st);K.cv.appendChild(K.MZ);K.MZ.appendChild(K.uw);K.sm=K.mk;ec='vmltextmark-'+K.J.iL();K.mk.setAttribute('data-pcc-mark',ec);K.cv.setAttribute('data-pcc-mark',ec);K.MZ.setAttribute('data-pcc-mark',ec);K.uw.setAttribute('data-pcc-mark',ec);IPCC.Web.UI.aJ.addHandler(K.cv,"mouseover",function(){if(C.T.kE()===false){K.cv.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";K.cv.style.color='#000000';}});IPCC.Web.UI.aJ.addHandler(K.cv,"mouseout",function(){if(C.T.kE()===false){K.cv.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";K.cv.style.color='#ffffff';}});break;case IPCC.Web.UI.MarkType.Ellipse:K.be=this.by('oval');K.sm=this.by('fill');K.be.appendChild(K.sm);break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:K.be=this.by('group');this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});K.be.setAttribute('data-pcc-mark',ec);K.iM=this.by('shape');this.bO(K.iM,{filled:'f'});K.nY.push(K.iM);K.Ct=this.by('stroke');K.lq.push(K.Ct);this.bO(K.Ct,{on:'true'});K.iM.appendChild(K.Ct);K.wI=this.by('shape');K.nY.push(K.wI);K.Kd=this.by('stroke');K.lq.push(K.Kd);this.bO(K.Kd,{on:'true'});K.wI.appendChild(K.Kd);K.Kd.imgearUnstyled=true;K.vr=this.by('shape');K.nY.push(K.vr);K.HT=this.by('stroke');K.lq.push(K.HT);this.bO(K.HT,{on:'true'});K.vr.appendChild(K.HT);K.HT.imgearUnstyled=true;K.be.appendChild(K.iM);K.be.appendChild(K.wI);K.be.appendChild(K.vr);break;case IPCC.Web.UI.MarkType.Polygon:K.be=this.by('shape');K.nY.push(K.be);break;case IPCC.Web.UI.MarkType.Text:K.be=this.by('group');this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});K.mk=this.by('shape');K.nY.push(K.mk);K.JO=this.by('stroke');K.lq.push(K.JO);K.mk.appendChild(K.JO);K.be.appendChild(K.mk);K.JO.imgearUnstyled=true;K.sm=this.by('fill');K.mk.appendChild(K.sm);K.iM=this.by('shape');this.bO(K.iM,{filled:'f'});K.nY.push(K.iM);K.Ct=this.by('stroke');K.lq.push(K.Ct);this.bO(K.Ct,{on:'true'});K.iM.appendChild(K.Ct);K.be.appendChild(K.iM);K.qe=this.by('shape');this.bO(K.qe,{filled:'f'});K.nY.push(K.qe);K.yV=this.by('stroke');K.lq.push(K.yV);this.bO(K.yV,{on:'true'});K.qe.appendChild(K.yV);K.be.appendChild(K.qe);K.yV.imgearUnstyled=true;K.st=document.createTextNode('');K.cv=document.createElement('div');K.cv.style.position='absolute';K.cv.style.overflow='hidden';if(document.documentMode>=8){K.cv.style.whiteSpace='pre-wrap';}K.cv.appendChild(K.st);ec='vmltextmark-'+K.J.iL();K.mk.setAttribute('data-pcc-mark',ec);K.JO.setAttribute('data-pcc-mark',ec);K.iM.setAttribute('data-pcc-mark',ec);K.qe.setAttribute('data-pcc-mark',ec);K.yV.setAttribute('data-pcc-mark',ec);K.cv.setAttribute('data-pcc-mark',ec);break;case IPCC.Web.UI.MarkType.Highlight:K.be=this.by('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K.be=this.by('group');K.hj=K.be;this.dW(K.be,{width:this.eO*100+'px',height:this.ck*100+'px'});break;case IPCC.Web.UI.MarkType.Stamp:K.be=this.by('roundrect');K.uf=document.createTextNode('');K.fd=document.createElement('div');jm=K.J.al;K.J.yN=false;K.J.hF=K.J.cW;fA={};fA.color=K.J.cW;fA.fontFamily="Arial";this.dW(K.fd,fA);if(!jm){jm=K.J.cd[0];K.J.al=jm;if(!jm){jm="APPROVED";}}mn=this.HF(K);mn.setAttribute('data-pcc-mark',ec);K.uf.data=jm;K.fd.appendChild(K.uf);K.be.appendChild(K.fd);K.be.appendChild(mn);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var J=K.J;var uJ=J.get_pathWidth();var tz=J.get_pathHeight();var rS=J.get_pathString();var dR=IPCC.bb.xS.Path(rS,{width:uJ,height:tz,multiplier:100,thickness:(J.IO>0)?J.IO:J.get_lineWidth(),color:J.get_lineColor()});K.be=dR;var awO=this.HF(K);K.be.appendChild(awO);break;case IPCC.Web.UI.MarkType.SignatureText:K.be=this.by('rect');K.uf=document.createTextNode('');K.fd=document.createElement('div');K.fd.setAttribute('data-pcc-mark',ec);ts=K.J.al;K.J.yN=false;K.J.hF="none";K.J.db=255;mr={};mr.color=K.J.cW;mr.fontFamily=K.J.get_fontName();mr.textAlign="center";this.dW(K.fd,mr);if(mr.fontFamily){K.fd.style.fontFamily='"'+mr.fontFamily+'", cursive';}if(!ts){ts=K.J.cd[0];K.J.al=ts;}Ph=this.HF(K);K.uf.data=ts;K.fd.appendChild(K.uf);K.be.appendChild(K.fd);K.be.appendChild(Ph);break;case IPCC.Web.UI.MarkType.TextLine:K.be=this.by('rect');K.uf=document.createTextNode('');K.fd=document.createElement('div');K.fd.setAttribute('data-pcc-mark',ec);ts=K.J.al;mr={};mr.color=K.J.cW;mr.fontFamily=K.J.get_fontName();mr.whiteSpace="pre";mr.textAlign="left";this.dW(K.fd,mr);if(mr.fontFamily){K.fd.style.fontFamily='"'+mr.fontFamily+'", cursive';}if(!ts){ts=K.J.cd[0];K.J.al=ts;}Ph=this.HF(K);K.uf.data=ts;K.fd.appendChild(K.uf);K.be.appendChild(K.fd);K.be.appendChild(Ph);break;}if(!K.sm&&K.be){K.sm=K.be;}if(K.be&&K.be.tagName!=='group'){K.Gw=this.by('stroke');K.lq.push(K.Gw);this.bO(K.Gw,{on:'true'});K.be.appendChild(K.Gw);}var ba;for(ba=0;ba<K.nY.length;ba++){this.bO(K.nY[ba],{coordorigin:'0,0',coordsize:this.eO*100+','+this.ck*100});this.dW(K.nY[ba],{width:this.eO*100+'px',height:this.ck*100+'px'});}for(ba=0;ba<K.lq.length;ba++){this.bO(K.lq[ba],{joinstyle:'miter'});}K.uC=this.by('group');this.Rw(K);this.dW(K.uC,{left:'0px',top:'0px',width:'300px',height:'300px',position:'absolute'});this.bO(K.uC,{coordorigin:'0,0',coordsize:this.eO*100+','+this.ck*100});K.uC.ImGearMarkRelation=K;K.uC.setAttribute('data-pcc-mark','vmlmark-'+K.J.iL());if(K.be){K.uC.appendChild(K.be);}this.aL.qz.appendChild(K.uC);if(K.cv){K.cv.ImGearMarkRelation=K;this.aL.qz.appendChild(K.cv);}},lJ:function(aAl,kl,mG){var dR=this.Vc(kl,mG);this.bO(aAl,{path:dR});},Vc:function(kl,mG){var dR='m';if(kl.length<1){dR='';}else{dR='m'+Math.round(kl[0].x*100)+','+Math.round(kl[0].y*100);var F;for(F=1;F<kl.length;F++){if(F>1){dR+=',';}else{dR+='l';}dR+=Math.round(kl[F].x*100)+','+Math.round(kl[F].y*100);}if(mG&&kl.length>2){dR+='x';}dR+='e';}return dR;},amR:function(lk,Dg){var dR='';IPCC.bb.forEach(lk,function(V){var oD=this.amt(V,Dg);dR=dR+this.Vc(oD,false)+", ";},this);return dR;},aoA:function(lk){var dR='';IPCC.bb.forEach(lk,function(V){var oD=this.ani(V);dR=dR+this.Vc(oD,true)+", ";},this);return dR;},ani:function(V){var oD=[];oD.push({x:V.x,y:V.y});oD.push({x:V.x+V.width,y:V.y});oD.push({x:V.x+V.width,y:V.y+V.height});oD.push({x:V.x,y:V.y+V.height});return oD;},amt:function(V,Dg){Dg=Dg||0;var oD=[];oD.push({x:V.x,y:V.y+V.height+Dg});oD.push({x:V.x+V.width,y:V.y+V.height+Dg});return oD;},GR:function(eQ,jq,vU,pL,sB,Dj,qd,avj){var di=this.ali(eQ,jq,vU,pL,sB);var aX={display:'block'},bd={fillcolor:Dj,filled:false},qh={color:Dj};switch(sB){case IPCC.Web.UI.LineHeadType.None:aX.display='none';break;case IPCC.Web.UI.LineHeadType.Pointer:this.lJ(qd,[di.tP,eQ,di.vg],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.lJ(qd,[di.tP,eQ,di.vg],true);bd.filled=true;break;case IPCC.Web.UI.LineHeadType.Open:this.lJ(qd,[di.tP,eQ,di.vg],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:bd.filled=true;this.lJ(qd,[di.tP,eQ,di.vg,di.Au],true);break;}if(sB!==IPCC.Web.UI.LineHeadType.None){this.dW(qd,aX);this.bO(qd,bd);this.bO(avj,qh);}return di;},XJ:function(K){var J=K.J;var fa,HH,Im,oH;fa=this.Kn(J);if(fa.length<2||J.mG){this.dW(K.wI,{display:'none'});this.dW(K.vr,{display:'none'});}else{J.tm=J.hF;oH=this.NJ(fa,true);HH=this.GR(oH.eQ,oH.jq,J.Gq,J.Fs,J.GE,J.tm,K.wI,K.Kd);oH=this.NJ(fa,false);Im=this.GR(oH.eQ,oH.jq,J.Fo,J.GG,J.mF,J.tm,K.vr,K.HT);fa[0]=HH.Au;fa[fa.length-1]=Im.Au;}this.lJ(K.iM,fa,J.mG);},Wt:function(K){var pH=this.ajY(K);this.lJ(K.mk,pH.SO,true);var LV={},EL={};var J=K.J;if(pH.MF||J.hF==='transparent'){EL.on=false;}else{EL.color=J.hF;EL.dashstyle=this.zB(J.hx);EL.on=true;EL.opacity=J.db/255;}if(pH.Mv){this.lJ(K.iM,pH.Mv,false);K.iM.style.visibility='visible';}else{K.iM.style.visibility='hidden';}if(pH.FG){this.lJ(K.qe,pH.FG,false);K.qe.style.visibility='visible';}else{K.qe.style.visibility='hidden';}if(J.zF){LV.color=J.EE;LV.dashstyle=this.zB(J.rY);K.yV.imgearCalloutSized=true;}else{LV.color=J.hF;LV.dashstyle=this.zB(J.hx);K.yV.imgearCalloutSized=false;}this.bO(K.yV,LV);this.bO(K.JO,EL);},aqL:function(K,cE,bj){var J=K.J;var V=J.fF();var gg=1;if(J.gC){gg+=J.gz/2;}V.width-=2*gg;V.height-=2*gg;V.x+=gg;V.y+=gg;V=cE.uK(V);var Zl=V.x,ZJ=V.y;var fn=new IPCC.fK(1,0,0,1,0,0);switch(J.yt){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:fn.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:fn.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:fn.rotate(180);fn.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:fn.scale(-1,1);fn.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:fn.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:fn.scale(-1,1);fn.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:fn.rotate(270);break;}fn.append(cE);var fA={};var ni;if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){ni=J.cS*bj;}else{ni=J.cS*this.Bv/72*bj;}fA.fontSize=Math.round(ni)+'px';var nN=fn.IV();var ci=fn.CU();if(nN){ci=(360-ci)%360;}var sC=Math.round(ci/90);var xZ='';if(nN||sC){xZ='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(nN?'1':'0')+', rotation='+sC.toString()+');';}if(J.tN<255){xZ+='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(J.tN/255*100)+');';}K.fd.style.filter=xZ;var eT;if((ci>45&&ci<135)||(ci>225&&ci<315)){eT=V.width;V.width=V.height;V.height=eT;}fA.left=Zl+'px';fA.top=ZJ+'px';fA.width=V.width+'px';fA.height=V.height+'px';K.fd.style.width=V.width+'px';K.fd.style.height=V.height+'px';K.fd.style.lineHeight=K.fd.style.height;K.fd.style.fontSize=Math.round(ni)+'px';},aqS:function(K,cE,bj){var J=K.J;var V=J.fF();var gg=1;if(J.gC){gg+=J.gz/2;}V.width-=2*gg;V.height-=2*gg;V.x+=gg;V.y+=gg;V=cE.uK(V);var Zl=V.x,ZJ=V.y;var fn=new IPCC.fK(1,0,0,1,0,0);switch(J.yt){case IPCC.Web.UI.Orientation.TopLeft:break;case IPCC.Web.UI.Orientation.TopRight:fn.scale(-1,1);break;case IPCC.Web.UI.Orientation.BottomRight:fn.rotate(180);break;case IPCC.Web.UI.Orientation.BottomLeft:fn.rotate(180);fn.scale(-1,1);break;case IPCC.Web.UI.Orientation.LeftTop:fn.scale(-1,1);fn.rotate(270);break;case IPCC.Web.UI.Orientation.RightTop:fn.rotate(90);break;case IPCC.Web.UI.Orientation.RightBottom:fn.scale(-1,1);fn.rotate(90);break;case IPCC.Web.UI.Orientation.LeftBottom:fn.rotate(270);break;}fn.append(cE);var fA={};var ni=J.cS*this.Bv/72*bj;J.ni=ni;fA.fontSize=Math.round(ni)+'px';var nN=fn.IV();var ci=fn.CU();if(nN){ci=(360-ci)%360;}var sC=Math.round(ci/90);var xZ='';if(nN||sC){xZ='progid:DXImageTransform.Microsoft.BasicImage(mirror='+(nN?'1':'0')+', rotation='+sC.toString()+');';}if(this.T.kE()===true){xZ+=" progid:DXImageTransform.Microsoft.Alpha(opacity=50)";K.cv.style.color='#000000';}else if(J.tN<255){xZ+=' progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(J.tN/255*100)+');';}K.cv.style.filter=xZ;var eT;if((ci>45&&ci<135)||(ci>225&&ci<315)){eT=V.width;V.width=V.height;V.height=eT;}fA.left=Zl+'px';fA.top=ZJ+'px';fA.width=V.width+'px';fA.height=V.height+'px';this.dW(K.cv,fA);if(K.uw!==undefined){K.uw.style.width=V.width+'px';}},Ho:function(K){var J=K.J;var ant={},fA={};fA.lineHeight=1;if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){fA.backgroundColor='#000000';}else{fA.backgroundColor='transparent';}fA.color=J.oR;fA.fontFamily=J.gn;if(J.ee&IPCC.Web.UI.FontStyle.Italic){fA.fontStyle='italic';}else{fA.fontStyle='';}if(J.ee&IPCC.Web.UI.FontStyle.Bold){fA.fontWeight='bold';}else{fA.fontWeight='';}if((J.ee&IPCC.Web.UI.FontStyle.Underline)&&(J.ee&IPCC.Web.UI.FontStyle.Strikeout)){fA.textDecoration='underline line-through';}else if(J.ee&IPCC.Web.UI.FontStyle.Underline){fA.textDecoration='underline';}else if(J.ee&IPCC.Web.UI.FontStyle.Strikeout){fA.textDecoration='line-through';}else{fA.textDecoration='';}switch(J.qO){case IPCC.Web.UI.HorizontalAlignment.Center:fA.textAlign='center';break;case IPCC.Web.UI.HorizontalAlignment.Right:fA.textAlign='right';break;default:fA.textAlign='left';break;}if(document.documentMode<8){var ayW=J.al.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/\n/g,'<br/>');K.cv.innerHTML=ayW;}else{this.adL(K);}this.bO(K.cv,ant);this.dW(K.cv,fA);if(K.J.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(J.cW==="#000000"){J.cW='#ffffff';}if(J.hO()===true){J.cW='white';}else{J.set_opacity(J.db);}}},Rw:function(K){var J=K.J,C=this;if(!J){return;}var be=K.be;var F,V,fa,aX={},bd={},ng={},qh={},gC=true,AW,uo,aiz,Sz,Py,GO,jm,Qz,pV,qt,yu,fA;var jl=false;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jl=true;this.XJ(K);break;case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.Highlight:V=J.get_rectangle();if(V.x===0&&V.y===0){var fr=this.T.dJ().ey();if(fr.fb()>0){var dV=fr.lf(J.ao);V=dV.bQ;}J.mC='y';}aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';break;case IPCC.Web.UI.MarkType.HighlightText:this.HZ(K);aX={display:(J.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(J.db/2.55)+")",color:J.cW};bd={fillcolor:J.cW,filled:true};qh={color:J.cW};this.dW(K.ny,aX);this.bO(K.ny,bd);this.bO(K.vG,qh);this.CG(K);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.HZ(K);aX={display:(J.get_visible())?'block':'none',filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ah.aD.Nu(false,K.J.get_selected())*100+")",color:"blue"};bd={fillcolor:"blue",filled:true};qh={color:"blue"};var apX={filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity="+IPCC.ah.aD.xR(false,K.J.get_selected())*100+")",weight:0};this.dW(K.ny,aX);this.bO(K.ny,bd);this.bO(K.vG,qh);this.dW(K.vC,apX);this.bO(K.GU,qh);this.CG(K);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:V=J.get_rectangle();aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';K.V.style.width='100%';K.V.style.height='100%';var afv=0;if(K.J.zL!=='Underline'&&(K.J.Fh>0||K.J.Gj>0)){afv=0.4;}K.V.setAttribute('arcsize',afv);if(K.mj){K.mj.style.width='100%';K.mj.style.top='100%';K.mj.style.height='10000px';K.mj.setAttribute('fill',true);K.mj.setAttribute('fillcolor',K.J.hF);K.abT.setAttribute('on',false);K.WX.setAttribute('type','solid');K.WX.setAttribute('opacity',K.J.nF/255);}K.Tz.setAttribute('type','solid');K.Tz.setAttribute('opacity',IPCC.ah.aD.Nu());if(K.J.zL==='Underline'||K.J.gz===0){K.tn.setAttribute('on',false);}else if(K.J.zL==='Dashed'){K.tn.setAttribute('dashstyle','dash');K.tn.setAttribute('color',K.J.hF);K.tn.setAttribute('weight',K.J.gz+'px');K.tn.setAttribute('opacity',K.J.nF/255);}else{K.tn.setAttribute('on',true);K.tn.setAttribute('color',K.J.hF);K.tn.setAttribute('weight',K.J.gz+'px');K.tn.setAttribute('opacity',K.J.nF/255);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:V=J.get_rectangle();aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';K.gU.src=K.J.aQ;var IS=K.be.getBoundingClientRect();var il=K.gU.getBoundingClientRect();if(il.bottom!==undefined&&IS.bottom!==undefined){var JM=IS.bottom-IS.top;var aot=IS.right-IS.left;var ck=il.bottom-il.top;var eO=il.right-il.left;K.gU.style['position']='relative';if(JM===ck&&aot===eO){K.gU.style['max-height']='100%';K.gU.style['height']='auto';K.gU.style['max-width']='100%';K.gU.style['width']='auto';K.gU.style['top']='0';}else if(JM<=ck){K.gU.style['max-height']='100%';K.gU.style['height']='100%';K.gU.style['max-width']='available';K.gU.style['width']='auto';K.gU.style['top']='0';}else{K.gU.style['max-height']='available';K.gU.style['height']='auto';K.gU.style['max-width']='100%';K.gU.style['width']='100%';K.gU.style['top']='';}if(JM>ck){var aty=100*((JM/2-ck/2)/JM);K.gU.style.top=aty+'%';}}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(C.T.kE()===true){K.cv.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";K.cv.style.color='#000000';}else{K.cv.style.filter="progid:DXImageTransform.Microsoft.Alpha(Opacity=100)";K.cv.style.color='#ffffff';}this.Ho(K);setTimeout(function(){AW=K.cv.cloneNode(true);AW.style.visibility='hidden';document.body.appendChild(AW);uo=AW.getElementsByTagName('div');aiz=uo[0];Sz=uo[1];Sz.style.height='inherit';Py=Sz.getBoundingClientRect();GO=aiz.getBoundingClientRect();if(Py.top!==0){if(Py.top===GO.top&&Py.bottom===GO.bottom&&K.cv.style.height!==''){K.uw.style.height=K.cv.style.height;}else{K.uw.style.height='inherit';}}document.body.removeChild(AW);AW=undefined;},0);break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.CG(K);return;case IPCC.Web.UI.MarkType.Ellipse:V=J.get_rectangle();aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';break;case IPCC.Web.UI.MarkType.Polygon:fa=this.Kn(J);this.lJ(be,fa,true);break;case IPCC.Web.UI.MarkType.Text:this.Wt(K);this.Ho(K);break;case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:V=J.get_rectangle();aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';jm=J.get_text();if(!jm){if(J.get_type()===IPCC.Web.UI.MarkType.Stamp){jm="APPROVED";}else{jm="";}}K.uf.data=jm;Qz=this.aBs(V.width,V.height);K.fd.style.textAlign='center';K.fd.style.fontSize=Qz+'px';if(J.get_type()===IPCC.Web.UI.MarkType.SignatureText){pV=12*V.width/(J.wZ||1);qt=12*V.height/(J.vj||1);yu=Math.min(pV,qt)/2;if(J.get_visible()){K.be.style.display='block';}else{K.be.style.display='none';}}J.cS=yu||Qz;J.stampSize=Math.floor(yu||Qz);K.fd.style.width=V.width/3.25;K.fd.style.height=V.height/3.25;K.fd.style.lineHeight=K.fd.style.height;if(K.J.get_type()===IPCC.Web.UI.MarkType.SignatureText){K.fd.style.fontFamily=K.J.get_fontName()+', cursive';}if(J.get_type()===IPCC.Web.UI.MarkType.Stamp){K.J.hF=K.J.cW;}else{J.gC=false;}fA={};fA.color=K.J.cW;this.dW(K.fd,fA);break;case IPCC.Web.UI.MarkType.TextLine:V=J.get_rectangle();aX.left=V.x*100+'px';aX.top=V.y*100+'px';aX.width=V.width*100+'px';aX.height=V.height*100+'px';jm=J.get_text()||"";K.uf.data=jm;pV=12*V.width/(J.wZ||1);qt=12*V.height/(J.vj||1);yu=Math.min(pV,qt);var bj=0.9;yu*=bj;J.cS=yu;J.ni=yu;J.aiH=this.Bv/72;J.stampSize=yu;K.fd.style.width=V.width;K.fd.style.height=V.height;K.fd.style.lineHeight=K.fd.style.height;K.fd.style.fontFamily=K.J.get_fontName()+', sans-serif';fA={};fA.color=K.J.oR;this.dW(K.fd,fA);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:try{be.setAttribute('stroke',J.get_lineColor());if(J.RA===true){J.RA=false;be.setAttribute("d",J.get_pathString());var uJ=J.get_pathWidth();var tz=J.get_pathHeight();be.setAttribute('width',uJ*100);be.setAttribute('height',tz*100);be.coordsize=[uJ,tz].join(', ');}if(J.get_visible()===false){be.style.display='none';}else{be.style.display='';}var JS;var IQ;var Ta;var Tm;var ZK=J.get_pathWidth()/J.get_pathHeight();V=J.get_rectangle();var ayQ=V.width/V.height;if(ayQ>ZK){IQ=V.height;JS=V.height*ZK;Ta=V.x-(JS-V.width)/2;Tm=V.y;J.IO=J.gz*JS/J.get_pathWidth();}else{JS=V.width;IQ=V.width/ZK;Tm=V.y-(IQ-V.height)/2;Ta=V.x;J.IO=J.gz*IQ/J.get_pathHeight();}aX.left=Ta*100+'px';aX.top=Tm*100+'px';aX.width=JS*100+'px';aX.height=IQ*100+'px';}catch(e){}break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',J.get_type());}if(J.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&J.get_type()!==IPCC.Web.UI.MarkType.Freehand&&J.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&J.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(jl){ng.filled=false;}else{if(J.yN&&J.cW!=='transparent'){if(K.sm.tagName==='fill'){ng.on=true;ng.opacity=J.db/255;ng.color=J.cW;}else{ng.filled=true;ng.fillColor=J.cW;}}else{if(K.sm.tagName==='fill'){ng.on=true;ng.opacity=0.01;ng.color='white';}else{ng.filled=false;}}gC=J.gC;}if(gC&&J.get_lineColor()!=='transparent'){qh.color=J.get_lineColor();qh.dashstyle=this.zB(J.hx);qh.on=true;}else{qh.on=false;}}var DZ='';switch(J.lo()){case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:break;default:var RS={};RS[IPCC.Web.UI.MarkType.Rectangle]=true;RS[IPCC.Web.UI.MarkType.Ellipse]=true;RS[IPCC.Web.UI.MarkType.Text]=true;if(RS[J.lo()]===true){qh.opacity=J.db/255;}else{if(J.db<255){DZ='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(J.db/2.55)+')';}var FW=be.firstChild;if(FW&&FW.nodeName==='shape'){while(FW){FW.style.filter=DZ;FW=FW.nextSibling;}}else{be.style.filter=DZ;}}break;}if(J.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&J.get_type()!==IPCC.Web.UI.MarkType.Freehand){if(J.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&J.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){if(J.gX){aX.visibility='visible';if(K.cv){K.cv.style.visibility='visible';}}else{aX.visibility='hidden';if(K.cv){K.cv.style.visibility='hidden';}}}aX.cursor=IPCC.bi.eU(this.aB.EV());if(K.cv){K.cv.style.cursor=IPCC.bi.eU(this.aB.EV());}this.dW(be,aX);this.bO(K.sm,ng);this.bO(be,bd);for(F=0;F<K.lq.length;F++){if(!K.lq[F].imgearUnstyled){this.bO(K.lq[F],qh);}}}else{this.dW(be,aX);}},CG:function(K){var J=K.J,F,aX={},ng={};var hj=K.hj;while(hj.firstChild){hj.removeChild(hj.firstChild);}var hz;for(F=0;F<J.fN.length;F++){for(var ba=0;ba<J.fN[F].length;ba++){var GY=this.T.dJ().ey();if(GY.fb()>0){var Tg=GY.lf(J.fN[F].startIndex+ba);hz=Tg.bQ;}var ar=this.by('rect');aX.left=hz.x*100+'px';aX.top=hz.y*100+'px';aX.width=hz.width*100+'px';aX.height=hz.height*100+'px';aX.filter='progid:DXImageTransform.Microsoft.Alpha(opacity='+Math.round(J.fN[F].opacity/2.55)+')';this.dW(ar,aX);ng.fillColor=J.fN[F].color;ng.filled=true;this.bO(ar,ng);var Gw=this.by('stroke');this.bO(Gw,{on:'f'});ar.appendChild(Gw);hj.appendChild(ar);}}},HZ:function(K){var J=K.J;if(J.cl===null||J.cl===undefined){return;}if(J.cl.length===0&&J.cF>0&&this.T.dJ().nm()){J.cl=IPCC.bb.Oo(this.T.dJ().ey(),J.ao,J.ao+J.cF-1);}if(!K.ao|| !K.cF||K.ao!==J.ao||J.gX===false||J.gX===true||K.cF!==J.cF){var dR=this.aoA(J.cl);this.bO(K.ny,{path:dR});if(K.vC){dR=this.amR(J.cl,J.gz/ -2);this.bO(K.vC,{path:dR});}K.ao=J.ao;K.cF=J.cF;}},aBs:function(JK,ayu){var mX=0;if(JK>=ayu){mX=(JK/14)/2;}else{mX=JK/15;}if(mX*15>=JK){mX=(JK/15)/2;}return mX;},zB:function(hx){switch(hx){case IPCC.Web.UI.LineStyle.Dash:return 'dash';case IPCC.Web.UI.LineStyle.Dot:return 'dot';case IPCC.Web.UI.LineStyle.DashDot:return 'dashdot';case IPCC.Web.UI.LineStyle.DashDotDot:return 'shortdashdotdot';default:break;}return 'solid';},Hl:function(K){this.aL.qz.removeChild(K.uC);if(K.cv){this.aL.qz.removeChild(K.cv);}delete K.uC;},act:function(cE,mg,bu,ln){var ob=cE.transform({x:0,y:0});var jQ=cE.transform({x:1,y:0});var nB=ob.x-jQ.x;var KG=nB*nB;nB=ob.y-jQ.y;KG+=nB*nB;var bj=Math.sqrt(KG);var zg={width:bu.width*bj+'px',height:bu.height*bj+'px'};var nN=cE.IV();if(nN){zg.flip='x';}else{zg.flip='';}var ci=cE.CU();if((ci>45&&ci<135)||(ci>225&&ci<315)){zg.left=(bu.height-bu.width)*bj/2+'px';zg.top=(bu.width-bu.height)*bj/2+'px';}else{zg.left='0px';zg.top='0px';}var F,ba,K;for(F=0;F<ln.length;F++){K=ln[F];this.bO(K.uC,{rotation:nN? -ci:ci});this.dW(K.uC,zg);for(ba=0;ba<K.lq.length;ba++){if(K.lq[ba].imgearCalloutSized){this.bO(K.lq[ba],{weight:K.J.Dp*bj});}else{if(K.J.get_type()!==IPCC.Web.UI.MarkType.SignaturePath){this.bO(K.lq[ba],{weight:K.J.gz*bj});}else{this.bO(K.lq[ba],{weight:(K.J.IO>0)?K.J.IO:K.J.gz*bj});}}}if(K.cv){this.aqS(K,cE,bj);}if(K.fd){this.aqL(K,cE,bj);}}},agR:function(){this.aL=undefined;},by:function(aE){return document.createElement('igvml:'+aE);},dW:function(be,ku){var F;for(F in ku){if(ku.hasOwnProperty(F)){if(be.style[F]!==ku[F]){be.style[F]=ku[F];}}}},bO:function(be,bd){var F;if(document.documentMode===8){for(F in bd){if(bd.hasOwnProperty(F)){var val=bd[F];var str=val.toString();if(be[F]!==str){be[F]=str;}}}}else{for(F in bd){if(bd.hasOwnProperty(F)){if(bd[F]){be.setAttribute(F,bd[F].toString());}}}}}};IPCC.aap=function(T,qa){var bA=this;this.alb='opacity';this.akR=function(db){return db.toString();};var afV=function afV(aL,cE,mg,bu,pk,pl){var ky;if(this.T.rE()===true){aL.Ji.setAttribute('width',mg.width);aL.Ji.setAttribute('height',mg.height);aL.wC.setAttribute('width',mg.width);aL.wC.setAttribute('height',mg.height);ky=cE.qq().toString()+','+cE.pO().toString()+','+cE.ta().toString()+','+cE.va().toString()+','+(cE.AQ()+pk).toString()+','+(cE.zi()+pl).toString();this.jI(aL.Kc,'transform','matrix('+ky+')');}else{aL.Ji.setAttribute('width',mg.width);aL.Ji.setAttribute('height',mg.height);aL.wC.setAttribute('width',mg.width);aL.wC.setAttribute('height',mg.height);ky=cE.qq().toString()+','+cE.pO().toString()+','+cE.ta().toString()+','+cE.va().toString()+','+(cE.AQ()+pk).toString()+','+(cE.zi()+pl).toString();this.jI(aL.Kc,'transform','matrix('+ky+')');}};var Yw,ZT;this.WG=function(aL,cE,mg,bu,pk,pl){if(aL.Ys.match('maglevel')){afV.apply(this,arguments);return;}var bQ=aL.gP.parentElement.getBoundingClientRect();var kh=bQ.width/bu.width;var afX=function(val){return Math.abs(val)<1.0e-14;};var fm=0,eL=0;var aBn=function(){var qG=cE.pO();if(afX(qG)){qG=0;}var qg=cE.ta();if(afX(qg)){qg=0;}var awW=cE.qq();var ci=(qG>=0&&qg<0)?90:(qG<0&&qg>=0)?270:(awW<0)?180:(qG>=0&&qg>=0)?0:0;switch(ci){case 90:fm=bQ.width;break;case 180:fm=bQ.width;eL=bQ.height;break;case 270:eL=bQ.height;break;}return ci*(Math.PI/180);};var ci=aBn();if(parseInt(ci,10)===1||parseInt(ci,10)===4){kh=bQ.height/bu.width;}if(kh===Yw&&ci===ZT){return;}else{Yw=kh;ZT=ci;}var fI=1,jf=0;if(ci!==0){fI=Math.cos(ci);jf=Math.sin(ci);}var bx={kh:fI*kh,rG:fI*kh,qG:jf*kh,qg:jf* -1*kh,fm:fm,eL:eL};var auy=new IPCC.fK(bx.kh,bx.qG,bx.qg,bx.rG,bx.fm,bx.eL);cE.Rq(auy);T.bV().hW(cE);var ky='matrix({scaleX},{skewX},{skewY},{scaleY},{moveX},{moveY})';ky=ky.replace('{scaleX}',bx.kh).replace('{scaleY}',bx.rG).replace('{skewX}',bx.qG).replace('{skewY}',bx.qg).replace('{moveX}',bx.fm).replace('{moveY}',bx.eL);this.jI(aL.Kc,'transform',ky);};this.ail=function(){Yw=undefined;ZT=undefined;};this.ahx(T);this.aiD=function(az){var bJ=new IPCC.FD(az.clientWidth,az.clientHeight,96,96);return bJ;};this.Xq=function(an){an.preventDefault();bA.kH(an);};this.Xy=function(an){an.preventDefault();bA.kT(an);};this.XC=function(an){an.preventDefault();bA.hK(an);};this.Ue=function(an){bA.kH(an);};this.aar=function(an){bA.xb(an);};this.Ty=function(an){bA.kT(an);};this.En=function(an){bA.mw(an);};this.Oe=0;this.SR=function(an){if(an.rawEvent.detail>1){if(window.navigator.msPointerEnabled){var Yi=false;if(! !(navigator.userAgent.match('6.1'))&&document.documentMode===11){Yi=true;}if(!this.Oe){if(an.target instanceof SVGPolylineElement&&Yi===true){bA.xb(an);}else{bA.hK(an);}this.Oe=an.rawEvent.timeStamp;return;}var ahs=500;if(Yi){ahs=8000;}if(an.rawEvent.timeStamp-this.Oe>ahs){bA.hK(an);}else{bA.xb(an);}this.Oe=an.rawEvent.timeStamp;}else{bA.xb(an);}}else{bA.hK(an);}};this.VA=function(an){bA.Rx(an);};this.UG=function(an){if(an.target!==document.activeElement){bA.akX(an);}};this.TQ=function(an){if(an.target!==document.activeElement){bA.alj(an);}};this.oT=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;bA.rJ(R);T.ayd(R);}catch(ex){T.O('mouseOut',ex);}};this.OV=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;bA.rJ(R);T.ayr(R);}catch(ex){T.O('touchStart',ex);}};this.Qg=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;bA.rJ(R);T.axE(R);}catch(ex){T.O('touchMove',ex);}};this.PU=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;bA.rJ(R);T.axv(R);}catch(ex){T.O('touchEnd',ex);}};this.Kp=function(an){try{an.preventDefault();var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;bA.rJ(R);T.ayE(R);}catch(ex){T.O('touchCancel',ex);}};this.ajO=function(an){try{an.preventDefault();}catch(ex){T.O('dragStart',ex);}};this.aeV=function(){var eH=T.lz().igElements.lK;IPCC.Web.UI.aJ.addHandler(eH,"mousewheel",this.En);IPCC.Web.UI.aJ.addHandler(eH,"DOMMouseScroll",this.En);if(qa){IPCC.Web.UI.aJ.addHandler(eH,"touchstart",this.OV);IPCC.Web.UI.aJ.addHandler(eH,"touchmove",this.Qg);IPCC.Web.UI.aJ.addHandler(eH,"touchend",this.PU);IPCC.Web.UI.aJ.addHandler(eH,"touchcancel",this.Kp);}IPCC.Web.UI.aJ.addHandler(eH,"mouseout",this.oT);IPCC.Web.UI.aJ.addHandler(eH,"dragstart",this.ajO);};this.afW=function(){var eH=T.lz().igElements.lK;IPCC.Web.UI.aJ.removeHandler(eH,"DOMMouseScroll",this.En);IPCC.Web.UI.aJ.removeHandler(eH,"mouseout",this.oT);if(qa){IPCC.Web.UI.aJ.removeHandler(eH,"touchstart",this.OV);IPCC.Web.UI.aJ.removeHandler(eH,"touchmove",this.Qg);IPCC.Web.UI.aJ.removeHandler(eH,"touchend",this.PU);IPCC.Web.UI.aJ.removeHandler(eH,"touchcancel",this.Kp);}IPCC.Web.UI.aJ.removeHandler(eH,"dragstart",this.ajO);};this.ajB=function(aL,gP,pg,yq){var F,bD,az,Xg;var Ok=function(aE,cD,bd){var az=document.createElementNS('http://www.w3.org/2000/svg',aE);var F;if(cD){az.setAttribute('id',cD);}for(F in bd){if(bd.hasOwnProperty(F)){az.setAttribute(F,bd[F]);}}return az;};var gN=Ok('svg',null,{xmlns:'http://www.w3.org/2000/svg',version:'1.1',xlink:'http://www.w3.org/1999/xlink','image-rendering':'optimizeQuality'});aL.wC=Ok('rect',null,{x:0,y:0,'fill-opacity':'0.005',fill:'#808080'});gN.appendChild(aL.wC);var XO=Ok('g',null,{});aL.Kc=XO;gN.appendChild(XO);var cT;if(T.rE()===false){cT=pg.fw.length;}else{cT=1;}for(F=0;F<cT;F++){bD=pg.fw[F];bD.pool.parentElementID=yq+F.toString();Xg=1/bD.bj;az=Ok('g',bD.pool.parentElementID,{transform:'matrix('+Xg.toString()+',0,0,'+Xg.toString()+',0,0)'});XO.appendChild(az);}aL.Ji=gN;gP.appendChild(gN);};this.aeW=function(eN){var OD=this.Vs();eN.elementID=OD;};this.aeS=function(eN){var az=document.getElementById(eN.elementID);this.jI(az,'display','none');};this.UJ=function(eN){var az=document.getElementById(eN.elementID);if(az===null){eN.elementID='';return;}az.setAttributeNS('http://www.w3.org/1999/xlink','href','');az.parentNode.removeChild(az);eN.elementID='';};var Fy=function(an){try{an.target.onload=undefined;an.target.onerror=undefined;an.target.onabort=undefined;var eN=an.target.poolItem;eN.loaded=true;bA.zq();}catch(ex){T.O('downloadImage',ex);}};var akQ=function(an){try{an.target.onload=undefined;an.target.onerror=undefined;an.target.onabort=undefined;an.target.setAttributeNS('http://www.w3.org/1999/xlink','href','');an.target.setAttribute('display','none');throw new IPCC.Web.UI.ImGearException('An image failed to download or the user cancelled it',{name:'IPCC.Web.UI.ImGearHttpException'});}catch(ex){T.O('downloadImage',ex);var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}};this.afO=function(kA){var F;var cT=kA.length;if(T.rE()===false){cT=kA.length;}else{cT=1;}for(F=0;F<cT;F++){var hl=kA[F];var az=document.getElementById(hl.poolItem.elementID);if(az===null){var eN=hl.poolItem;var Ez=eN.pool;var gP=document.getElementById(Ez.parentElementID);az=document.createElementNS('http://www.w3.org/2000/svg','image');this.jI(az,'id',eN.elementID);this.jI(az,'externalResourcesRequired','true');az.poolItem=eN;az.onload=Fy;az.onerror=akQ;az.onabort=akQ;if(document.documentMode>8){eN.loaded=true;}if(T.Pj()&&T.eD()===true){this.Tu(az,hl.url,'image/png');}else{az.setAttributeNS('http://www.w3.org/1999/xlink','href',hl.url);}gP.appendChild(az);this.jI(az,'display','block');var aa=hl.right-hl.x;var dj=hl.bottom-hl.y;this.jI(az,'x',hl.x);this.jI(az,'y',hl.y);this.jI(az,'width',aa);this.jI(az,'height',dj);}this.jI(az,'display','block');}if(document.documentMode>8&&kA.length>0){bA.zq();}};this.Tu=function(az,dc,sN){var hQ=true;var kq=0;if(T.hL()===0){hQ=false;}var aN=new XMLHttpRequest(),iC,jN=false;if(T.Pj()&&T.eD()===true){var gT=IPCC.Web.ot.Qo(4);var me=IPCC.Web.fR.EH.mW(gT);var ZX=dc+'&iv='+me;aN.open('GET',ZX,true);aN.responseType='text';}else{aN.open('GET',dc,true);aN.responseType='text';}function lN(){var dI;try{var da,aU,dP,lh;var kx;var iK=da;if(aN.readyState===4){da=aN.status;if(aN.status===200){aU=null;try{if(hQ===true){if(iC){clearTimeout(iC);}}var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'&&T.eD()===true){var rR=IPCC.Web.fR.oE.rK(aN.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,gT);var dw=IPCC.Web.Fk(aN);var sM=IPCC.Web.Ba(dw,aI,gT);var To=IPCC.Web.fR.oE.mW(sM,0,0);az.setAttributeNS('http://www.w3.org/1999/xlink','href','data:'+sN+';base64,'+To);}else{az.setAttributeNS('http://www.w3.org/1999/xlink','href',dc);}}catch(ex){dP="Image error, Error message = "+ex.message;dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);throw new IPCC.Web.UI.ImGearArgumentException(null,dP);}}else if((da<200)||(da>=300)){if(hQ===true){if(iC){clearTimeout(iC);}}iK=aN.status;if(da===403){kq++;if(aN.statusText&&aN.statusText!==""){dP="Expired viewer session ID, error message from the server: "+aN.statusText;}else{dP="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}lh=aN.getResponseHeader('Accusoft-Status-Message');if(lh){var op;kx=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(kx)){op=parseInt(kx,10);}throw new IPCC.Web.UI.ImGearHttpException(iK,lh,op);}else if(jN){throw new IPCC.Web.UI.ImGearHttpException(iK,"Client Image load timeout");}else{if(aN.statusText&&aN.statusText!==""){dP=aN.statusText;}else{dP="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iK,dP);}}}}catch(e){T.O('openPage',e);if(typeof(T.bo)==='function'){dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};aN.onreadystatechange=lN;if(hQ===true){iC=setTimeout(function(){jN=true;aN.abort();},T.hL());}aN.send();};this.atE=function(aL){var kq=0;var hl=aL.pg.fw[0].tiles[0];if(!hl){return;}var Ez=hl.level.pool;var gP=document.getElementById(Ez.parentElementID);var hQ=true;if(T.hL()===0){hQ=false;}var zV=T.Jh();if(aL.Lv){if(zV===2){delete aL.Lv;if(gP.childNodes.length>0){gP.removeChild(gP.childNodes[0]);}}else if(zV===1){if(gP.childNodes.length>0){gP.removeChild(gP.childNodes[0]);}}else{if(gP.childNodes.length===0){gP.appendChild(aL.apb);}}T.Al=true;return;}if(zV>0){return;}var aN=new XMLHttpRequest(),iC,jN=false;function lN(){try{var da,aU,dP,lh;var kx;var iK=da;var dI;if(aN.readyState===4){da=aN.status;if(aN.status===200){if(hQ===true){if(iC){clearTimeout(iC);}}aU=null;try{var lb;var mb=aN.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'&&T.eD()===true){var rR=IPCC.Web.fR.oE.rK(aN.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,gT);var dw=IPCC.Web.Fk(aN);var sM=IPCC.Web.Ba(dw,aI,gT);lb=IPCC.Web.fR.Cn.mW(sM);}else{lb=aN.responseText;}awT(lb);}catch(ex){dP="SVG image error, Error message = "+ex.message;dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=ex;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);throw new IPCC.Web.UI.ImGearArgumentException(null,dP);}}else if((da<200)||(da>=300)){if(hQ===true){if(iC){clearTimeout(iC);}}iK=aN.status;if(da===480){kq++;if(aN.statusText&&aN.statusText!==""){dP=dP="PDF file password required, error message from the server: "+aN.statusText;}else{dP="PDF file password required.";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}if(da===403){kq++;if(aN.statusText&&aN.statusText!==""){dP="Expired viewer session ID, error message from the server: "+aN.statusText;}else{dP="Expired viewer session ID. No error text message was received from the server:";}throw new IPCC.Web.UI.ImGearHttpException(da,dP);}lh=aN.getResponseHeader('Accusoft-Status-Message');if(lh){var op;kx=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(kx)){op=parseInt(kx,10);}throw new IPCC.Web.UI.ImGearHttpException(iK,lh,op);}else if(jN){throw new IPCC.Web.UI.ImGearHttpException(iK,"Client SVG load timeout");}else{if(aN.statusText&&aN.statusText!==""){dP=aN.statusText;}else{dP="HTTP Error was received from the image server but the server did not provide any error description.";}throw new IPCC.Web.UI.ImGearHttpException(iK,dP);}}}}catch(e){T.O('openPage',e);if(typeof(T.bo)==='function'){dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=T.aH;T.bo('pageOpenFailed',dI);}}};var asX=function(){T.Al=true;T.bo('pageDisplayed',{bI:T.aH});};var awT=function(gZ){var wF=Ez.parentElementID.toString();gZ=gZ.replace(/href="#/g,'href="#'+wF);gZ=gZ.replace(/="url\(#/g,'="url(#'+wF);gZ=gZ.replace(/fill:url\(#/g,'fill:url(#'+wF);gZ=gZ.replace(/ id="/g,' id="'+wF);gZ=gZ.replace(/<use([^>]+)\/>/g,' <use$1></use>');var UH=document.createElement('div');UH.innerHTML=gZ;var qX=UH.querySelectorAll('style');IPCC.bb.forEach(qX,function(aS){var ajm=(aS.styleSheet)?aS.styleSheet.cssText:aS.textContent;if(aS.styleSheet){aS.styleSheet.cssText=ajm;}else{aS.appendChild(document.createTextNode(ajm));}});var kp=null;var Gn=UH.firstChild;while(Gn!==null){if(Gn.nodeName==='svg'){kp=Gn;break;}Gn=Gn.nextSibling;}if(kp===null){throw new IPCC.Web.UI.ImGearInvalidOperationException('Unable to process SVG image data.');}if(!aL.Lv){aL.apb=kp;gP.appendChild(kp);aL.Lv=true;if(!T.Al&&aL.Lv){setTimeout(asX,1);}}};var dc;var gT,me;T.Al=false;if(T.eD()===true){gT=IPCC.Web.ot.aat(4,IPCC.Web.PM());me=IPCC.Web.fR.EH.mW(gT);dc=hl.url+'&iv='+me;}else{dc=hl.url;}aN.open('GET',dc,true);aN.responseType='text';if(document.documentMode===10||IPCC.bb.zz){aN.setRequestHeader('Content-Type','svg');}else{aN.setRequestHeader('Content-Type','svga');}aN.onreadystatechange=lN;if(hQ===true){iC=setTimeout(function(){jN=true;aN.abort();},T.hL());}aN.send();};this.YG=function(hl,db){if(!hl){return;}var mq=document.getElementById(hl.poolItem.elementID);this.jI(mq,'x',hl.x);this.jI(mq,'y',hl.y);this.jI(mq,'width',hl.right-hl.x);this.jI(mq,'height',hl.bottom-hl.y);this.jI(mq,'opacity',db);this.jI(mq,'display','block');};this.Yx=function(kA,db,cE){var F;if(T.rE()===false){for(F=0;F<kA.length;F++){this.YG(kA[F],db);}}};return this;};IPCC.aap.prototype=new IPCC.aD();IPCC.ah.aab=function(){};IPCC.ah.Fe=1;IPCC.ah.aab.prototype={ajF:function(T,aL,bu){this.T=T;this.aB=T.bV();this.aL=aL;this.eO=bu.width;this.ck=bu.height;this.Bv=bu.fQ;this.ato=bu.hE;aL.qz=this.by('g');this.bO(aL.qz,{'fill-opacity':1});aL.Kc.appendChild(aL.qz);},ahY:function(K){var ec='',V,C=this;switch(K.J.get_type()){case IPCC.Web.UI.MarkType.Rectangle:K.be=this.by('rect');if(K.J.hO()&&K.J.get_opacity()===255){K.be.addEventListener("mouseover",function(R){if(K.J.get_selected()===false&&K.be&&(R.which===0||R.buttons===0)){K.be.style.opacity=127/255;}},false);K.be.addEventListener("mouseout",function(R){if(K.be&&(R.which===0||R.buttons===0)){K.be.style.opacity=K.J.get_opacity()/255;}},false);}break;case IPCC.Web.UI.MarkType.HighlightText:ec="highlighttextannotation-"+K.J.iL();K.be=this.by('g');K.hj=this.by('g');K.be.appendChild(K.hj);K.pn=this.by('g');K.pn.setAttribute('data-pcc-mark',ec);K.be.appendChild(K.pn);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ec="texthyperlinkannotation-"+K.J.iL();K.be=this.by('g');K.be.style.cursor=IPCC.bi.eU(IPCC.bi.Link);K.hj=this.by('g');K.be.appendChild(K.hj);K.pn=this.by('g');K.pn.style.opacity=IPCC.ah.aD.Nu();K.pn.style.fill="blue";K.pn.setAttribute('data-pcc-mark',ec);K.be.appendChild(K.pn);K.nd=this.by('g');K.nd.style.stroke="blue";K.nd.style.opacity=IPCC.ah.aD.xR(false);K.nd.setAttribute('data-pcc-mark',ec);K.be.appendChild(K.nd);K.be.addEventListener("mouseover",function(R){if(K.nd){K.nd.style.opacity=IPCC.ah.aD.xR(true,K.J.get_selected());}},false);K.be.addEventListener("mouseout",function(R){if(K.nd){K.nd.style.opacity=IPCC.ah.aD.xR(false,K.J.get_selected());}},false);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:ec="documenthyperlink-"+K.J.iL();K.be=this.by('g');K.be.style.cursor=IPCC.bi.eU(IPCC.bi.Link);K.V=this.by('rect');K.V.style['fill-opacity']=IPCC.ah.aD.Nu();if(K.J.zL!=='Underline'){K.V.style.stroke=K.J.hF;K.V.style['stroke-width']=K.J.gz+'px';K.V.style['stroke-opacity']=(K.J.gz===0)?0:K.J.nF/255;if(K.J.zL==='Dashed'){K.V.style['stroke-dasharray']=K.J.AB.join(', ');}K.V.setAttribute('rx',K.J.Fh);K.V.setAttribute('ry',K.J.Gj);}else{K.mj=this.by('line');K.mj.style.stroke=K.J.hF;K.mj.style['stroke-opacity']=K.J.nF/255;K.mj.style['stroke-width']=K.J.gz+'px';K.be.appendChild(K.mj);}K.V.style.fill='transparent';K.V.setAttribute('data-pcc-mark',ec);K.be.appendChild(K.V);break;case IPCC.Web.UI.MarkType.RectangleRedaction:ec="textmark-"+K.J.iL();K.be=this.by('g');K.fT=this.by('rect');K.hY=this.by('g');K.hY.setAttribute('data-pcc-mark',ec);K.st=document.createTextNode('');if(document.documentMode>8){K.ep=this.by('text');K.ep.setAttribute('data-pcc-mark',ec);K.ep.appendChild(K.st);K.UR=0;K.Cp=this.by('clipPath');K.Gs=this.by('rect');K.hY.appendChild(K.Cp);K.Cp.appendChild(K.Gs);K.hY.appendChild(K.ep);K.GW="PCC"+IPCC.ah.Fe;IPCC.ah.Fe++;this.bO(K.Cp,{id:K.GW,clipPathUnits:"userSpaceOnUse"});V=K.J.get_rectangle();this.bO(K.Gs,{x:0,y:0,width:V.width,height:V.height,"data-pcc-mark":ec});var aed=function(R){if(K.J.get_selected()===false&&K.fT&&(R.which===0||R.buttons===0)){if(C.T.kE()===false){K.be.style.opacity=0.5;K.ep.style.opacity=0;}}};K.be.addEventListener("mouseover",function(R){aed(R);},false);K.hY.addEventListener("mouseover",function(R){aed(R);},false);K.be.addEventListener("mouseout",function(R){if(K.fT&&(R.which===0||R.buttons===0)){if(C.T.kE()===false){K.be.style.opacity=1;K.ep.style.opacity=1;}}},false);}else{K.cv=document.createElement('div');this.bO(K.cv,{"data-pcc-mark":ec});K.cv.appendChild(K.st);K.sn=document.createElement('body');this.bO(K.sn,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ec});K.sn.appendChild(K.cv);K.EQ=this.by('foreignObject');K.EQ.appendChild(K.sn);K.hY.appendChild(K.EQ);K.sn.addEventListener("mouseover",function(R){if(K.J.get_selected()===false&&K.fT&&(R.which===0||R.buttons===0)){K.fT.style.opacity=0.5;K.cv.style.opacity=0;}},false);K.sn.addEventListener("mouseout",function(R){if(K.fT&&(R.which===0||R.buttons===0)){if(C.T.kE()===false){K.fT.style.opacity=1;K.cv.style.opacity=1;}}},false);}K.be.appendChild(K.fT);break;case IPCC.Web.UI.MarkType.Ellipse:K.be=this.by('ellipse');break;case IPCC.Web.UI.MarkType.Highlight:K.be=this.by('rect');break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:K.be=this.by('g');K.hj=K.be;break;case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:K.be=this.by('g');K.iM=this.by('polyline');K.wI=this.by('path');K.vr=this.by('path');K.be.appendChild(K.iM);K.be.appendChild(K.wI);K.be.appendChild(K.vr);break;case IPCC.Web.UI.MarkType.Polygon:K.be=this.by('polygon');break;case IPCC.Web.UI.MarkType.Text:ec="textmark-"+K.J.iL();K.be=this.by('g');K.mk=this.by('polygon');K.iM=this.by('path');K.qe=this.by('path');K.hY=this.by('g');K.be.appendChild(K.mk);K.be.appendChild(K.iM);K.be.appendChild(K.qe);this.bO(K.mk,{style:'stroke:none;'});K.hY.setAttribute('data-pcc-mark',ec);K.st=document.createTextNode('');if(document.documentMode>8){K.ep=this.by('text');K.ep.setAttribute('data-pcc-mark',ec);K.ep.appendChild(K.st);K.UR=0;K.Cp=this.by('clipPath');K.Gs=this.by('rect');K.hY.appendChild(K.Cp);K.Cp.appendChild(K.Gs);K.aiX=this.by('g');K.hY.appendChild(K.aiX);K.hY.appendChild(K.ep);K.GW="PCC"+IPCC.ah.Fe;IPCC.ah.Fe++;this.bO(K.Cp,{id:K.GW,clipPathUnits:"userSpaceOnUse"});V=K.J.get_rectangle();this.bO(K.Gs,{x:0,y:0,width:V.width,height:V.height,"data-pcc-mark":ec});}else{K.cv=document.createElement('div');K.cv.appendChild(K.st);K.sn=document.createElement('body');this.bO(K.sn,{xmlns:'http://www.w3.org/1999/xhtml',style:'margin:0;overflow:hidden;background-color:transparent;white-space:pre-wrap;',"data-pcc-mark":ec});K.sn.appendChild(K.cv);K.EQ=this.by('foreignObject');K.EQ.appendChild(K.sn);K.hY.appendChild(K.EQ);}K.mk.setAttribute('data-pcc-mark',ec);break;case IPCC.Web.UI.MarkType.Stamp:K.be=this.by('g');K.vF=this.by('rect');K.vF.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.fT=this.by('rect');K.Hs=this.Vw(K);K.be.appendChild(K.vF);K.be.appendChild(K.fT);K.be.appendChild(K.Hs);break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:K.be=this.by('g');K.vF=this.by('rect');K.vF.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.fT=this.by('rect');K.afG=this.ank(K);K.afG.setAttribute('data-pcc-mark',"mark-"+K.J.iL());K.be.appendChild(K.vF);K.be.appendChild(K.fT);K.be.appendChild(K.afG);break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:var J=K.J;var afp=J.fF();var aa=afp.width;var dj=afp.height;var uJ=J.get_pathWidth();var tz=J.get_pathHeight();var rS=J.get_pathString();var dR=IPCC.bb.xS.Path(rS,{width:aa,height:dj,multiplier:100,thickness:J.get_lineWidth(),color:J.get_lineColor()});var gN=IPCC.bb.xS.SVG('0 0 '+uJ+' '+tz,100);var ar=IPCC.bb.xS.Rect(uJ,tz,'fill:rgba(255, 255, 255, 0);stroke:none;');gN.appendChild(ar);gN.appendChild(dR);K.be=gN;K.avU=dR;K.acC=ar;break;case IPCC.Web.UI.MarkType.SignatureText:K.be=this.by('g');K.fT=this.by('rect');K.fT.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.Hs=this.Vw(K);K.be.appendChild(K.fT);K.be.appendChild(K.Hs);K.J.gC=false;break;case IPCC.Web.UI.MarkType.TextLine:K.be=this.by('g');K.fT=this.by('rect');K.fT.style='fill:rgba(255, 255, 255, 0);stroke:none;';K.Hs=this.Vw(K,{alignment:"start"});K.be.appendChild(K.fT);K.be.appendChild(K.Hs);break;}K.be.ImGearMarkRelation=K;K.be.setAttribute('data-pcc-mark',"mark-"+K.J.iL());this.aL.qz.appendChild(K.be);if(K.hY){K.hY.ImGearMarkRelation=K;this.aL.qz.appendChild(K.hY);}this.Rw(K);},Vw:function(K,options){options=options||{};var alignment=options.alignment?options.alignment.toLowerCase():"middle";var J=K.J;var jm=J.al;if(!jm){jm=J.cd[0];if(!jm){if(J.get_type()===IPCC.Web.UI.MarkType.Stamp){jm="APPROVED";}else{jm="";}}}var V=J.fF();K.ep=this.by('text');K.GW="PCC"+IPCC.ah.Fe;IPCC.ah.Fe++;var uO=document.createTextNode(jm);K.ep.setAttribute("font-size","22px");K.ep.setAttribute("text-anchor",alignment);if(J.get_type()===IPCC.Web.UI.MarkType.TextLine){K.ep.setAttribute("style",'white-space:pre;');}if(alignment==="middle"){K.ep.setAttribute("x",V.x+(V.width/2));K.ep.setAttribute("y",V.y+(V.height/2));}else if(alignment==="start"){K.ep.setAttribute("x",V.x);K.ep.setAttribute("y",V.y+(V.height/2));}else if(alignment==="end"){K.ep.setAttribute("x",V.x+V.width);K.ep.setAttribute("y",V.y+(V.height/2));}K.ep.appendChild(uO);return K.ep;},ank:function(K){var J=K.J;K.gU=document.createElementNS('http://www.w3.org/2000/svg','svg');K.yv=document.createElementNS('http://www.w3.org/2000/svg','image');K.yv.setAttribute('id','childimg');K.yv.setAttributeNS('http://www.w3.org/1999/xlink','href',J.get_image());K.gU.appendChild(K.yv);return K.gU;},alG:function(K,qO){var J=K.J;var V=J.fF();var al=J.al.trim().replace(/ {2,}/g,' ');var Io,gh,nt,Yh;var CQ=K.ep;var xt=[];var cT=CQ.childNodes.length;if(cT>1){var ayY=CQ.parentNode;var RN=this.by('text');RN.setAttribute('data-pcc-mark',K.hY.getAttribute('data-pcc-mark'));ayY.replaceChild(RN,CQ);K.ep=RN;K.ep.appendChild(K.st);K.hY.appendChild(K.ep);CQ={};CQ=K.ep;}var OT=2;if(qO){switch(qO){case IPCC.Web.UI.HorizontalAlignment.Center:OT=V.width/2;break;case IPCC.Web.UI.HorizontalAlignment.Right:OT=V.width-8.4;break;}}var Sl=0;Sl=V.height;var aak;var ajo=0;var eC=this.Bv/72;var aiJ=0;var YE=J.cS*eC;var dj=V.height;var Tl=0;var vT=0;var IC=al.split('\n');for(var F=0;F<IC.length;F++){var CE='';var ago=2;if(IC[F].length>0){nt=IC[F].split(' ');Yh=nt[0];gh=this.by('tspan');if(F>0){gh.setAttributeNS(null,"x",OT);gh.setAttributeNS(null,"dy",YE*(Tl+1));}Io=window.document.createTextNode(nt[0]);gh.appendChild(Io);CQ.appendChild(gh);for(var ba=1;ba<nt.length;ba++){if(nt[ba].length>Yh.length){Yh=nt[ba];}cT=gh.firstChild.data.length;var KN=nt[ba];if(nt[ba].length>0){if(gh.firstChild.data[gh.firstChild.data.length-1]!==' '){gh.firstChild.data+=" "+nt[ba];}else{gh.firstChild.data+=nt[ba];}}if(gh.firstChild.data[gh.firstChild.data.length-1]!==' '&&ba!==nt.length-1){gh.firstChild.data+=' ';KN+=' ';}CE=CE+KN;aak=CE.length*(J.cS*eC);try{ajo=gh.getComputedTextLength();}catch(e){}var ahU=ajo*eC;if(ahU===0){aiJ=aak;}else{aiJ=ahU;}var UR=gh.firstChild.data.length*(J.cS/2);if(UR>=V.width){ago++;CE='';gh.firstChild.data=gh.firstChild.data.slice(0,cT);CE=CE+KN;if(CE.length>1){if(gh.firstChild.data[gh.firstChild.data.length-1]!==' '){gh.firstChild.data+=' ';cT+=1;}xt.push({ao:vT,abF:gh});vT+=cT;gh=this.by('tspan');gh.setAttributeNS(null,"x",OT);gh.setAttributeNS(null,"dy",YE);if(ba===nt.length-1){Io=window.document.createTextNode(nt[ba]);}else{Io=window.document.createTextNode(KN);}gh.appendChild(Io);CQ.appendChild(gh);}}Sl=YE*ago;if(Sl>=dj){break;}}if(gh.firstChild.data.length>0){xt.push({ao:vT,abF:gh});}vT+=gh.firstChild.data.length+1;Tl=0;}else{Tl++;}}return xt;},avP:function(ki,gh,hj,vT){if(ki.length>0){var ajJ=gh.getNumberOfChars();if(ki[0].ao>vT+ajJ){return;}for(var F=Math.max(ki[0].ao-vT,0);F<ajJ;F++){var V=gh.getExtentOfChar(F);var ar=this.by('rect');this.bO(ar,{x:V.x,y:V.y,width:V.width,height:V.height,fill:ki[0].Gb});hj.appendChild(ar);if(ki[0].ds===F+vT){ki.shift();if(ki.length===0){return;}F=ki[0].ao-vT-1;}}}},lJ:function(az,kl,mG){var dR='M',F;for(F=0;F<kl.length;F++){if(F>0){dR+=' L';}dR+=kl[F].x+','+kl[F].y;}if(mG){dR+='Z';}this.bO(az,{d:dR});},abt:function(az,kl,mG){var KY='',F;for(F=0;F<kl.length;F++){if(F>0){KY+=' ';}KY+=kl[F].x+','+kl[F].y;}if(mG&&kl.length>2){KY+=' '+kl[0].x+','+kl[0].y;}this.bO(az,{points:KY});},GR:function(eQ,jq,vU,pL,sB,Dj,qd){var di=this.ali(eQ,jq,vU,pL,sB);var aX='';aX+='stroke:'+Dj+';';switch(sB){case IPCC.Web.UI.LineHeadType.None:aX='display:none;';break;case IPCC.Web.UI.LineHeadType.Pointer:this.lJ(qd,[di.tP,eQ,di.vg],false);break;case IPCC.Web.UI.LineHeadType.Solid:this.lJ(qd,[di.tP,eQ,di.vg],true);aX+='fill:'+Dj+';';break;case IPCC.Web.UI.LineHeadType.Open:this.lJ(qd,[di.tP,eQ,di.vg],true);break;case IPCC.Web.UI.LineHeadType.PointerSolid:this.lJ(qd,[di.tP,eQ,di.vg,di.Au],true);aX+='fill:'+Dj+';';break;}this.bO(qd,{style:aX});return di;},XJ:function(K){var J=K.J;var bv,fa,F,HH,Im,hx='',oH;bv=J.get_points();fa=[];for(F=0;F<bv.get_length();F++){fa.push(bv.getPoint(F));}if(fa.length<2||J.mG){this.bO(K.wI,{style:'display:none;'});this.bO(K.vr,{style:'display:none;'});}else{J.tm=J.hF;oH=this.NJ(fa,true);HH=this.GR(oH.eQ,oH.jq,J.Gq,J.Fs,J.GE,J.tm,K.wI);oH=this.NJ(fa,false);Im=this.GR(oH.eQ,oH.jq,J.Fo,J.GG,J.mF,J.tm,K.vr);fa[0]=HH.Au;fa[fa.length-1]=Im.Au;}this.abt(K.iM,fa,J.mG);var xG=this.zB(J.hx);if(xG!==''){hx+='stroke-dasharray:'+xG+';';}this.bO(K.iM,{style:hx});},Wt:function(K){var pH=this.ajY(K);this.abt(K.mk,pH.SO,false);var aeH='',hx='fill:none;',rY='fill:none;';if(pH.MF){aeH='stroke:none;';}if(pH.Mv){this.lJ(K.iM,pH.Mv,false);}else{hx+='display:none;';}if(pH.FG){this.lJ(K.qe,pH.FG,false);}else{rY+='display:none;';}var J=K.J;if(J.zF){rY+='stroke:'+J.EE+';stroke-width:'+J.Dp+';';var xG=this.zB(J.rY);if(xG!==''){rY+='stroke-dasharray:'+xG+';';}}this.bO(K.iM,{style:hx});this.bO(K.qe,{style:rY});this.bO(K.mk,{style:aeH});},Ho:function(K){var J=K.J,Gi;if(!J){return;}var V=J.fF();var ni=J.cS*this.Bv/72;J.ni=ni;var tS=V.width,sv=V.height,KA=false,eT;var ky,ek=0,eZ=0;var gg=1;if(J.gC){gg+=J.gz/2;}switch(J.yt){case IPCC.Web.UI.Orientation.TopLeft:ky='1,0,0,1';break;case IPCC.Web.UI.Orientation.TopRight:ky='-1,0,0,1';ek=tS-gg;break;case IPCC.Web.UI.Orientation.BottomRight:ky='-1,0,0,-1';ek=tS-gg;eZ=sv-gg;break;case IPCC.Web.UI.Orientation.BottomLeft:ky='1,0,0,-1';eZ=sv-gg;break;case IPCC.Web.UI.Orientation.LeftTop:ky='0,1,1,0';KA=true;break;case IPCC.Web.UI.Orientation.RightTop:ky='0,1,-1,0';ek=tS-gg;KA=true;break;case IPCC.Web.UI.Orientation.RightBottom:ky='0,-1,-1,0';ek=tS-gg;eZ=sv-gg;KA=true;break;case IPCC.Web.UI.Orientation.LeftBottom:ky='0,-1,1,0';eZ=sv-gg;KA=true;break;}if(J.cW==="#c0c0c0"){J.cW='#ffffff';}if(J.get_type()!==IPCC.Web.UI.MarkType.RectangleRedaction){if(J.hO()===true){J.cW='#ffffff';}else{J.set_opacity(J.db);}}if(KA){eT=tS;tS=sv;sv=eT;}tS-=2*gg;sv-=2*gg;if(tS<0){tS=0;}if(sv<0){sv=0;}var ZH='normal';var ee='normal';var nR='';var ug;nR+='word-wrap:break-word;background-color:transparent;line-height:1;';var Ao=0;if(J.oR.length===7&&J.oR.charAt(0)==='#'){Ao=parseInt(J.oR.slice(1),16);}var db=Math.min(1,Math.max(0,J.tN/255));if(document.documentMode>8){ee='normal';if(J.ee&IPCC.Web.UI.FontStyle.Italic){ee='italic';}ZH='normal';if(J.ee&IPCC.Web.UI.FontStyle.Bold){ZH='bold';}ug='none';if((J.ee&IPCC.Web.UI.FontStyle.Underline)&&(J.ee&IPCC.Web.UI.FontStyle.Strikeout)){ug='underline line-through';}else if(J.ee&IPCC.Web.UI.FontStyle.Underline){ug='underline';}else if(J.ee&IPCC.Web.UI.FontStyle.Strikeout){ug='line-through';}}else{nR+='color:rgba('+(Ao>>16)+','+((Ao>>8)&255)+','+(Ao&255)+','+db+');';nR+='font-family:'+J.gn+';';nR+='font-size:'+ni+'px;';if(J.ee&IPCC.Web.UI.FontStyle.Italic){nR+='font-style:italic;';}if(J.ee&IPCC.Web.UI.FontStyle.Bold){nR+='font-weight:bold;';}if((J.ee&IPCC.Web.UI.FontStyle.Underline)&&(J.ee&IPCC.Web.UI.FontStyle.Strikeout)){nR+='text-decoration:underline line-through;';}else if(J.ee&IPCC.Web.UI.FontStyle.Underline){nR+='text-decoration:underline;';}else if(J.ee&IPCC.Web.UI.FontStyle.Strikeout){nR+='text-decoration:line-through;';}}var Gg={x:2,anchor:'start'};switch(J.qO){case IPCC.Web.UI.HorizontalAlignment.Left:nR+='text-align:left;';break;case IPCC.Web.UI.HorizontalAlignment.Center:nR+='text-align:center;';Gg.x=(V.width/2)-3;Gg.anchor='middle';break;case IPCC.Web.UI.HorizontalAlignment.Right:nR+='text-align:right;';Gg.x=V.width-8;Gg.anchor='end';break;default:break;}if(typeof document.documentMode==='undefined'){switch(J.AT){case IPCC.Web.UI.VerticalAlignment.Center:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){this.bO(K.sn,{style:'display:table; width: 100%'});nR+='display: table-cell; white-space: normal; vertical-align: middle; height:'+sv+'px';}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bO(K.cv,{style:nR});this.bO(K.hY,{transform:'matrix('+ky+','+(ek+V.x+gg)+','+(eZ+V.y+gg)+')'});this.bO(K.EQ,{x:0,y:0,width:tS,height:sv});this.adL(K);}else{var xt=this.alG(K,J.qO);var aka=xt.length;switch(J.AT){case IPCC.Web.UI.VerticalAlignment.Center:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction){Gi=(V.height/2)+(J.cS/4);if(aka>1){Gi-=(aka-1)*(J.cS/2);}if(Gi<0){Gi=J.cS;}}break;case IPCC.Web.UI.VerticalAlignment.Bottom:break;default:break;}this.bO(K.Gs,{x:0,y:0,width:V.width-5,height:V.height-5});var ase="url(#"+K.GW+")";var VM={x:Gg.x,y:(this.Bv/72)*J.cS,width:V.width,height:V.height,'font-family':J.gn,'font-size':ni,fill:'rgba('+(Ao>>16)+', '+((Ao>>8)&255)+', '+(Ao&255)+', '+db+')','font-weight':ZH,'font-style':ee,'text-decoration':ug,'text-anchor':Gg.anchor};if(typeof Gi!=='undefined'){delete VM.y;VM.dy=Gi;}this.bO(K.ep,VM);K.ep.style.opacity=db;this.bO(K.hY,{transform:'matrix('+ky+','+(ek+V.x+gg)+','+(eZ+V.y+gg)+')','clip-path':ase});var hj=K.aiX;while(hj&&hj.firstChild){hj.removeChild(hj.firstChild);}if(J.fN){var ki=this.aaB(J.fN);for(var F=0;F<xt.length;F++){this.avP(ki,xt[F].abF,hj,xt[F].ao);}}}},HZ:function(K){var J=K.J;if(J.cl===null||J.cl===undefined){return;}if(J.cl.length===0&&J.cF>0&&this.T.dJ().nm()){J.cl=IPCC.bb.Oo(this.T.dJ().ey(),J.ao,J.ao+J.cF-1);}if(!K.ao|| !K.cF||K.ao!==J.ao||K.cF!==J.cF||J.gX===false||J.gX===true){while(K.pn.firstChild){K.pn.removeChild(K.pn.firstChild);}if(K.nd){while(K.nd.firstChild){K.nd.removeChild(K.nd.firstChild);}}if(J.gX===false){return;}IPCC.bb.forEach(K.J.cl,function(iW){var aaC=this.by('rect');K.pn.appendChild(aaC);this.bO(aaC,{x:iW.x,y:iW.y,width:iW.width,height:iW.height});if(K.nd){var abD=this.by('line');this.bO(abD,{x1:iW.x,y1:iW.y+iW.height-1,x2:iW.x+iW.width,y2:iW.y+iW.height-1,"stroke-width":2});K.nd.appendChild(abD);}},this);K.ao=J.ao;K.cF=J.cF;}},Rw:function(K){var J=K.J;if(!J){return;}var be=K.be;var V,aX='',bv,gC=true,pp,pV,qt,VC,vz,Gk;var jl=false;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:jl=true;this.XJ(K);break;case IPCC.Web.UI.MarkType.Rectangle:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});break;case IPCC.Web.UI.MarkType.HighlightText:this.HZ(K);K.pn.style.fill=J.cW;K.pn.style.opacity=(J.db/255);this.CG(K);break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:this.HZ(K);K.pn.style.fill="blue";K.nd.style.stroke="blue";if(K.J.get_selected()){K.nd.style.opacity=IPCC.ah.aD.xR(false,K.J.get_selected());}else{K.nd.style.opacity=IPCC.ah.aD.xR(false,K.J.get_selected());}this.CG(K);break;case IPCC.Web.UI.MarkType.DocumentHyperlink:V=J.get_rectangle();this.bO(K.V,{x:V.x,y:V.y,width:V.width,height:V.height});if(K.mj){this.bO(K.mj,{x1:V.x,y1:V.y+V.height,x2:V.x+V.width,y2:V.y+V.height});}break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(typeof K.fT!=='undefined'){if(this.T.kE()===true){K.fT.style.opacity=0.5;if(typeof K.cv!=='undefined'){K.cv.style.opacity=0;}else{K.ep.style.opacity=0;}}else{K.fT.style.opacity=1;if(typeof K.cv!=='undefined'){K.cv.style.opacity=1;}}}V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});this.bO(K.fT,{x:V.x,y:V.y,width:V.width,height:V.height});if(this.T.kE()===false){this.Ho(K);}break;case IPCC.Web.UI.MarkType.Ellipse:V=J.get_rectangle();this.bO(be,{cx:V.x+V.width/2,cy:V.y+V.height/2,rx:V.width/2,ry:V.height/2});break;case IPCC.Web.UI.MarkType.Polygon:bv=this.Kn(J);this.abt(be,bv,false);aX+='fill-rule:evenodd;';break;case IPCC.Web.UI.MarkType.Text:this.Wt(K);this.Ho(K);if(typeof document.documentMode==='undefined'){K.sn.style.cursor=IPCC.bi.eU(this.aB.EV());}break;case IPCC.Web.UI.MarkType.Stamp:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});this.bO(K.vF,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.vF.style.opacity=1;this.bO(K.fT,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':J.cW,'stroke-width':'5','fill':'none','rx':10,'ry':10});var textFontSize=(V.width/6);if(textFontSize>V.height){textFontSize=(V.height-(V.height/6));}pp=K.J.get_text();if(!pp){pp='APPROVED';}K.ep.childNodes[0].data=pp;var mX=pp.length*textFontSize;if(mX>V.width){textFontSize=((V.width/pp.length));}Gk=Math.round(textFontSize);J.stampSize=Gk.toString();this.bO(K.ep,{x:V.x+(V.width/2),y:V.y+(V.height/2+(textFontSize/3)),'font-size':textFontSize,'stroke':J.cW,'font-family':"Arial"});break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});this.bO(K.vF,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.vF.style.opacity=1;this.bO(K.fT,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':J.cW,'stroke-width':'0','fill':'none'});K.yv.setAttribute('height',V.height);K.yv.setAttribute('width',V.width);K.yv.setAttribute('x',V.x);K.yv.setAttribute('y',V.y);K.yv.setAttributeNS('http://www.w3.org/1999/xlink','href',J.get_image());break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:this.CG(K);break;case IPCC.Web.UI.MarkType.Highlight:V=J.get_rectangle();if(V.x===0&&V.y===0){var fr=this.T.dJ().ey();if(fr.fb()>0){var dV=fr.lf(J.ao);V=dV.bQ;}J.mC='y';}this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Freehand:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});var KW=K.avU;if(J.RA===true){J.RA=false;KW.setAttribute("d",J.get_pathString());var uJ=J.get_pathWidth();var tz=J.get_pathHeight();be.setAttribute('viewBox','0 0 '+uJ+' '+tz);K.acC.setAttribute('width',uJ);K.acC.setAttribute('height',tz);}if(J.get_visible()){K.be.style.display='block';}else{K.be.style.display='none';}KW.style.stroke=J.get_lineColor();KW.style.strokeWidth=J.get_lineWidth()+'px';KW.style.opacity=J.get_opacity()/255;break;case IPCC.Web.UI.MarkType.SignatureText:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});this.bO(K.fT,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':'none','fill':'rgba(255, 255, 255, 0)'});K.fT.style.opacity=1;var alJ=K.J.get_text()||"";K.ep.childNodes[0].data=alJ;pV=12*V.width/(J.wZ||1);qt=12*V.height/(J.vj||1);vz=Math.min(pV,qt);var azz=Math.floor(vz);J.stampSize=azz.toString();this.bO(K.ep,{x:V.x+(V.width/2),y:V.y+(V.height/2+(vz/3)),'font-size':vz,'stroke':"none",'fill':J.get_fillColor(),'font-family':J.get_fontName()});if(J.get_visible()){K.be.style.display='block';}else{K.be.style.display='none';}break;case IPCC.Web.UI.MarkType.TextLine:V=J.get_rectangle();this.bO(be,{x:V.x,y:V.y,width:V.width,height:V.height});aX='stroke:'+(J.gC?'black':'none')+';stroke-width:1;';this.bO(K.fT,{x:V.x,y:V.y,width:V.width,height:V.height,'stroke':J.gC?'black':'none','fill':'rgba(255, 255, 255, 0)','style':aX});K.ep.style.opacity=1;pp=K.J.get_text()||"";K.ep.childNodes[0].data=pp;VC=IPCC.bb.ahX(pp,J.get_fontName(),V.width,V.height,{xh:"pre",gN:K.be});vz=VC.fontSize;J.ni=vz;J.stampSize=vz;J.IU=true;J.oK=VC;this.bO(K.ep,{x:V.x,y:V.y+(V.height/2+(vz/3)),'font-size':vz,'stroke':"none",'fill':J.get_textColor(),'font-family':J.get_fontName(),'white-space':'pre'});this.bO(be,{style:'fill:none;opacity:1;'});break;default:throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('type',J.get_type());}if(J.get_type()!==IPCC.Web.UI.MarkType.SignaturePath&&J.get_type()!==IPCC.Web.UI.MarkType.Freehand&&J.get_type()!==IPCC.Web.UI.MarkType.SignatureText&&J.get_type()!==IPCC.Web.UI.MarkType.HighlightText&&J.get_type()!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation&&J.get_type()!==IPCC.Web.UI.MarkType.DocumentHyperlink&&J.get_type()!==IPCC.Web.UI.MarkType.TextSelectionRedaction){if(jl){aX+='fill:none;';}else{if(J.yN){aX+='fill:'+J.cW+';';}else{aX+='fill:none;';}gC=J.gC;var xG=this.zB(J.hx);if(xG!==''){aX+='stroke-dasharray:'+xG+';';}}if(gC){aX+='stroke:'+J.get_lineColor()+';';aX+='stroke-width:'+J.gz+';';}else{aX+='stroke:none;';}if(J.get_type()===IPCC.Web.UI.MarkType.SignatureText){aX+='opacity:'+1+';';}else{aX+='opacity:'+(J.db/255)+';';}if(!J.gX){aX+='display:none;';if(K.hY){K.hY.style.display='none';}}else{if(K.hY){K.hY.style.display='block';}}aX+='cursor:'+IPCC.bi.eU(this.aB.EV())+';';this.bO(be,{style:aX});}if(J.get_type()===IPCC.Web.UI.MarkType.Freehand){if(!J.gX){aX+='display:none;';}else{aX+='display:block;';}aX+='cursor:'+IPCC.bi.eU(this.aB.EV())+';';this.bO(be,{style:aX});}},CG:function(K){var J=K.J,avc=J.get_visible();var V=J.get_rectangle();if(V.x===0&&V.y===0){return;}var hj=K.hj;while(hj.firstChild){hj.removeChild(hj.firstChild);}var hz;for(var F=0;F<J.fN.length;F++){for(var ba=0;ba<J.fN[F].length;ba++){var GY=this.T.dJ().ey();if(GY.fb()>0){var Tg=GY.lf(J.fN[F].startIndex+ba);hz=Tg.bQ;}var ar=this.by('rect');this.bO(ar,{x:hz.x,y:hz.y,width:hz.width,height:hz.height,fill:J.fN[F].color,display:(avc)?'block':'none'});ar.style.opacity=(J.fN[F].opacity)?(J.fN[F].opacity)/255.0:0.5;hj.appendChild(ar);}}},zB:function(hx){switch(hx){case IPCC.Web.UI.LineStyle.Dash:return '7,7';case IPCC.Web.UI.LineStyle.Dot:return '1,7';case IPCC.Web.UI.LineStyle.DashDot:return '7,7,1,7';case IPCC.Web.UI.LineStyle.DashDotDot:return '7,7,1,7,1,7';default:break;}return '';},Hl:function(K){this.aL.qz.removeChild(K.be);if(K.hY){this.aL.qz.removeChild(K.hY);}delete K.be;},act:function(){},agR:function(){this.aL=undefined;},by:function(aE){return document.createElementNS('http://www.w3.org/2000/svg',aE);},bO:function(be,bd){var F;for(F in bd){if(bd.hasOwnProperty(F)){be.setAttribute(F,bd[F].toString());}}}};IPCC.ah.wU={Av:function(){var vV=IPCC.ah.wU;if(vV.wO===null){
/*@cc_on@if(@_jscript)vV.wO=document.documentMode>8;@else@*/ vV.wO=true;/*@end@*/}return vV.wO;},wO:null};if(IPCC.wU.Av()){IPCC.ah.aD=IPCC.ah.aab;}else{IPCC.ah.aD=IPCC.ah.EW;}IPCC.ah.aD.xR=function(isMouseOver,isSelected){return(isSelected?127:(isMouseOver?127:63))/255;};IPCC.ah.aD.Nu=function(){return 31/255;};IPCC.ah.aD.aEg=function(isSelected){return isSelected?"purple":"blue";};IPCC.ah.aD.prototype.ali=function(eQ,jq,vU,pL,sB){var di={eQ:eQ,jq:jq,vU:vU,pL:pL,sB:sB};if(eQ.x===jq.x&&eQ.y===jq.y){di.sB=IPCC.Web.UI.LineHeadType.None;}var Od=Math.atan2(eQ.x-jq.x,-(eQ.y-jq.y))+Math.PI/2;vU*=Math.PI/180;var iS=Od+vU;di.tP={x:eQ.x+Math.cos(iS)*pL,y:eQ.y+Math.sin(iS)*pL};iS=Od-vU;di.vg={x:eQ.x+Math.cos(iS)*pL,y:eQ.y+Math.sin(iS)*pL};switch(di.sB){case IPCC.Web.UI.LineHeadType.Solid:case IPCC.Web.UI.LineHeadType.Open:di.Au={x:(di.tP.x+di.vg.x)/2,y:(di.tP.y+di.vg.y)/2};break;case IPCC.Web.UI.LineHeadType.PointerSolid:di.Au={x:eQ.x+Math.cos(Od)*pL/2,y:eQ.y+Math.sin(Od)*pL/2};break;default:di.Au=eQ;break;}return di;};IPCC.ah.aD.prototype.ajY=function(K){var J=K.J;var V=J.get_rectangle();var II={x:J.nz.x+V.x+0.00001,y:J.nz.y+V.y+0.00001};var aU={};var gF=[{x:V.x,y:V.y},{x:V.x+V.width,y:V.y},{x:V.x+V.width,y:V.y+V.height},{x:V.x,y:V.y+V.height}];if(!J.zn){aU.SO=gF;aU.MF= !J.gC;return aU;}var F,afo=[];for(F=0;F<4;F++){afo.push({x:(gF[F].x+gF[(F+3)%4].x)/2,y:(gF[F].y+gF[(F+3)%4].y)/2,auK:true});}for(F=3;F>=0;F--){gF.splice(F,0,afo[F]);}function ahh(Qh){var nB,KG;nB=(II.x-(gF[Qh].x+gF[(Qh+1)%8].x)/2)*V.height;KG=nB*nB;nB=(II.y-(gF[Qh].y+gF[(Qh+1)%8].y)/2)*V.width;return KG+nB*nB;};var Sd=0,ajK=ahh(0),hH;for(F=1;F<8;F++){hH=ahh(F);if(hH<ajK){ajK=hH;Sd=F;}}gF=gF.slice(Sd+1).concat(gF.slice(0,Sd+1));var DO=gF[0],DE=gF[7];for(F=gF.length-1;F>=0;F--){if(gF[F].auK){gF.splice(F,1);}}switch(J.Md){case IPCC.Web.UI.CalloutType.Triangle:gF.splice(0,0,{x:(DO.x*3+DE.x)/4,y:(DO.y*3+DE.y)/4});gF.push({x:(DO.x+DE.x*3)/4,y:(DO.y+DE.y*3)/4});if(J.zF){aU.MF=true;aU.Mv=[].concat(gF);aU.FG=[gF[0],II,gF[gF.length-1]];}gF.push(II);break;default:case IPCC.Web.UI.CalloutType.Line:aU.FG=[{x:(DO.x+DE.x)/2,y:(DO.y+DE.y)/2},II];break;}aU.SO=gF;if(!J.gC){aU.MF=true;delete aU.Mv;delete aU.FG;}return aU;};IPCC.ah.aD.prototype.Kn=function(J){var bv=J.get_points();var fa=[],F;for(F=0;F<bv.get_length();F++){fa.push(bv.getPoint(F));}return fa;};IPCC.ah.aD.prototype.NJ=function(fa,aBS){var bh=0,RR=1,adk=fa.length-2,eQ,jq;if(!aBS){bh=fa.length-1;RR= -1;}eQ=fa[bh];bh+=RR;jq=fa[bh];bh+=RR;while(eQ.x===jq.x&&eQ.y===jq.y&&adk>0){jq=fa[bh];bh+=RR;adk--;}return{eQ:eQ,jq:jq};};IPCC.ah.aD.prototype.abY=function(T,aL,ay,lu){if(!aL.lQ){aL.lQ=[];}var lQ=aL.lQ;if(ay.length<1&&lQ.length<1){if(aL.yd.firstChild){aL.yd.innerHTML='';}return;}var bM=T.ft();var eI=bM.Ak();if(this.fO===undefined){this.fO=40;var zN=document.createElement("div");zN.className='pccMarkHandleTopLeft';zN.visibility='hidden';document.body.appendChild(zN);if(zN.currentStyle){this.fO=parseInt(zN.currentStyle.width,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var aCo=document.defaultView.getComputedStyle(zN);this.fO=parseInt(aCo.width,10)||0;}document.body.removeChild(zN);}var F,JX=[];for(F=0;F<ay.length;F++){if(ay[F].get_visible()===true){if(eI.GS(ay[F])>=0||(ay[F].get_selected()===true&&(ay[F].jH===true||ay[F].km===true))||ay[F].yR===true){JX.push(ay[F]);}}}for(F=0;F<lQ.length;F++){while(F<lQ.length&&(F>=JX.length||lQ[F].J!==JX[F])){aL.yd.removeChild(lQ[F].ho);lQ.splice(F,1);}if(F<lQ.length&&T.lO()){this.acB(lQ[F],lu);}}for(F=lQ.length;F<JX.length;F++){lQ[F]={J:JX[F]};this.amd(aL.yd,lQ[F]);this.acB(lQ[F],lu);}};IPCC.ah.aD.prototype.wA=function(ho,alY,Ee,vZ,azy,ab,cD){var dC=[],F,dB;if(cD===undefined){cD='handle';}for(F=0;F<alY;F++){dB={be:document.createElement('div')};dB.be.ImGearMarkHandle=dB;dB.ab=ab;dB.aE=vZ;dB.bh=azy+F;ho.appendChild(dB.be);dB.be.setAttribute('data-pcc-mark',cD+'-'+ho.ImGearMarkRelation.J.iL());dC.push(dB);}return dC;};IPCC.ah.aD.prototype.aqK=function(cX){if(cX.dC===undefined){return;}var F;for(F=0;F<cX.dC.length;F++){var dB=cX.dC[F];dB.be.style.cursor=IPCC.bi.eU(dB.ab);}};IPCC.ah.aD.prototype.amd=function(yd,cX){cX.ho=document.createElement('div');cX.ho.style.width='0px';cX.ho.style.height='0px';cX.ho.style.left='0px';cX.ho.style.top='0px';cX.ho.style.zIndex='1';var F,J=cX.J,dB;cX.ho.ImGearMarkRelation=cX;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:cX.dC=this.wA(cX.ho,2,this.fO,this.Kh,0,IPCC.bi.Move);cX.dC=cX.dC.concat(this.wA(cX.ho,2,this.fO,this.Ga,0,IPCC.bi.Move));break;case IPCC.Web.UI.MarkType.Polygon:cX.dC=[];break;case IPCC.Web.UI.MarkType.Freehand:cX.dC=[];cX.hU=document.createElement('div');cX.hU.style.border='1px solid gray';cX.hU.style.position='absolute';cX.ho.appendChild(cX.hU);break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Highlight:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.cI!==undefined){break;}cX.hU=document.createElement('div');cX.hU.style.border='1px solid gray';cX.hU.style.position='absolute';cX.ho.appendChild(cX.hU);cX.dC=this.wA(cX.ho,4,this.fO,this.Tp,0,-1);cX.dC=cX.dC.concat(this.wA(cX.ho,4,this.fO,this.Uc,0,-1));for(F=4;F<8;F++){dB=cX.dC[F];dB.amD=cX.dC[F-4];dB.amu=cX.dC[(F+1)%4];}if(J.get_type()===IPCC.Web.UI.MarkType.Text){cX.dC=cX.dC.concat(this.wA(cX.ho,1,this.fO,this.Te,0,IPCC.bi.Move));}break;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:cX.dC=this.wA(cX.ho,1,this.fO,this.Kh,0,IPCC.bi.Move,'texthandlestart');cX.dC=cX.dC.concat(this.wA(cX.ho,1,this.fO,this.Kh,1,IPCC.bi.Move,'texthandleend'));break;}if(J.lo()===IPCC.Web.UI.MarkType.Text||J.lo()===IPCC.Web.UI.MarkType.TextLine){var oU=document.createElement('div');oU.className='pccEditMarkButton';oU.setAttribute('data-pcc-mark','edit-'+J.iL());oU.onclick=function(au){au=au||{};au.stopPropagation?au.stopPropagation():au.cancelBubble=true;au.preventDefault?au.preventDefault():au.returnValue=false;var sq;var kC=cX.ho;while(kC&&(kC.parentNode||kC.ownerSVGElement)){if(kC.parentNode.id&&kC.parentNode.id.indexOf("__pViewId")!== -1){sq=kC.parentNode;}kC=kC.ownerSVGElement||kC.parentNode;}sq&&sq.aY.aye(au,J);};cX.ho.appendChild(oU);var arq={be:oU};cX.dC.push(arq);}yd.appendChild(cX.ho);};IPCC.ah.aD.le={TopLeft:0,TopRight:1,BottomLeft:2,BottomRight:3,TopCenter:4,MidRight:5,BottomCenter:6,MidLeft:7,Point:8,TextSelectionStart:9,TextSelectionEnd:10,Callout:11};IPCC.ah.aD.prototype.Tp=0;IPCC.ah.aD.prototype.Uc=1;IPCC.ah.aD.prototype.Ga=2;IPCC.ah.aD.prototype.Kh=3;IPCC.ah.aD.prototype.Te=4;IPCC.ah.aD.prototype.acU=function(dB,aCK){switch(aCK){case IPCC.ah.aD.le.TopLeft:dB.be.className='pccMarkHandleTopLeft';break;case IPCC.ah.aD.le.TopCenter:dB.be.className='pccMarkHandleTopCenter';break;case IPCC.ah.aD.le.TopRight:dB.be.className='pccMarkHandleTopRight';break;case IPCC.ah.aD.le.MidLeft:dB.be.className='pccMarkHandleMidLeft';break;case IPCC.ah.aD.le.MidRight:dB.be.className='pccMarkHandleMidRight';break;case IPCC.ah.aD.le.BottomLeft:dB.be.className='pccMarkHandleBottomLeft';break;case IPCC.ah.aD.le.BottomCenter:dB.be.className='pccMarkHandleBottomCenter';break;case IPCC.ah.aD.le.BottomRight:dB.be.className='pccMarkHandleBottomRight';break;case IPCC.ah.aD.le.Point:dB.be.className='pccMarkHandlePoint';break;case IPCC.ah.aD.le.TextSelectionStart:dB.be.className='pccMarkHandleTextSelectionStart';break;case IPCC.ah.aD.le.TextSelectionEnd:dB.be.className='pccMarkHandleTextSelectionEnd';break;default:dB.be.className='pccMarkHandlePoint';break;}};IPCC.ah.aD.prototype.zf=function(dB,ayc,lu,Ee,nL){dB.aT=lu.transform(ayc);dB.be.style.left=(dB.aT.x-Ee/2)+'px';dB.be.style.top=(dB.aT.y-Ee/2)+'px';dB.be.style.display='block';dB.be.style.zIndex='1';this.acU(dB,nL);};IPCC.ah.aD.prototype.aeU=function(dB,Ee,nL){dB.be.style.left=(dB.aT.x-Ee/2)+'px';dB.be.style.top=(dB.aT.y-Ee/2)+'px';dB.be.style.display='block';dB.be.style.zIndex='1';this.acU(dB,nL);};IPCC.ah.aD.prototype.uI=function(dB){dB.be.style.display='none';};IPCC.ah.aD.prototype.acB=function(cX,lu){cX.ho.style.cursor=IPCC.bi.eU(this.aB.EV());var F,J=cX.J,dC=cX.dC,dB;var fa,V,ob,jQ,vZ,ed;var hH,Fu,ek,eZ,Nl;switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:case IPCC.Web.UI.MarkType.Polyline:fa=this.Kn(J);Fu=fa.length+2-dC.length;if(Fu>0){cX.dC=cX.dC.concat(this.wA(cX.ho,Fu,this.fO,this.Ga,dC.length-2,IPCC.bi.Move));dC=cX.dC;}for(F=0;F<fa.length;F++){this.zf(dC[F+2],fa[F],lu,this.fO,IPCC.ah.aD.le.Point);}for(F=fa.length+2;F<dC.length;F++){this.uI(dC[F+2]);}break;case IPCC.Web.UI.MarkType.Polygon:fa=this.Kn(J);Fu=fa.length-dC.length;if(Fu>0){cX.dC=cX.dC.concat(this.wA(cX.ho,Fu,this.fO,this.Ga,dC.length,IPCC.bi.Move));dC=cX.dC;}for(F=0;F<fa.length;F++){this.zf(dC[F],fa[F],lu,this.fO,IPCC.ah.aD.le.Point);}for(F=fa.length;F<dC.length;F++){this.uI(dC[F]);}break;case IPCC.Web.UI.MarkType.Freehand:V=J.fF();ob=lu.transform({x:V.x,y:V.y});jQ=lu.transform({x:V.x+V.width,y:V.y+V.height});ed={x:Math.min(ob.x,jQ.x),y:Math.min(ob.y,jQ.y)};ed.width=Math.max(ob.x,jQ.x)-ed.x;ed.height=Math.max(ob.y,jQ.y)-ed.y;cX.hU.style.left=ed.x+'px';cX.hU.style.top=ed.y+'px';cX.hU.style.width=ed.width+'px';cX.hU.style.height=ed.height+'px';cX.hU.setAttribute('data-pcc-mark','outline-'+J.iL());break;case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:if(J.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&J.cI!==undefined){break;}V=J.fF();dC[0].aT=lu.transform({x:V.x,y:V.y});dC[1].aT=lu.transform({x:V.x+V.width,y:V.y});dC[2].aT=lu.transform({x:V.x+V.width,y:V.y+V.height});dC[3].aT=lu.transform({x:V.x,y:V.y+V.height});ed={x:Math.min(dC[0].aT.x,dC[2].aT.x),y:Math.min(dC[0].aT.y,dC[2].aT.y)};ed.width=Math.max(dC[0].aT.x,dC[2].aT.x)-ed.x;ed.height=Math.max(dC[0].aT.y,dC[2].aT.y)-ed.y;Nl={x:ed.x+ed.width/2,y:ed.y+ed.height/2};for(F=0;F<4;F++){dB=dC[F];vZ=(dB.aT.x<Nl.x)?((dB.aT.y<Nl.y)?0:2):((dB.aT.y<Nl.y)?1:3);this.aeU(dB,this.fO,vZ);switch(vZ){case 0:dB.ab=IPCC.bi.ResizeNW;break;case 1:dB.ab=IPCC.bi.ResizeNE;break;case 2:dB.ab=IPCC.bi.ResizeSW;break;case 3:dB.ab=IPCC.bi.ResizeSE;break;}}cX.hU.style.left=ed.x+'px';cX.hU.style.top=ed.y+'px';cX.hU.style.width=ed.width+'px';cX.hU.style.height=ed.height+'px';cX.hU.setAttribute('data-pcc-mark','outline-'+J.iL());var ayt=ed.x+ed.width/4;var asF=ed.x+ed.width*3/4;var axK=ed.y+ed.height/4;var atk=ed.y+ed.height*3/4;if(this.aB.Ar()===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){ob=dC[0].aT;jQ=dC[1].aT;var awA=dC[2].aT;ek=ob.x-jQ.x;eZ=jQ.y-awA.y;var azW=ek*ek;var azQ=eZ*eZ;if(Math.min(azW,azQ)<this.fO*this.fO*5){this.uI(dC[0]);this.uI(dC[1]);this.uI(dC[2]);this.uI(dC[3]);}}for(F=4;F<8;F++){dB=dC[F];ob=dB.amD.aT;jQ=dB.amu.aT;ek=ob.x-jQ.x;eZ=ob.y-jQ.y;hH=ek*ek+eZ*eZ;if(this.aB.Ar()===IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose&&hH<this.fO*this.fO*5){this.uI(dB);}else{dB.aT={x:(ob.x+jQ.x)/2,y:(ob.y+jQ.y)/2};this.aeU(dB,this.fO,F);if(dB.aT.x<ayt){dB.ab=IPCC.bi.ResizeW;}else if(dB.aT.x>asF){dB.ab=IPCC.bi.ResizeE;}else if(dB.aT.y<axK){dB.ab=IPCC.bi.ResizeN;}else if(dB.aT.y>atk){dB.ab=IPCC.bi.ResizeS;}}}if(J.get_type()===IPCC.Web.UI.MarkType.Text){if(J.zn){this.zf(dC[8],{x:V.x+J.nz.x,y:V.y+J.nz.y},lu,this.fO,IPCC.ah.aD.le.Callout);}else{this.uI(dC[8]);}}break;case IPCC.Web.UI.MarkType.DocumentHyperlink:return;case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextSelectionRedaction:var dV,hz,Cz;var GX=this.T.dJ();var fr=GX.ey();if(J.jH===true){Cz=J.ao;if(Cz>=fr.fb()){dV=fr.lf(fr.fb()-1);hz=dV.wd();this.zf(dC[0],new IPCC.Web.UI.Point(hz.x+hz.width,hz.y),lu,this.fO,IPCC.ah.aD.le.TextSelectionStart);break;}dV=fr.lf(J.ao);hz=dV.wd();this.zf(dC[0],new IPCC.Web.UI.Point(hz.x,hz.y),lu,this.fO,IPCC.ah.aD.le.TextSelectionStart);}else{this.uI(dC[0]);}if(J.km===true){Cz=J.ao+J.cF-1;if(Cz<0){dV=fr.lf(0);hz=dV.wd();this.zf(dC[1],new IPCC.Web.UI.Point(hz.x,hz.y+hz.height),lu,this.fO,IPCC.ah.aD.le.TextSelectionEnd);break;}dV=fr.lf(Cz);hz=dV.wd();this.zf(dC[1],new IPCC.Web.UI.Point(hz.x+hz.width,hz.y+hz.height),lu,this.fO,IPCC.ah.aD.le.TextSelectionEnd);}else{this.uI(dC[1]);}break;}if(J.get_type()===IPCC.Web.UI.MarkType.Text||J.get_type()===IPCC.Web.UI.MarkType.TextLine){var vy=dC[dC.length-1];if(vy.be.className.match(/pcc/)){var SQ=cX.hU.clientHeight;var Ug=cX.hU.clientWidth;var akM=cX.hU.offsetTop;var akn=cX.hU.offsetLeft;var aio=vy.be.clientHeight;var Ti=vy.be.clientWidth;vy.be.style.position='absolute';vy.be.style.zIndex='2';if(SQ>aio+10&&Ug>Ti+10){vy.be.style.top=(SQ-aio)/2+akM+'px';vy.be.style.left=(Ug-Ti)/2+akn+'px';}else{vy.be.style.top=SQ+akM+10+'px';vy.be.style.left=(Ug-Ti)/2+akn+'px';}}}this.aqK(cX);};IPCC.ah.aD.prototype.aaB=function(hk,wC){var axq=IPCC.bb.aaA(hk,wC||'#ffffff'),ats=IPCC.bb.map(axq,function(aS){return{ao:aS.startIndex,ds:aS.endIndex,Gb:aS.color};});return ats;};IPCC.ah.aD.prototype.adL=function(K){var J=K.J;if(J.fN){var ki=this.aaB(J.fN);var Ge=J.al;var CC='';for(var F=ki.length-1;F>=0;F--){var VK=ki[F];var ao=VK.ao;var ds=VK.ds;var fp=VK.Gb;var cu=IPCC.bb.Fa(Ge.substr(ao,ds-ao+1));var apt=IPCC.bb.Fa(Ge.substr(ds+1,Ge.length-ds+1));Ge=Ge.substr(0,ao);CC="<span style='background-color:"+fp+";'>"+cu+'</span>'+apt+CC;}CC=IPCC.bb.Fa(Ge)+CC;CC=CC.replace(/\n/g,'<br/>');K.cv.innerHTML=CC;}else{K.st.data=J.al;}};IPCC.Web.UI.ImGearDocumentHyperlink=function(kP){var ae=0,fv=0,aa=0,dj=0,qn=kP.href||"",art=kP.borderStyle||"Solid",qs=kP.borderThickness||0,AB=kP.borderPattern||[1],Fh=kP.borderHorizontalRadius||0,Gj=kP.borderHorizontalRadius||0,sI=kP.borderColor||"#0000FF",nF=kP.borderOpacity||255,V,J;if(typeof nF==='string'){nF=parseInt(nF,10);}if(kP.rectangle){ae=kP.rectangle.x;fv=kP.rectangle.y;aa=kP.rectangle.width;dj=kP.rectangle.height;}V=new IPCC.Web.UI.Rectangle(ae,fv,aa,dj);this.fF=function(){var Wi=new IPCC.Web.UI.Rectangle(V.x,V.y,V.width,V.height);return Wi;};this.Gh=function(nj){V.x=nj.x;V.y=nj.y;V.width=nj.width;V.height=nj.height;};this.ahS=function(){return qn;};this.aBA=function(){return art;};this.aCJ=function(){return qs;};this.aCv=function(){return AB;};this.aBm=function(){return Fh;};this.aBz=function(){return Gj;};this.aBh=function(){return sI;};this.aBT=function(){return nF;};this.RM=function(){return J;};this.azG=function(axp){J=axp;};};IPCC.Web.UI.ImGearTextCharacter=function(ae,fv,aa,dj,AC,awe){this.bQ=new IPCC.Web.UI.Rectangle(ae,fv,aa,dj);this.jO=AC;this.GM=awe;this.aBG=function(){return AC;};this.wd=function(){var Wi=new IPCC.Web.UI.Rectangle(this.bQ.x,this.bQ.y,this.bQ.width,this.bQ.height);return Wi;};this.aGj=function(){return this.GM;};};IPCC.Web.UI.ImGearTextCharacterCollection=function(){var hM=[];this.ari=function(mB){hM.push(new IPCC.Web.UI.ImGearTextCharacter(mB.bQ.x,mB.bQ.y,mB.bQ.width,mB.bQ.height,mB.jO,mB.GM));};this.aDU=function(anB){function np(mB){hM.push(mB);};anB.forEach(np,{});};this.aGa=function(bh,abV){var ba;var cT=hM.length;if(bh>hM.length||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh,'index of theText Character Collection is out of range');}for(ba=0;ba<cT;ba++){if(hM[ba]===abV){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same al Character instance in a mB collection).');}}hM.splice(bh,0,abV);};this.awF=function(adT,aeK){IPCC.bb.forEach(hM,function(jO){jO.bQ.width=jO.bQ.width*adT;jO.bQ.height=jO.bQ.height*aeK;jO.bQ.x=jO.bQ.x*adT;jO.bQ.y=jO.bQ.y*aeK;});};this.nl=function(od,cC){var Ui=[].concat(hM);var F;for(F=0;F<Ui.length;F++){od.call(cC,new IPCC.Web.UI.ImGearTextCharacter(Ui[F].x,Ui[F].y),F,this);}};function ma(bh){if(bh>hM.length-1||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh);}};this.lf=function(bh){ma(bh);var we=hM[bh];return new IPCC.Web.UI.ImGearTextCharacter(we.bQ.x,we.bQ.y,we.bQ.width,we.bQ.height,we.jO,we.GM);};this.aFn=function(bh,mB){ma(bh);var ET=hM[bh];if(ET.bQ.x===mB.bQ.x&&ET.bQ.y===mB.y&&ET.bQ.width===mB.bQ.width&&ET.bQ.height===mB.bQ.height&&ET.jO===mB.jO&&ET.GM===mB.GM){return;}hM[bh]=mB;};this.fb=function(){return hM.length;};this.aEo=function(bh){ma(bh);hM.splice(bh,1);};this.aDZ=function(){if(hM.length<1){return;}hM=[];};return this;};IPCC.Web.UI.ImGearHyperlinkCollection=function(){var GK=[];this.ara=function(aul){GK.push(aul);};this.dm=function(){return GK.length;};this.nl=function(od,cC){IPCC.bb.forEach(GK,od,cC);};this.atZ=function(){if(GK.length<1){return;}GK=[];};return this;};IPCC.Web.UI.ImGearHyperlinkPage=function(){var GT=new IPCC.Web.UI.ImGearHyperlinkCollection();this.JT=function(){return GT;};};IPCC.Web.UI.ImGearTextPage=function(){var anc=new IPCC.Web.UI.ImGearTextCharacterCollection();var Wy=false;var abQ=false;var Tj="";var vq=new IPCC.Web.UI.ImGearTextSectionCollection();this.ey=function(){return anc;};this.nm=function(){return Wy;};this.QM=function(L){abQ=true;if(L===Wy){return;}if((L===true)||(L===false)){Wy=L;}};this.Ai=function(){return abQ;};this.EG=function(){return Tj;};this.aBK=function(L){if(L===Tj){return;}Tj=L;};this.abn=function(){return vq;};};IPCC.Web.UI.ImGearTextSection=function(){var V=null;var ao=0;var ds=0;this.fF=function(){return V;};this.Gh=function(L){V=L;};this.aiS=function(){return ao;};this.aAK=function(L){ao=L;};this.ahO=function(){return ds;};this.aEG=function(L){ds=L;};};IPCC.Web.UI.ImGearTextSectionCollection=function(){var vq=[];this.agx=function(hS){vq.push(hS);};function ma(bh){if(bh>vq.length-1||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh);}};this.aBB=function(bh){ma(bh);return vq[bh];};this.fb=function(){return vq.length;};return this;};IPCC.Type.registerNamespace('IPCC.Web.UI');IPCC.Web.UI.ImGearThumbnailLayout=function(){};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.Web.UI.ImGearThumbnailLayout.registerEnum('IPCC.Web.UI.ImGearThumbnailLayout',false);IPCC.Web.UI.ImGearThumbnailSelectionMode=function(){};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearThumbnailSelectionMode.prototype={Single:1,Multiple:2};IPCC.Web.UI.ImGearThumbnailSelectionMode.registerEnum('IPCC.Web.UI.ImGearThumbnailSelectionMode',false);IPCC.Web.UI.ImGearPageCountStatus=function(){};IPCC.Web.UI.ImGearPageCountStatus.registerEnum=IPCC.Web.regEnum;IPCC.Web.UI.ImGearPageCountStatus.prototype={UnRequested:0,RequestPending:1,Known:2,Failed:3};IPCC.Web.UI.ImGearPageCountStatus.registerEnum('IPCC.Web.UI.ImGearPageCountStatus',false);IPCC.Web.UI.ImGearPageCreateArgs=function(){};IPCC.Web.UI.ImGearPageCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCreateArgs.prototype={};IPCC.Web.UI.ImGearPageCreateArgs.registerClass('IPCC.Web.UI.ImGearPageCreateArgs');IPCC.Web.UI.ImGearPage=function(bL){this.aG=undefined;var bI=0;var ai=0,amO=0,anb=0;var bE=0,alz=0,akK=0;var FU='';var pd=false;var C=this;var aO=new IPCC.Web.UI.gv();this.fP=undefined;this.aDv=undefined;this.hn={ud:0,amA:false,ue:1000,Ss:false};var ir=new IPCC.Web.UI.ImGearTextPage();var Nt=new IPCC.Web.UI.ImGearHyperlinkPage();var lV=0;var ll=false;var IH=false,LD=0,Ly=0;function afP(o){return!isNaN(o-0);};if(bL.pageNumber!==undefined){if(afP(bL.pageNumber)){bI=bL.pageNumber;}else{throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException("pageNumber","",'The value must be a number.');}}if(bL.caption!==undefined){IPCC.bU.aE(bL.caption,'caption','string');FU=bL.caption;}var Gy;if(bL.Gy!==undefined){if(bL.textData.text&&bL.textData.rectangles){Gy=bL.textData;}}if(bL.selected!==undefined){pd=bL.selected;}this.lW=function(){return bI;};this.aCX=function(L){if(afP(bL.pageNumber)){bI=L;}};this.lG=function(){return ai;};function agv(){var ary=ir.ey();var qW=ai/LD,qJ=bE/Ly;ary.awF(qW,qJ);};function agN(){var GT=Nt.JT();var qW=ai/LD,qJ=bE/Ly;GT.nl(function(iH){iH.Gh(iH.fF().scale(qW,qJ));var afs=iH.RM();afs.set_rectangle(afs.get_rectangle().scale(qW,qJ));});};this.Jw=function(L){ai=L;if(IH&&ai&&ai!==LD&&bE&&bE!==Ly){agv();agN();IH=false;}};this.nh=function(){return bE;};this.IK=function(L){bE=L;if(IH&&ai&&ai!==LD&&bE&&bE!==Ly){agv();agN();IH=false;}};this.aEA=function(){return amO;};this.aAT=function(L){amO=L;};this.aEw=function(){return alz;};this.azd=function(L){alz=L;};this.aDK=function(){return anb;};this.aDh=function(L){anb=L;};this.aEk=function(){return akK;};this.aDC=function(L){akK=L;};this.Pe=function(){return pd;};this.Pf=function(L){if(pd!==L){pd=L;this.aM('selected');}};this.Zi=function(){return FU;};this.abc=function(L){IPCC.bU.iG(L,'caption');FU=L;this.aM('caption');};this.aBw=function(){return this.aG;};this.dJ=function(){return ir;};this.hL=function(){return lV;};this.sl=function(L){if(lV===L){return;}if(isNaN(L)){return;}lV=L;this.aM('serviceResponseTimeout');};this.eD=function(){return ll;};this.im=function(L){ll=L;};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.tL=function(G){aO.addHandler('textPageReady',G);};this.xD=function(G){aO.removeHandler('textPageReady',G);};this.agc=function(){return Nt;};this.Xs=function(G){aO.addHandler('hyperlinkPageReady',G);};this.abW=function(G){aO.removeHandler('hyperlinkPageReady',G);};this.Cu=function(G){aO.cq('textExtractionFailed',G);};this.AX=function(G){aO.bZ('textExtractionFailed',G);};this.aag=function(gp){if(ai===0&&bE===0){IH=true;LD=gp.width;Ly=gp.height;}};this.acO=function(gp){if(ir.ey().fb()>0){return;}else if(gp.errorCode==="1"||gp.errorCode===1){var FZ=new IPCC.Web.UI.ImGearException(gp.errorDescription,{name:'Text Extraction'});var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=FZ;dI.pageNumber=C.get_pageNumber();C.bo('textExtractionFailed',dI);return;}var aqX=ir.ey();var Rc=false;var adc;function Fa(XV){return XV;};var qJ=1;var qW=1;if(gp.height&&gp.height>0&&bE>0){if(gp.height!==bE){qJ=bE/gp.height;}}if(gp.width&&gp.width>0&&ai>0){if(gp.width!==ai){qW=ai/gp.width;}}var hS;var adi= -1;var Ry;var iw,AC;for(var F=0;F<gp.rectangles.length;F++){iw=gp.rectangles[F];AC=Fa(gp.text[F]);Rc=false;if(iw[2]===0){AC="\n";Rc=true;if(F>0){adc=gp.rectangles[F-1];iw[2]=adc[2];}}if(qW===1&&qJ===1){Ry=new IPCC.Web.UI.ImGearTextCharacter(iw[0],iw[1],iw[2],iw[3],AC,Rc);}else{Ry=new IPCC.Web.UI.ImGearTextCharacter(iw[0]*qW,iw[1]*qJ,iw[2]*qW,iw[3]*qJ,AC,Rc);}if(Ry){aqX.ari(Ry);}if(hS===undefined||adi!==iw[1]||iw[0]<hS.fF().x){if(hS){ir.abn().agx(hS);}hS=new IPCC.Web.UI.ImGearTextSection();hS.Gh(new IPCC.Web.UI.Rectangle(iw[0],iw[1],iw[2],iw[3]));hS.aAK(F);}else{if(iw[0]+iw[2]-hS.fF().x>hS.fF().width){hS.fF().width=iw[0]+iw[2]-hS.fF().x;}}hS.aEG(F);adi=iw[1];}if(hS){ir.abn().agx(hS);}ir.aBK(gp.text);if(gp.text.length>0){ir.QM(true);C.bo('textPageReady',{pageNumber:C.lW(),containsText:true});}else{ir.QM(false);C.bo('textPageReady',{pageNumber:C.lW(),containsText:false});}};this.adR=function(aga,OE,Np){if(!aga){return;}Nt.JT().atZ();var qJ=1;var qW=1;if(OE&&OE>0&&bE>0){if(OE!==bE){qJ=bE/OE;}}if(Np&&Np>0&&ai>0){if(Np!==ai){qW=ai/Np;}}IPCC.bb.forEach(aga,function(agp){var iH;switch(agp.markType){case "DocumentHyperlink":iH=new IPCC.Web.UI.ImGearDocumentHyperlink(agp.properties);iH.Gh(iH.fF().scale(qW,qJ));Nt.JT().ara(iH);break;default:break;}});C.bo('hyperlinkPageReady',{pageNumber:C.lW()});};this.aBq=function(){C.Aq();};this.Aq=function(){if(!C.aG){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must add this Page to a valid ImGearDocument object which has a valid ImageServicePath property.');}if(ir.Ai()){return;}var Nx=true;if(C.hL()===0){Nx=false;}var eP,iC,jN=false;if(window.XMLHttpRequest){eP=new XMLHttpRequest();}function MA(al){if(al.pages){var aH;if(al.pages.length>0){if(al.pages[0].number!==C.lW()){for(var F=0;F<al.pages.length;F++){if(al.pages[F].number===C.lW()){aH=F;break;}}if(!aH){C.hn.Ss=false;return;}}else{aH=0;}var gp=al.pages[aH];C.hn.Ss=true;if(al.pages[aH].text&&al.pages[aH].text.length>0){ir.QM(true);}else{ir.QM(false);}C.hn.ue=1000;setTimeout(function(){C.aag(gp);C.acO(gp);C.adR(gp.markup,gp.height,gp.width);},10);return;}}var qp=C.hn.ue;if(!C.hn.Ss){if(C.hn.ud<6){if(C.hn.ud<2){qp=qp+1000;}else{qp=qp+3000;}C.hn.ud++;C.hn.ue=qp;setTimeout(C.aBq,qp);}else{C.hn.amA=true;}}};function Vl(){var gT=C.aG.gT;try{var da;var aU;if(eP.readyState===0||eP.readyState===4){da=eP.status;if(eP.status===200){if(Nx===true){if(iC){clearTimeout(iC);}}aU=null;var gZ;var mb=eP.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'){var rR=IPCC.Web.fR.oE.rK(eP.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,gT);var dw=IPCC.Web.Fk(eP);var sM=IPCC.Web.Ba(dw,aI,gT);gZ=IPCC.Web.fR.Cn.mW(sM);}else{gZ=eP.responseText;}if(typeof JSON!=='undefined'){aU=JSON.parse(gZ);}else{aU=IPCC.cJ.pu(gZ);}MA(aU);}else if((da<200)||(da>=300)){if(Nx===true){if(iC){clearTimeout(iC);}}if(jN){throw new IPCC.Web.UI.ImGearHttpException(da,"Text extraction timeout");}else{if(eP.statusText){throw new IPCC.Web.UI.ImGearHttpException(da,"Unable to obtain text, Error from the service = "+eP.statusText);}else{throw new IPCC.Web.UI.ImGearHttpException(da,"Unable to obtain text from the service");}}}}}catch(e){var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;dI.pageNumber=C.get_pageNumber();C.bo('textExtractionFailed',dI);return;}};var ao=C.get_pageNumber();var kw=C.aG.get_documentIdentifier();if(!(/^[\x00-\x7F]*$/.test(kw))){kw='e'+C.aG.get_encodedDocumentIdentifier();}else{kw='u'+encodeURIComponent(kw);}var hb=C.aG.oj;var me=C.aG.me;if(C.eD()){eP.open('GET',hb+'/Document/q/'+ao.toString()+'-'+ao.toString()+'/Text?DocumentID='+kw+'&iv='+me,true);}else{eP.open('GET',hb+'/Document/q/'+ao.toString()+'-'+ao.toString()+'/Text?DocumentID='+kw,true);}eP.responseType='text';eP.setRequestHeader("accept","application/json");eP.onreadystatechange=Vl;if(Nx===true){iC=setTimeout(function(){jN=true;eP.abort();},C.hL());}eP.send();};this.dJ=function(){return ir;};this.aya=function(L){if(typeof L.nm!=='function'){return;}ir=L;};this.Zd=function(AP,AD){var C=this;if(C.lG()>0||C.nh()>0){AP(C.lG(),C.nh());}else{var rz=IPCC.ht.so(C.aG.get_documentIdentifier());if(!rz||rz===""){AD("Invalid encoded Identifier");}var aN=new XMLHttpRequest();var aU;var lN=function(){if(aN.readyState===4){var iJ=aN.status;if(iJ===200){if(typeof JSON!=='undefined'){aU=JSON.parse(aN.responseText);}else{aU=IPCC.cJ.pu(aN.responseText);}if(aU.imageWidth&&aU.imageHeight){AP(aU.imageWidth,aU.imageHeight);}else{AD("Unable to obtain document information from the server");}}else if((iJ<200)||(iJ>=300)){AD("Unable to obtain document information from the server");}}};var sN='';if(!IPCC.wU.Av()){sN='&ContentType=png';}var dc;if(!(/^[\x00-\x7F]*$/.test(rz))){dc=C.aG.oj+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=e'+rz+sN;}else{dc=C.aG.oj+'/Page/q/'+(C.get_pageNumber())+'/Attributes?DocumentID=u'+encodeURIComponent(C.aG.get_documentIdentifier())+sN;}aN.open('GET',dc,true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=lN;aN.send();}};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){try{G(C,R);}catch(e){IPCC.fL.Pu('event raise, ImGearPage, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPage.prototype={get_pageNumber:function(){var H=this.lW();return H;},get_pageWidth:function(){var H=this.lG();return H;},get_pageHeight:function(){var H=this.nh();return H;},get_textPage:function(){var H=this.dJ();return H;},get_selected:function(){var H=this.Pe();return H;},set_selected:function(value){this.Pf(value);},get_caption:function(){var H=this.Zi();return H;},set_caption:function(value){this.abc(value);},get_encryption:function(){var H=this.eD();return H;},set_encryption:function(value){this.im(value);},get_hyperlinkPage:function(){return this.agc();},get_document:function(){var H=this.aBw();return H;},add_propertyChanged:function(handler){this.iz(handler);},remove_propertyChanged:function(handler){this.lA(handler);},requestPageAttributes:function(attributesRetrievedCallback,attributesRetrievalFailedCallback){this.Zd(attributesRetrievedCallback,attributesRetrievalFailedCallback);}};IPCC.Web.UI.ImGearPage.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPage.registerClass('IPCC.Web.UI.ImGearPage');IPCC.Web.UI.ImGearPageEventArgs=function(){return this;};IPCC.Web.UI.ImGearPageEventArgs.prototype={};IPCC.Web.UI.ImGearPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageEventArgs.registerClass('IPCC.Web.UI.ImGearPageEventArgs');IPCC.Web.UI.ImGearPageCollection=function(){var C=this;var cQ=[];var aO=new IPCC.Web.UI.gv();this.alc=false;this.amE=true;this.aG=undefined;this.agB=function(bw){this.agr(cQ.length,bw);};function ma(bh){if(bh>cQ.length-1||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh,'page index is out of range in the page collection');}};this.agr=function(bh,bw){var ba;var cT=cQ.length;if(bh>cQ.length||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh,'index of the page Collection is out of range');}if(C.amE&&C.alc){if(cT>0){throw new IPCC.Web.UI.ImGearInvalidOperationException('You must first remove the existing selected page before adding a new one to the selected page collection).');}}for(ba=0;ba<cT;ba++){if(cQ[ba]===bw){throw new IPCC.Web.UI.ImGearInvalidOperationException('You cannot duplicate same page instance in a page collection).');}}if(C.aG){if(!bw.aG){bw.aG=C.aG;}}bw.add_propertyChanged(CR);cQ.splice(bh,0,bw);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=bw;R.length=1;C.bo('pageAdded',R);};this.kX=function(bh){ma(bh);var hw=cQ[bh];return hw;};this.azm=function(bh,bw){ma(bh);var Qt=cQ[bh];if(Qt===bw){return;}cQ[bh]=bw;var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=bw;R.length=1;this.bo('pageAdded',R);Qt.remove_propertyChanged(CR);var BF=new IPCC.Web.UI.ImGearPageEventArgs();BF.imGearPage=Qt;BF.length=1;this.bo('pageRemoved',BF);};this.fb=function(){return cQ.length;};this.nl=function(od,cC){var aaq=[].concat(cQ);var F;for(F=0;F<aaq.length;F++){od.call(cC,aaq[F],F,this);}};this.adC=function(bh){ma(bh);var R=new IPCC.Web.UI.ImGearPageEventArgs();R.imGearPage=cQ[bh];cQ[bh].remove_propertyChanged(CR);R.length=1;cQ.splice(bh,1);C.bo('pageRemoved',R);};this.aCC=function(bw){var dm=cQ.length;for(var F=0;F<dm;F++){if(bw===cQ[F]){return F;}}return-1;};this.auD=function(){var F=0;while(cQ.length>0){this.adC(F);}};function CR(bz,R){var BF=new IPCC.Web.UI.ImGearPageEventArgs();BF.imGearPage=bz;BF.length=1;C.bo('pageChanged',BF);};this.Fl=function(G){aO.addHandler('pageAdded',G);};this.IZ=function(G){aO.removeHandler('pageAdded',G);};this.Hx=function(G){aO.addHandler('pageChanged',G);};this.Ko=function(G){aO.removeHandler('pageChanged',G);};this.Hm=function(G){aO.addHandler('pageRemoved',G);};this.Lj=function(G){aO.removeHandler('pageRemoved',G);};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){try{G(C,R);}catch(e){IPCC.fL.Pu('raise event error in ImGearPageCollection, Error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearPageCollection.prototype={addPage:function(page){this.agB(page);},insertPage:function(index,page){this.agr(index,page);},forEach:function(method,context){this.nl(method,context);},getPage:function(index){return this.kX(index);},setPage:function(index,page){this.azm(index,page);},get_length:function(){return this.fb();},removePage:function(index){this.adC(index);},removeAllPages:function(){this.auD();},add_pageAdded:function(handler){this.Fl(handler);},remove_pageAdded:function(handler){this.IZ(handler);},add_pageChanged:function(handler){this.Hx(handler);},remove_pageChanged:function(handler){this.Ko(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.Lj(handler);}};IPCC.Web.UI.ImGearPageCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearPageCollection.registerClass('IPCC.Web.UI.ImGearPageCollection');IPCC.Web.UI.ImGearDocumentCreateArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCreateArgs.prototype={};IPCC.Web.UI.ImGearDocumentCreateArgs.registerClass('IPCC.Web.UI.ImGearDocumentCreateArgs');IPCC.Web.UI.ImGearDocument=function(bL){var jV='';var gB='';var C=this;this.cQ=new IPCC.Web.UI.ImGearPageCollection();this.pw=undefined;this.cQ.aG=this;var Qr=false;this.oj=undefined;var eB=0;var Qd=IPCC.Web.UI.ImGearPageCountStatus.UnRequested;var FU;var aO=new IPCC.Web.UI.gv();this.gT=IPCC.Web.ot.aat(4,IPCC.Web.PM());this.me=IPCC.Web.fR.EH.mW(this.gT);var GC=[];var mt=0;var lY=[];var BP=[];var hn={startPage:0,lastPage:0,requestCount:0,stopRequests:false,lastTimeout:1000};var Sr=false;this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){try{G(C,R);}catch(e){IPCC.fL.Pu('raise event error in ImGearDocument, error: '+e.message);IPCC.fL.iX(e.message,IPCC.Web.UI.ImGearDocument,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument','');}}};function HD(bz,R){if(R.length>0){C.bo('pageAdded',R);}};function Jr(bz,R){if(R.length>0){C.bo('pageRemoved',R);}};function CR(bz,R){C.bo('pageChanged',R);};this.cQ.add_pageAdded(HD);this.cQ.add_pageRemoved(Jr);this.cQ.add_pageChanged(CR);function atK(){function aux(ei,gG){var bq=ei+'() threw an exception ';if(gG.name){bq+='( '+gG.name+" ";}else{bq+=".";}if(gG.message){bq+="  exception message = "+gG.message;}if(gG.statusCode){bq+="  exception statusCode = "+gG.statusCode;}bq=bq.replace(/\n/g," ");IPCC.fL.iX(bq,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearDocument',"document");};this.O=aux;this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){G(C,R);}};};if(arguments.length===0){var bq="ImGearDocument object creation requires parameters";throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument',bq);}if(arguments.length>0){if(bL.documentIdentifier!==undefined){jV=bL.documentIdentifier;gB=IPCC.ht.so(jV);}if(bL.encodedDocumentIdentifier!==undefined){var nB=bL.encodedDocumentIdentifier;if(bL.documentIdentifier!==undefined){gB=IPCC.ht.so(jV);if(nB!==gB){throw new IPCC.Web.UI.ImGearArgumentException('documentIdentifier','When both are specified, documentIdentifier and encodedImageIdentifier must reference the same document.');}}else{jV=IPCC.ht.IY(bL.encodedDocumentIdentifier);}}if(bL.imageServicePath!==undefined){this.oj=bL.imageServicePath;if(!IPCC.Web.tI){IPCC.Web.MH(this.oj);}}else{throw new IPCC.Web.UI.ImGearArgumentException('ImGearDocument','Document creation requires imageServicePath.');}var uc;if(bL.includeAllPages!==undefined){Qr=bL.includeAllPages;if(Qr===true){var ayg=new atK();var WF=0;C.aQ=new IPCC.ht(gB,0,0,0,0,0);var nx=function(){eB=C.aQ.eB;Qd=IPCC.Web.UI.ImGearPageCountStatus.Known;for(;WF<eB;WF++){var cU=new IPCC.Web.UI.ImGearPage({pageNumber:WF,aG:C});cU.aG=C;C.cQ.addPage(cU);}};Qd=IPCC.Web.UI.ImGearPageCountStatus.RequestPending;try{this.aQ.GQ(this.oj,ayg,nx);}catch(e){Qd=IPCC.Web.UI.ImGearPageCountStatus.Failed;var dI=new IPCC.Web.UI.ImGearPageOpenFailedEventArgs();dI.exception=e;C.bo('pageOpenFailed',dI);throw e;}}}else if(bL.pages!==undefined){if(bL.pages.length>0){var F=0;for(F=0;F<bL.pages.length;F++){var co=bL.pages[F];co.document=this;this.cQ.addPage(co);}}}else if(bL.pageNumber!==undefined){if(bL.pageRangeCount!==undefined){var mI=bL.pageRangeCount;if(mI>0){var aA;for(aA=bL.pageNumber;aA<=mI;aA++){uc=new IPCC.Web.UI.ImGearPage(aA);uc.aG=C;this.cQ.addPage(uc);}}else if(mI===0){uc=new IPCC.Web.UI.ImgearPage({pageNumber:bL.pageNumber,aG:C});uc.aG=C;C.cQ.addPage(uc);}}else{if(bL.selected){uc=new IPCC.Web.UI.ImGearPage({pageNumber:bL.pageNumber,aG:C,selected:true});}else{uc=new IPCC.Web.UI.ImGearPage({pageNumber:bL.pageNumber,aG:C});}uc.aG=C;C.cQ.addPage(uc);}}}this.uN=function(){return jV;};this.zs=function(){return gB;};this.aAR=function(){return this.cQ;};this.aAr=function(){return eB;};this.azN=function(){return Qd;};this.azA=function(){return Qr;};this.aBC=function(L){Qr=L;this.aM('includeAllPages');};var ll=false;this.eD=function(){return ll;};this.im=function(L){ll=L;};this.Fl=function(G){aO.addHandler('pageAdded',G);};this.IZ=function(G){aO.removeHandler('pageAdded',G);};this.Hm=function(G){aO.addHandler('pageRemoved',G);};this.Lj=function(G){aO.removeHandler('pageRemoved',G);};this.Bc=function(G){aO.addHandler('pageOpenFailed',G);};this.CB=function(G){aO.removeHandler('pageOpenFailed',G);};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.Hx=function(G){aO.addHandler('pageChanged',G);};this.Ko=function(G){aO.removeHandler('pageChanged',G);};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};this.Zi=function(){return FU;};this.abc=function(L){FU=L;this.aM('caption');};this.aqO=function(G){aO.addHandler('textPagesReceived',G);};this.ava=function(G){aO.removeHandler('textPagesReceived',G);};this.axy=function(){return BP.length;};this.aAu=function(){return GC.length;};this.aCf=function(){return hn;};this.aiA=function(){return Sr;};this.ayJ=function(L){Sr=L;};this.arD=function(gk){if(hn.stopRequests===true){var R={};R.error=0;R.textPagesReceived=Wq(gk);if(R.textPagesReceived.length===0){if(mt>0&&mt<gk){for(var cc=mt;cc<gk;cc++){R.textPagesReceived.push(cc);}}}R.length=2;C.bo('textPagesReceived',R);return;}var hZ=true;var Ku=false;for(var F=0;F<mt;F++){if(Array.prototype.indexOf){if(GC.indexOf(F)<0){hZ=false;Ku=true;break;}}else{if(IPCC.Web.hh(GC,F)<0){Ku=true;break;}}}if(Ku){C.Kf(F,undefined,gk);}else if(mt<gk){for(var ba=0;ba<gk;ba++){if(Array.prototype.indexOf){if(lY.indexOf(ba)<0){hZ=false;break;}}else{if(IPCC.Web.hh(lY,ba)<0){hZ=false;break;}}}if(!hZ){Ku=true;C.Kf(ba,undefined,gk);}else{C.Kf(mt,undefined,gk);}}else{Ku=false;}};function Wq(gk){var aaU=[],cc;if(lY.length>0){var hZ=true;for(cc=0;cc<gk;cc++){hZ=true;if(Array.prototype.indexOf){if(lY.indexOf(cc)<0){hZ=false;}}else{if(IPCC.Web.hh(lY,cc)<0){hZ=false;}}if(!hZ){lY.push(cc);BP.push(cc);aaU.push(cc);}}}else{for(cc=0;cc<gk;cc++){lY.push(cc);BP.push(cc);aaU.push(cc);}}return aaU;};this.Kf=function(aaJ,aix,gk){Sr=true;var ao;if(!isNaN(aaJ)){ao=aaJ;}else{ao=0;}var DR;if(!isNaN(gk)){DR=gk;}var ds;if(!isNaN(aix)){ds=aix;}else if(!isNaN(DR)){ds=DR-1;}else{DR=gk;if(!isNaN(DR)){ds=DR-1;}}if(isNaN(ds)){ds=ao+1;}if(ds-ao>9){ds=ao+9;}var eP;if(window.XMLHttpRequest){eP=new XMLHttpRequest();}function MA(al){var TA=mt;var SN=[];var hZ=true;var av;for(var bw=0;bw<al.pages.length;bw++){if(Array.prototype.indexOf){if(GC.indexOf(al.pages[bw].number)<0){hZ=false;}}else{if(IPCC.Web.hh(GC,al.pages[bw].number)<0){hZ=false;}}if(!hZ){GC.push(al.pages[bw].number);if(C.cQ.kX(al.pages[bw].number).dJ().Ai()===false){av=C.cQ.kX(al.pages[bw].number);av.aag(al.pages[bw]);av.acO(al.pages[bw]);av.adR(al.pages[bw].markup,al.pages[bw].height,al.pages[bw].width);}mt++;SN.push(al.pages[bw].number);lY.push(al.pages[bw].number);if(!al.pages[bw].text){BP.push(al.pages[bw].number);}}}var R={};if(al.hasOwnProperty("errorCode")){R.error=0;C.pageExtractionFailed=true;R.textPagesReceived=SN;R.length=2;for(var Cv=hn.startPage;Cv<hn.lastPage+1;Cv++){hZ=true;if(Array.prototype.indexOf){if(lY.indexOf(Cv)<0){hZ=false;}}else{if(IPCC.Web.hh(lY,Cv)<0){hZ=false;}}if(!hZ){lY.push(Cv);BP.push(Cv);R.textPagesReceived.push(Cv);}}C.bo('textPagesReceived',R);hn.stopRequests=true;return;}if(mt>TA){R.textPagesReceived=SN;R.length=2;R.error=0;}var qp=hn.lastTimeout;if(hn.startPage===ao&&hn.lastPage===ds&&mt===TA){if(hn.requestCount<25){qp=qp+1000;hn.requestCount++;}else{R.error=0;R.textPagesReceived=[];R.length=2;hZ=true;var cc;for(cc=hn.startPage;cc<hn.lastPage+1;cc++){hZ=true;if(Array.prototype.indexOf){if(lY.indexOf(cc)<0){hZ=false;}}else{if(IPCC.Web.hh(lY,cc)<0){hZ=false;}}if(!hZ){lY.push(cc);BP.push(cc);R.textPagesReceived.push(cc);}}if(R.textPagesReceived.length===0){if(mt>0&&mt<gk){for(cc=mt;cc<gk;cc++){R.textPagesReceived.push(cc);}}}hn.stopRequests=true;C.bo('textPagesReceived',R);return;}}else{qp=1000;hn.requestCount=0;}hn.lastTimeout=qp;hn.startPage=ao;hn.lastPage=ds;setTimeout(function(){C.arD(gk);},qp);if(mt>TA){C.bo('textPagesReceived',R);}};function Vl(){var R={};try{var da;var aU=null;var gZ;if(eP.readyState===0||eP.readyState===4){da=eP.status;if(eP.status===200){var mb=eP.getResponseHeader("Accusoft-Data-Encrypted");if(mb==='true'){var rR=IPCC.Web.fR.oE.rK(eP.getResponseHeader("Accusoft-Data-SK"));var aI=IPCC.Web.EY(rR,C.gT);var dw=IPCC.Web.Fk(eP);var sM=IPCC.Web.Ba(dw,aI,C.gT);gZ=IPCC.Web.fR.Cn.mW(sM);}else{gZ=eP.responseText;}if(typeof JSON!=='undefined'){aU=JSON.parse(gZ);}else{aU=IPCC.cJ.pu(gZ);}MA(aU);}else if((da<200)||(da>=300)){if(eP.responseText){if(typeof JSON!=='undefined'){aU=JSON.parse(eP.responseText);}else{aU=IPCC.cJ.pu(eP.responseText);}if(aU.hasOwnProperty("errorCode")){R.error=0;if(mt>0){if(aU.pages){if(aU.pages.length>0){MA(aU);return;}}}else{R.error= -1;}if(lY.length===0){R.error= -1;}C.pageExtractionFailed=true;R.textPagesReceived=[];R.length=2;R.textPagesReceived=Wq(gk);C.bo('textPagesReceived',R);return;}else{throw new IPCC.Web.UI.ImGearHttpException(da,"Unable to obtain text");}}else{throw new IPCC.Web.UI.ImGearHttpException(da,"Unable to obtain text");}}}}catch(e){R.error= -1;Wq(gk);R.textPagesReceived=[];R.length=2;C.bo('textPagesReceived',R);return;}};var kw=jV;var hb=C.oj;if(!(/^[\x00-\x7F]*$/.test(kw))){kw='e'+gB;}else{kw='u'+kw;}if(C.eD()){eP.open('GET',hb+'/Document/q/'+ao.toString()+'-'+ds.toString()+'/Text?DocumentID='+kw+'&iv='+C.me,true);}else{eP.open('GET',hb+'/Document/q/'+ao.toString()+'-'+ds.toString()+'/Text?DocumentID='+kw,true);}eP.responseType='text';eP.setRequestHeader("accept","application/json");eP.onreadystatechange=Vl;eP.send();};return this;};IPCC.Web.UI.ImGearDocument.encodeDocumentIdentifier=function(jV){var gB;if(jV!==undefined){gB=IPCC.ht.so(jV);}return gB;};IPCC.Web.UI.ImGearDocument.decodeDocumentIdentifier=function(gB){var ahf;if(gB!==undefined){ahf=IPCC.ht.IY(gB);}return ahf;};IPCC.Web.UI.ImGearDocument.prototype={get_documentIdentifier:function(){var H=this.uN();return H;},get_encodedDocumentIdentifier:function(){var H=this.zs();return H;},get_pages:function(){return this.aAR();},get_pageCountStatus:function(){var r=this.azN();return r;},set_pageCountStatus:function(value){this.aEl(value);},get_pageCount:function(){var r=this.aAr();return r;},get_includeAllPages:function(){try{var H=this.azA();return H;}catch(e){throw e;}},set_includeAllPages:function(value){try{this.aBC(value);}catch(e){throw e;}},get_caption:function(){var H=this.Zi();return H;},set_caption:function(value){this.abc(value);},get_encryption:function(){var H=this.eD();return H;},set_encryption:function(value){this.im(value);},add_pageChanged:function(handler){this.Hx(handler);},remove_pageChanged:function(handler){this.Ko(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.Lj(handler);},add_pageAdded:function(handler){this.Fl(handler);},remove_pageAdded:function(handler){this.IZ(handler);},add_pageOpenFailed:function(handler){this.Bc(handler);},remove_pageOpenFailed:function(handler){this.CB(handler);},get_textRequestInfo:function(){try{var H=this.aCf();return H;}catch(e){throw e;}},get_numberOfPagesWithText:function(){try{var H=this.aAu();return H;}catch(e){throw e;}},get_numberOfPagesWithoutText:function(){try{var H=this.axy();return H;}catch(e){throw e;}},add_textPagesReceived:function(handler){try{this.aqO(handler);}catch(e){throw e;}},remove_textPagesReceived:function(handler){try{this.ava(handler);}catch(e){this.O('remove_textPagesReceived',e);throw e;}},add_propertyChanged:function(handler){this.iz(handler);},remove_propertyChanged:function(handler){this.lA(handler);}};IPCC.Web.UI.ImGearDocument.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocument.registerClass('IPCC.Web.UI.ImGearDocument');IPCC.Web.UI.ImGearDocumentEventArgs=function(){return this;};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentEventArgs.prototype={};IPCC.Web.UI.ImGearDocumentEventArgs.registerClass('IPCC.Web.UI.ImGearDocumentEventArgs');IPCC.Web.UI.ImGearDocumentCollection=function(){var ka=[];var aO=new IPCC.Web.UI.gv();var C=this;function anh(bz,R){if(R){var QE=new IPCC.Web.UI.ImGearDocumentEventArgs();QE.document=bz;QE.propertyName=R.get_propertyName();QE.length=2;C.bo('documentChanged',QE);}};this.Hw=function(apq){this.agD(ka.length,apq);};this.agD=function(bh,aG){var ba;var cT=ka.length;if(bh>ka.length||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh,'document index is out of range');}for(ba=0;ba<cT;ba++){if(ka[ba]===aG){throw new IPCC.Web.UI.ImGearInvalidOperationException('The document instance object to be inserted already exists in the collection. You cannot use the same instance of a document object.');}}var aeR=aO.getHandler('pageAdded');if(aeR){aG.add_pageAdded(aeR);}var ael=aO.getHandler('pageRemoved');if(ael){aG.add_pageRemoved(ael);}var aeh=aO.getHandler('pageChanged');if(aeh){aG.add_pageChanged(aeh);}aG.add_propertyChanged(anh);ka.splice(bh,0,aG);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=aG;R.index=bh;R.length=1;this.bo('documentAdded',R);};function ma(bh){if(bh>ka.length-1||(bh<0)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('index',bh,'document index is out of range');}};this.ajw=function(bh){ma(bh);return ka[bh];};this.fb=function(){return ka.length;};this.aEM=function(od,cC){var aaL=[].concat(ka);var F;for(F=0;F<aaL.length;F++){od.call(cC,aaL[F],F,this);}};this.ado=function(bh){ma(bh);var R=new IPCC.Web.UI.ImGearDocumentEventArgs();R.imGearDocument=ka[bh];R.length=1;ka[bh].get_pages().removeAllPages();ka.splice(bh,1);this.bo('documentRemoved',R);};this.aum=function(){var F=0;while(ka.length>0){this.ado(F);}};this.apG=function(G){aO.addHandler('documentAdded',G);};this.auL=function(G){aO.removeHandler('documentAdded',G);};this.apw=function(G){aO.addHandler('documentRemoved',G);};this.atL=function(G){aO.removeHandler('documentRemoved',G);};this.apT=function(G){aO.addHandler('documentChanged',G);};this.auN=function(G){aO.removeHandler('documentChanged',G);};this.Fl=function(G){aO.addHandler('pageAdded',G);};this.IZ=function(G){aO.removeHandler('pageAdded',G);for(var ba=0;ba<ka.length;ba++){ka[ba].remove_pageAdded(G);}};this.Hx=function(G){aO.addHandler('pageChanged',G);};this.Ko=function(G){aO.removeHandler('pageChanged',G);for(var ba=0;ba<ka.length;ba++){ka[ba].remove_pageChanged(G);}};this.Hm=function(G){aO.addHandler('pageRemoved',G);};this.Lj=function(G){aO.removeHandler('pageRemoved',G);for(var ba=0;ba<ka.length;ba++){ka[ba].remove_pageRemoved(G);}};this.bo=function(bS,R){var G=aO.getHandler(bS);if(G!==null){try{G(C,R);}catch(e){IPCC.fL.Pu('event raise, ImGearDocumentCollection, error: '+e.message);}}};return this;};IPCC.Web.UI.ImGearDocumentCollection.prototype={addDocument:function(imGearDocument){this.Hw(imGearDocument);},insertDocument:function(index,imGearDocument){this.agD(index,imGearDocument);},forEach:function(method,context){this.nl(method,context);},getDocument:function(index){return this.ajw(index);},get_length:function(){return this.fb();},removeDocument:function(imGearDocument){this.ado(imGearDocument);},removeAllDocuments:function(){this.aum();},add_documentAdded:function(handler){this.apG(handler);},remove_documentAdded:function(handler){this.auL(handler);},add_documentRemoved:function(handler){this.apw(handler);},remove_documentRemoved:function(handler){this.atL(handler);},add_documentChanged:function(handler){this.apT(handler);},remove_documentChanged:function(handler){this.auN(handler);},add_pageAdded:function(handler){this.Fl(handler);},remove_pageAdded:function(handler){this.IZ(handler);},add_pageRemoved:function(handler){this.Hm(handler);},remove_pageRemoved:function(handler){this.Lj(handler);},add_pageChanged:function(handler){this.Hx(handler);},remove_pageChanged:function(handler){this.Ko(handler);}};IPCC.Web.UI.ImGearDocumentCollection.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearDocumentCollection.registerClass('IPCC.Web.UI.ImGearDocumentCollection');IPCC.Web.UI.jT=function(bL){this.bn=undefined;var aO=new IPCC.Web.UI.gv();this.fP=undefined;this.md=undefined;this.xB=undefined;this.yg=undefined;this.hB=undefined;this.dX=undefined;this.bM=undefined;this.AV=false;this.Dr=0;this.amx=undefined;this.hV=false;this.hs=false;if(arguments.length>0){if(bL.page!==undefined){this.bn=bL.page;}}this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};return this;};IPCC.Web.UI.aEt=function(){this.gi=new IPCC.Web.UI.ImGearPageCollection();this.aDI=0;return this;};IPCC.Web.UI.Thumbnailcounter=1;IPCC.Web.UI.ImGearThumbnailList=function(element){var C=this;var oa='';var Ln=IPCC.Web.UI.ImGearArtDataServices.None;var Aj='';var rm=null;var VH=null;var aue;var aq=[];var oj='';var kB=true;var vB;var aO=new IPCC.Web.UI.gv();var kd=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var PN=IPCC.Web.UI.ImGearThumbnailSelectionMode.Single;var jj='';var oh='';var sJ=0;var rQ=IPCC.Web.UI.ImGearThumbnailLayout.VerticalScrollDirection;var DI=140;var vn=124;var vI='gray';var Om=4;var xf=4;var RK=2;var Qs='#000000';var jr=false;var xi="";var aru=false;this.kW=new IPCC.Web.UI.ImGearDocumentCollection();var gi=new IPCC.Web.UI.ImGearPageCollection();var UC='#FFDA6A';gi.alc=true;var FC=0;var CF=10;var Sq=0;var abA=false;var Vf=0;var Vg;function gr(wG){if(!_debug){return false;}return kd>=wG;};this.O=function(ei,gG){if(!gr(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var bq=ei+'() threw an exception ('+gG.name+'), "'+gG.message+'"';bq=bq.replace(/\n/g," ");IPCC.fL.iX(bq,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.get_igelement().id);};this.bB=function(ei,eg,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=')';this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.wo=function(ei,eg,jp,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.aR=function(ei,eg,jp){if(!gr(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],0);}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kb=function(fS,bD){IPCC.fL.iX(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bD,'ImGearThumbnailList',this.gy().id);};this.iX=function(fS){IPCC.fL.iX(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'ImGearThumbnailList',this.gy().id);};this.sc=function(){return _debug;};this.zK=function(L){var zm= ! !L;if(_debug===zm){return;}_debug=zm;this.aM('debug');};this.nX=function(){return kd;};this.tu=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.DebugErrorLevel);if(kd===L){return;}kd=L;this.aM('debugErrorLevel');};function cq(bS,G){aO.addHandler(bS,G);};function bZ(bS,G){aO.removeHandler(bS,G);};this.iz=function(G){aO.addHandler('propertyChanged',G);};this.lA=function(G){aO.removeHandler('propertyChanged',G);};this.aFj=function(G){cq('thumbnailSelectionChanged',G);};this.aDG=function(G){bZ('thumbnailSelectionChanged',G);};this.aqi=function(G){cq('pageSelectionChanged',G);};this.atU=function(G){bZ('pageSelectionChanged',G);};this.aqZ=function(G){cq('pageAddFailed',G);};this.aua=function(G){bZ('pageAddFailed',G);};var lZ;this.gy=function(){return lZ;};this.pm=function(L){lZ=L;};this.sz=0;this.Gc=0;this.bo=function(bS,R){try{var G=aO.getHandler(bS);if(G!==null){G(C,R);}}catch(e){C.O(bS+'Event',e);}};function rh(){var rM,hv;if(oa!==''){rM=document.getElementById(oa);if(rM){var GL=gi.get_length();var F=0;if(GL>0){hv="{\"selectedPages\":[";for(F=0;F<GL;F++){if(gi.getPage(F)){var ajC=gi.getPage(F).aG.get_encodedDocumentIdentifier();var akB=gi.getPage(F).get_pageNumber();if(ajC){if(akB>=0){if(F>0){hv+=",";}hv+='{\"encodedDocumentIdentifier\":"'+ajC;hv+='",\"pageNumber\":\"'+akB.toString()+"\"";hv+="}";}}}}hv+=']}';}rM.value=hv;}}};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};this.aGc=function(Bx){if(IPCC.Web.UI.Thumbnailcounter===undefined||IPCC.Web.UI.Thumbnailcounter===null){IPCC.Web.UI.Thumbnailcounter=1;}var cD=Bx+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;return cD;};this.aFo=function(auQ){var cD=auQ+'_'+'_tViewId';return cD;};this.VS=function(){if(sJ===undefined||sJ===null){sJ=1;}var cD=(this.gy().id.toString())+'_'+sJ.toString();sJ++;return cD;};this.abP=function(dS){if(IPCC.Web.nq.length>0){if(Array.prototype.indexOf){if(IPCC.Web.nq.indexOf(dS)>=0){return true;}}else{if(IPCC.Web.nq.aDN(dS)>=0){return true;}}}};function Bs(){for(var aA=0;aA<aq.length;aA++){if(aq[aA]){if(aq[aA].hB){aq[aA].hB=false;if(aq[aA].bn){aq[aA].bn.set_selected(false);for(var cz=0;cz<gi.get_length();cz++){if(gi.getPage(cz)===aq[aA].bn){gi.removePage(cz);}}}if(kB===true){document.getElementById(aq[aA].fP).style.backgroundColor=vI;}else{document.getElementById(aq[aA].fP).className='imGearTNItem';}}}}};function ro(Rz,ax,ak){if(ak){if(ak.bn){if(Rz===true){if(ax){ax.className='imGearTNSelected';}ak.bn.set_selected(true);ak.hB=true;}else{if(ax){ax.className='imGearTNItem';}ak.bn.set_selected(false);ak.hB=false;}}}};function pQ(Rz,ax,ak){if(ak){if(ak.bn){if(Rz===true){if(ax){ax.style.backgroundColor=UC;}ak.bn.set_selected(true);ak.hB=true;}else{if(ax){ax.style.backgroundColor=vI;}ak.bn.set_selected(false);ak.hB=false;}}}};function ajI(Rz,ax,ak,nQ){if(kB===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nQ){document.getElementById(nQ.fP).style.backgroundColor=vI;}pQ(true,ax,ak);gi.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){pQ(false,ax,ak);}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nQ){document.getElementById(nQ.fP).className='imGearTNItem';}ro(true,ax,ak);gi.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){ro(true,ax,ak);}}};var ga=0;var auZ=1;var atT=50;function WE(){PA();};function PA(){var F,jT,cw,pf,Az;var tj,sT,afE,aeE;var jZ,qA,om,ya;var Cj=[];var KX,Vj,KK,Wd;if(oh===''){return;}tj=oh.scrollTop;sT=oh.scrollLeft;afE=tj+oh.clientHeight;aeE=sT+oh.clientWidth;for(F=0;F<aq.length;F++){jT=aq[F];if(jT&&jT.md){cw=document.getElementById(jT.fP);jZ=cw.offsetTop;qA=cw.offsetLeft;om=jZ+cw.offsetHeight;ya=qA+cw.offsetWidth;KX=tj-om;Vj=sT-ya;KK=jZ-afE;Wd=qA-aeE;if(KX>=0){Cj.push({jT:jT,Ww:true,qy:KX});}else if(KK<0&&Vj>=0){Cj.push({jT:jT,Ww:true,qy:Vj});}else if(KK>=0){Cj.push({jT:jT,Ww:false,qy:KK});}else if(KX<0&&Wd>=0){Cj.push({jT:jT,Ww:false,qy:Wd});}else{pf=document.getElementById(jT.md);if(pf){Az=pf.aY;Az.zW(0);}}}}Cj.sort(function(a,b){return a.qy-b.qy;});for(F=0;F<Cj.length;F++){jT=Cj[F].jT;pf=document.getElementById(jT.md);if(pf){Az=pf.aY;if(Az){if(F<auZ){Az.zW(0);}else if(F<atT){Az.zW(1);}else{Az.zW(2);}}}}};function Cb(sender,eventArgs){if(eventArgs){if(eventArgs.domEvent.button!==0){return;}}else if(sender.button!==0){return;}var wl;var PB="";var ax,aA;if(sender.id&&sender.id!==null){wl=sender.id.split('_');if(wl!==undefined){if(C.gy().id===wl[0]){PB=sender.id;ax=sender;}}}else{if(sender.target){if(sender.target.tagName==="DIV"){if(sender.target.firstChild!==null){if(sender.target.firstChild.tagName==="DIV"){ax=sender.target;}}}if(!ax){if(sender.target.parentNode){if(sender.target.parentNode.id!==undefined&&sender.target.parentNode.id!==""){wl=sender.target.parentNode.id.split('_');if(wl!==undefined){if(C.gy().id===wl[0]){PB=sender.target.parentNode.id;ax=sender.target.parentNode;}else{return;}}else{return;}}else{if(sender.target.parentNode.parentNode){if(sender.target.parentNode.parentNode.id!==undefined&&sender.target.parentNode.parentNode.id!==""){wl=sender.target.parentNode.parentNode.id.split('_');if(wl!==undefined){if(C.gy().id===wl[0]){PB=sender.target.parentNode.parentNode.id;ax=sender.target.parentNode.parentNode;}else{return;}}else{return;}}}}}}}else{var abE=sender.gy();PB=abE.parentNode.id;ax=abE.parentNode;}}var nQ;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(aA=0;aA<aq.length;aA++){if(aq[aA].hB===true){if(aq[aA].bn){aq[aA].bn.set_selected(false);}if(kB===true){document.getElementById(aq[aA].fP).style.backgroundColor=vI;}else{document.getElementById(aq[aA].fP).className='imGearTNItem';}aq[aA].hB=false;nQ=aq[aA];break;}}}if(ax!==undefined){var wB;var hN;var aez=false;for(aA=0;aA<aq.length;aA++){wB=undefined;if(aq[aA].bn){wB=document.getElementById(aq[aA].fP);if(wB===ax){aez=true;hN=aq[aA];break;}}}if(aez===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===false){Bs();}}else if(sender.ctrlKey){if(sender.ctrlKey===false){Bs();}}else{Bs();}}if(kB===true){if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nQ){document.getElementById(nQ.fP).style.backgroundColor=vI;}pQ(true,ax,hN);gi.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(hN.hB===true){pQ(false,ax,hN);}else{pQ(true,ax,hN);}}else{pQ(true,ax,hN);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(hN.hB===true){pQ(false,ax,hN);}else{pQ(true,ax,hN);}}else{pQ(true,ax,hN);}}else{pQ(true,ax,hN);}}}else{if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){if(nQ){document.getElementById(nQ.fP).className='imGearTNItem';}ro(true,ax,hN);gi.removeAllPages();}else if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){if(eventArgs){if(eventArgs.domEvent.ctrlKey===true){if(hN.hB===true){ro(false,ax,hN);}else{ro(true,ax,hN);}}else{ro(true,ax,hN);}}else if(sender.ctrlKey){if(sender.ctrlKey===true){if(hN.hB===true){ro(false,ax,hN);}else{ro(true,ax,hN);}}else{ro(true,ax,hN);}}else{ro(true,ax,hN);}}}rh();EF(hN);}}};function apo(aDx,sr,anN){function G(sender,evnt){Cb(sender,evnt);};IPCC.Web.UI.aJ.addHandler(anN,"mouseDown",G);sr.add_mouseDown(G);};function alS(sr,vw){function asP(sender,evnt){arG(vw);C.scrollToSelectedThumbnail();PA();vw.bn.Jw(sr.get_pageWidth());vw.bn.IK(sr.get_pageHeight());};sr.add_pageOpened(asP);};function IR(sr,vw){function VR(sender,evnt){var dk=evnt.pageNumber;var Bx=evnt.documentIdentifier;function alX(dk){var eB=C.kW.getDocument(0).eB;if(!eB){setTimeout(function(){alX(dk);},2000);return;}Sq++;if(Sq===1){if(eB<30){CF=Math.floor((eB)/3)+1;}else{CF=10;}}function amW(){var bI=FC;var abL=CF;FC+=CF;if(FC+CF>eB){CF=eB-FC;}setTimeout(function(){C.kW.getDocument(0).Kf(bI,bI+abL-1,bI+abL);},50);};if(Sq===FC+CF){if(FC===0){if(C.kW.getDocument(0).aiA()===true){abA=true;}else{C.kW.getDocument(0).ayJ(true);amW();}}else{amW();}}};if(abA===false){alX(dk);}vw.bn.Jw(sr.get_pageWidth());vw.bn.IK(sr.get_pageHeight());for(var aA=0;aA<aq.length;aA++){if(aq[aA].bn.get_pageNumber()===dk&&aq[aA].bn.aG.get_documentIdentifier()===Bx){aq[aA].hs=false;aq[aA].hV=true;var bX;if(aq[aA].dX===false){if(aq[aA].md){bX=document.getElementById(aq[aA].md).aY;}if(bX){bX.display();aq[aA].dX=true;}}if(ga>0){ga=ga-1;}break;}}PA();if(ga===0){setTimeout(function(){lM();},60);}};sr.add_pageOpened(VR);if(ga===0&&aq.length>1){if(ga===0){setTimeout(function(){lM();},100);}}};function lM(){var qj;var cg=arC();if(cg>0){qj=cg;}else{qj=asq(0);}if(qj&&qj>0){if(qj<aq.length){ape(aq[qj]);}}};function asq(oJ){var YU;for(var cz=oJ;cz<aq.length;cz++){if(aq[cz].hs===false){if(aq[cz].hV===false){YU=cz;break;}}}if(YU){return YU;}else{return-1;}};function arC(){var abk=document.getElementById(vB);var ak=aq[0];var aS=document.getElementById(ak.fP);var Ip;if(aq.length>1){var atm=aq[1];var aog=document.getElementById(atm.fP);Ip=aog.offsetHeight+(aS.offsetTop*2);}else{Ip=aS.clientHeight+aS.clientTop+(aS.offsetTop*2);}var ko;if(Ip>0){var xN=Math.ceil(abk.offsetHeight/Ip);var EA=Math.ceil(abk.scrollTop/Ip);var Xh=EA+xN+2;EA=EA-1;if(EA<0){EA=0;}if(Xh>=aq.length){Xh=aq.length-1;}for(var aA=EA;aA<=Xh;aA++){if(aq[aA].hs===false){if(aq[aA].hV===false){ko=aA;break;}}}}if(ko){return ko;}else{return(-1);}};function KV(sr,vw){function arV(sender,evnt){C.bo('pageAddFailed',evnt);};sr.add_pageOpenFailed(arV);};function fi(ku){var sh=document.createElement('div');var F;for(F in ku){if(ku.hasOwnProperty(F)){sh.style[F]=ku[F];}}return sh;};function alv(){var Ej=C.gy().id;var bk=document.getElementById(Ej);var MV;if(jj===''){oh=fi({width:bk.clientWidth+'px',height:bk.clientHeight+'px',position:'relative',margin:'0px',border:'1px solid #000000',overflow:'auto'});if(kB===true){if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){MV=vn;jj=fi({width:MV+'px',margin:'4px'});oh.style.overflowY='hidden';C.sz=1;if(MV>0){C.Gc=bk.clientWidth/MV;}}else{jj=fi({width:bk.clientWidth+'px',height:bk.clientHeight+'px',position:'relative',margin:'4px'});oh.style.overflowX='hidden';C.sz=1;if(vn>0){C.Gc=bk.clientWidth/vn;}C.sz=bk.clientHeight/DI;}}else{jj=fi({width:bk.clientWidth+'px',height:bk.clientHeight+'px',position:'relative',margin:'4px'});if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){oh.style.overflowY='hidden';}else{oh.style.overflowX='hidden';}}oh.onscroll=WE;jj.setAttribute('id',Ej+'_ListContainer');oh.setAttribute('id',Ej+'_ListWrapper');vB=Ej+'_ListWrapper';oh.appendChild(jj);bk.appendChild(oh);}};function He(bw){var wg;var aao='';var la='';var xl='';var vi="";var F;if(xi!==""){if(xi.indexOf('{')!== -1){wg=xi.split('{');if(wg.length>0){for(F=0;F<wg.length;F++){la='';xl=wg[F];vi="";if(wg[F].indexOf('DC')!== -1){la=bw.aG.get_caption();if(la!==undefined){vi=xl.replace(/DC\}/,bw.aG.get_caption());}else{la=bw.aG.get_documentIdentifier();vi=xl.replace(/DC\}/,bw.aG.get_documentIdentifier());}}else if(wg[F].indexOf('PC')!== -1){la=bw.get_caption();if(la!==undefined&&la!==""&&la!==null){vi=xl.replace(/PC\}/,bw.get_caption());}else{vi=xl.replace(/PC\}/,'Page');}}else if(wg[F].indexOf('P#')!== -1){var LA=bw.aG.get_pages();var aA=LA.aCC(bw);var eC=aA;if(typeof(eC)==='number'){la=(aA+1).toString();}else if(eC){var dS=parseInt(eC,10);dS++;la=dS.toString();}if(la!==null){vi=xl.replace(/P#\}/,la);}}else if(wg[F].indexOf('PN')!== -1){la=(bw.get_pageNumber()+1).toString();if(la!==null){vi=xl.replace(/PN\}/,la);}}else if(wg[F].indexOf('PP')!== -1){la=bw.aG.get_pages().get_length().toString();if(la!==null){vi=xl.replace(/PP\}/,la);}}aao+=vi;}}}}return aao;};function ami(bL){var bw=bL;var Ei=bw.get_pageNumber();var cw;var pf;var bk=document.getElementById(C.gy().id);var dv=null;var oi;var sR=[];var F=0;var ba=0;var cT=C.get_documents().get_length();for(ba=0;ba<cT;ba++){dv=C.get_documents().getDocument(ba);if(dv!==null){oi=dv.pw;if(oi===bw.aG.pw){break;}}}for(var cz=0;cz<aq.length;cz++){if(aq[cz].aG){dv=aq[cz].aG;if(cz===0){sR[F]=dv;F++;continue;}else if(aq[cz-1].aG!==dv){sR[F]=dv;F++;continue;}}}for(cz=aq.length-1;cz>=0;cz--){if(aq[cz].bn){if(aq[cz].bn===bw){return;}}}var sa=true;var fD;var vR;var cU;var zk;for(cz=0;cz<aq.length;cz++){fD=aq[cz];if(fD.Dr===1){if(bw.aG.pw===fD.yg){cw=document.getElementById(fD.fP);fD.Dr=0;vR=fD.fP;sa=false;cU=fD;break;}}}var kR=false;for(cz=aq.length-1;cz>=0;cz--){if(aq[cz].bn){if(aq[cz].bn.aG===bw.aG){kR=true;break;}}}if(jj===''){alv();}if(kB===false){if(sa){cw=document.createElement('div');cw.className='imGearTNItem';cw.style.styleFloat='left';}zk=document.createElement('div');zk.className='imGearTNItemCaption';}if(kB===true){if(sa){cw=cw=fi({width:vn+'px',height:DI+'px',styleFloat:'left',overflow:'hidden',border:RK+'px solid '+Qs,marginRight:xf+'px',marginTop:Om+'px'});cw.style.cssFloat='left';cw.style.backgroundColor=vI;}zk=fi({width:vn+'px',height:'30px',overflow:'hidden',padding:'1px',position:'relative',margin:'2px'});}if(sa===true){vR=bw.aG.pw+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;cw.setAttribute('id',vR);}var Qi=vR+'_'+'_tViewId';if(kB===false){pf=document.createElement('div');pf.className='imGearTNImage';}else{pf=fi({width:(vn-4)+'px',height:(DI-40)+'px',overflow:'hidden',padding:'1px'});}pf.setAttribute('id',Qi);var Zg=document.createElement("p");if(kB===true){Zg.style.cssText="font-family:arial,sans-serif;font-size:10pt;text-align: center;color:#000099;";}var ra="";if(xi!==undefined&&xi!==null&&xi!==""){ra=He(bw);Zg.innerHTML=ra;zk.appendChild(Zg);}IPCC.Web.UI.aJ.addHandler(zk,"mousedown",Cb);IPCC.Web.UI.aJ.addHandler(cw,"mousedown",Cb);cw.appendChild(zk);cw.appendChild(pf);if(sa===true){cU=new IPCC.Web.UI.jT({page:bw});}bw.fP=vR;cU.md=Qi;cU.fP=vR;cU.bn=bw;cU.yg=oi;cU.hB=false;cU.dX=false;cU.xB=zk;cU.bM=undefined;cU.AV=false;cU.aG=bw.aG;cU.hV=false;cU.dk=Ei;var LN;var cA;if(sa){if(aq.length===0){jj.appendChild(cw);aq.push(cU);}else{for(cz=0;cz<aq.length;cz++){fD=aq[cz];if(fD.yg===oi){if(fD.bn){var VN=fD.bn.get_pageNumber();if(Ei<VN){aq.splice(cz,0,cU);cA=document.getElementById(fD.fP);jj.insertBefore(cw,cA);LN=true;break;}}}}if(!LN){jj.appendChild(cw);aq.push(cU);}}}var PQ=false;if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var pP=cw.clientWidth*(aq.length+1);if(kB===true){pP=cw.clientWidth*(aq.length+1);pP+=((2*xf)*(aq.length+1));jj.style.width=pP+'px';jj.style.height=(cw.clientHeight+(2*xf))+'px';}else{pP=cw.clientWidth*(aq.length+1);jj.style.width=pP+'px';jj.style.height=cw.clientHeight+'px';if(C.sz===0){if(cw.clientWidth>0){C.sz=bk.width/cw.clientWidth;}}if(this.Gc===0){if(cw.clientHeight>0){C.sz=bk.height/cw.clientHeight;}}}if((bk.clientWidth+(cw.clientWidth*4))>pP){PQ=true;}}else{if(bk.clientWidth>0){var Gx=bk.clientWidth/(cw.clientWidth+(cw.clientLeft*2));var xN=bk.clientHeight/(cw.clientHeight+(cw.clientTop*2));C.sz=xN;C.Gc=Gx;if(aq.length<(Gx*xN)){PQ=true;}}}var ie;ie=new IPCC.Web.UI.ThumbnailView(document.getElementById(Qi));if(ie){ie.pm(document.getElementById(Qi));ie.im(C.eD());ie.initialize();ie.set_imageHandlerUrl(bw.aG.oj);ie.set_selected(false);ie.set_pageViewClientID(Aj);if(C.oC()){ie.sd(true);}}if(ie){if(lC){ie.set_resourcePath(lC);}KV(ie,cU);ie.im(C.eD());var qU=ie.azo();if(!qU){qU=new IPCC.Web.UI.PageViewState();}qU.viewFitType=VH;qU.viewRotationDegreesClockwise=Vf;qU.viewZoomFactor=Vg;qU.encryption=C.eD();ie.azl(qU);}var aut=C.get_artServiceOption();apo(Cb,ie,cw);var GL=gi.get_length();if(GL>0){for(F=0;F<GL;F++){for(cz=0;cz<aq.length;cz++){fD=aq[cz];if(fD.bn){if(fD.bn.aG.get_documentIdentifier()===gi.getPage(F).aG.get_documentIdentifier()){if(gi.getPage(F).get_pageNumber===bw.get_pageNumber()){alS(ie,cU);break;}}}}}}else{if(bw.get_selected()){alS(ie,cU);}}IR(ie,cU);if(aq.length<2){ie.im(C.eD());ie.openPage({encodedDocumentIdentifier:bw.aG.get_encodedDocumentIdentifier(),pageNumber:bw.get_pageNumber(),artServiceOption:aut,imGearPage:bw});cU.hs=true;ga++;}var LA=bw.aG.get_pages();if(LA.get_length()>1){for(var fV=0;fV<aq.length;fV++){var fH=aq[fV];if(fH.bn){if(bw.aG===fH.bn.aG){ra=He(fH.bn);var ep=fH.xB.firstChild;if(!ep.igPreviousCaption||ep.igPreviousCaption!==ra){ep.innerHTML=ra;ep.igPreviousCaption=ra;}}}}}pf.aY=ie;return cw;};function alD(aho){var vR=aho.pw+'_'+IPCC.Web.UI.Thumbnailcounter.toString();IPCC.Web.UI.Thumbnailcounter++;var cw;var dv;var sR=[];var Ej=C.gy().id;var bk=document.getElementById(Ej);var oi,ba;var cT=C.get_documents().get_length();for(ba=0;ba<cT;ba++){dv=C.get_documents().getDocument(ba);if(dv){oi=dv.pw;if(oi===aho.pw){break;}}}var F=0;for(var cz=0;cz<aq.length;cz++){if(aq[cz].aG){dv=aq[cz].aG;if(cz===0){sR[F]=dv;F++;continue;}else if(aq[cz-1].aG!==dv){sR[F]=dv;F++;continue;}}}if(jj===''){alv();}if(kB===false){cw=document.createElement('div');cw.className='imGearTNItem';cw.style.styleFloat='left';}else if(kB===true){cw=cw=fi({width:vn+'px',height:DI+'px',styleFloat:'left',overflow:'hidden',border:RK+'px solid '+Qs,marginRight:xf+'px',marginTop:Om+'px'});cw.style.cssFloat='left';cw.style.backgroundColor=vI;}cw.setAttribute('id',vR);var cU=new IPCC.Web.UI.jT();cU.fP=vR;cU.yg=oi;cU.hB=false;cU.dX=false;cU.bM=undefined;cU.AV=false;cU.Dr=1;cU.aG=dv;cU.hV=false;var WV;cT=C.get_documents().get_length();for(ba=0;ba<cT;ba++){dv=C.get_documents().getDocument(ba);if(sR[ba]){if(dv===sR[ba]){continue;}else{if(ba+1<cT){var anU=C.get_documents().getDocument(ba+1);if(anU===sR[ba]){WV=ba;break;}}}}}if(WV){var mI=0;for(F=0;F<WV;F++){if(C.get_documents().getDocument(F).get_pages()){mI+=C.get_documents().getDocument(F).get_pages().get_length();}}var arz=aq[mI];var cA=document.getElementById(arz.fP);jj.insertBefore(cw,cA);aq.splice(mI,0,cU);}else{jj.appendChild(cw);aq.push(cU);}if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){var pP=cw.clientWidth*(aq.length+1);if(kB===true){pP=cw.clientWidth*(aq.length+1);pP+=((2*xf)*(aq.length+1));jj.style.width=pP+'px';jj.style.height=(cw.clientHeight+(2*xf))+'px';}else{pP=cw.clientWidth*(aq.length+1);jj.style.width=pP+'px';jj.style.height=cw.clientHeight+'px';if(this.sz===0){if(cw.clientWidth>0){C.sz=bk.width/cw.clientWidth;}}if(C.Gc===0){if(cw.clientHeight>0){C.sz=bk.height/cw.clientHeight;}}}}else{if(bk.clientWidth>0){var Gx=bk.clientWidth/(cw.clientWidth+(cw.clientLeft*2));var xN=bk.clientHeight/(cw.clientHeight+(cw.clientTop*2));C.sz=xN;C.Gc=Gx;}}return cw;};function HD(bz,R){var bw=R.imGearPage;ami(bw);};function atl(bL){var bw=bL.imGearPage;var bX;var wB,aA;for(aA=0;aA<aq.length;aA++){wB=undefined;if(aq[aA].bn){if(aq[aA].bn===bw){wB=document.getElementById(aq[aA].fP);if(wB){if(aq[aA].dX===true){bX=document.getElementById(aq[aA].md).aY;if(bX.get_selected()){bX.set_selected(false);if(C.get_pageViewClientId()){var pgView=document.getElementById(C.get_pageViewClientId()).aY;pgView.closePage();}}bX.remove_mouseDown(Cb);if(bX.get_currentState().documentIdentifier){bX.dispose();}aq[aA].dX=false;}if(aq[aA].xB){IPCC.Web.UI.aJ.removeHandler(wB.xB,"mousedown",Cb);}wB.style.display='none';aq.splice(aA,1);var LA=bw.aG.get_pages();if(LA.get_length()>=1){for(var fV=0;fV<aq.length;fV++){var fH=aq[fV];if(bw.aG===fH.bn.aG){if(fH.bn){var ra=He(fH.bn);fH.xB.firstChild.innerHTML=ra;}}}}break;}}}}};function Jr(bz,R){atl(R);};function CR(bz,R){if(R){for(var fV=0;fV<aq.length;fV++){var fH=aq[fV];if(R.imGearPage===fH.bn){if(fH.bn){var nQ;if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){for(var aA=0;aA<aq.length;aA++){if(aq[aA].hB===true){if(aq[aA].bn){aq[aA].bn.set_selected(false);}aq[aA].hB=false;nQ=aq[aA];break;}}}var ra=He(fH.bn);fH.xB.firstChild.innerHTML=ra;var bX;var ax=document.getElementById(fH.fP);if(fH.bn.get_selected()&& !fH.hB){bX=document.getElementById(fH.md).aY;if(bX){bX.set_imGearPage(fH.bn);bX.set_selected(true);C.bo('pageSelectionChanged',{});ajI(true,ax,fH,nQ);}}else if(!fH.bn.get_selected()&&fH.hB){bX=document.getElementById(fH.md).aY;if(bX){bX.set_selected(false);C.bo('pageSelectionChanged',{});ajI(false,ax,fH,nQ);}}break;}}}}};function alQ(bz,R){if(R){if(R.propertyName==='caption'){for(var fV=0;fV<aq.length;fV++){var fH=aq[fV];if(fH.bn){if(fH.bn.aG){if(R.imGearDocument){if(R.imGearDocument===fH.bn.aG){var ra=He(fH.bn);fH.xB.firstChild.innerHTML=ra;}}}}}}}};function Hw(bL){if(C.Qa()===false){return null;}if((Aj!==null)&&(Aj!=='')){rm=document.getElementById(Aj).aY;}var dv=bL.imGearDocument;var VD=C.VS();dv.pw=VD;if(dv.get_includeAllPages()===false){var cQ=dv.get_pages();var cT=cQ.get_length();if(cT>0){for(var aA=0;aA<cT;aA++){if(!cQ.getPage(aA).aG){cQ.getPage(aA).aG=dv;}}cQ.forEach(ami);}}else{alD(dv);}};function UE(bz,R){Hw(R);};function EF(UW){var aA,ax;for(aA=0;aA<aq.length;aA++){if(aq[aA]===UW){ax=document.getElementById(aq[aA].fP);if(kB===true){pQ(true,ax,aq[aA]);}else{ro(true,ax,aq[aA]);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var bX;if(C.get_pageViewClientId()){bX=document.getElementById(aq[aA].md).aY;if(aq[aA].hV===false||gi.get_length()===0){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aq[aA].bn){if(aq[aA].AV===true){if(aq[aA].bM){bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),artPage:aq[aA].bM,imGearPage:aq[aA].bn});}}else{bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imGearPage:aq[aA].bn});}}}else{if(aq[aA].hs===false){if(aq[aA].hV===false){aq[aA].bM=bX.get_artPage();if(aq[aA].bn){if(aq[aA].bM){bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),artPage:aq[aA].bM,imGearPage:aq[aA].bn});aq[aA].hs=true;ga++;}else{bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),imGearPage:aq[aA].bn});aq[aA].hs=true;ga++;}}}}}}if(bX){bX.set_selected(true);C.bo('pageSelectionChanged',{});}}if(aq[aA].bn){if(gi.get_length()>0){gi.removeAllPages();}}}if(aq[aA].bn){gi.addPage(aq[aA].bn);}break;}}rh();};function ape(ak){var ax;var bX;if(ga>0){if(ak.md){bX=document.getElementById(ak.md).aY;}if(bX){bX.display();ak.dX=true;}return;}ax=document.getElementById(ak.fP);bX=document.getElementById(ak.md).aY;if(ak.hV===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(ak.bn){if(ak.AV===true){if(ak.bM){bX.openPage({encodedDocumentIdentifier:ak.bn.aG.get_encodedDocumentIdentifier(),pageNumber:ak.bn.get_pageNumber(),artPage:ak.bM,imaGearPage:ak.bn});}}else{bX.openPage({encodedDocumentIdentifier:ak.bn.aG.get_encodedDocumentIdentifier(),pageNumber:ak.bn.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:ak.bn});}ak.hs=true;ga++;}}else{ak.bM=bX.get_artPage();if(ak.bn){if(ak.bM){bX.openPage({encodedDocumentIdentifier:ak.bn.aG.get_encodedDocumentIdentifier(),pageNumber:ak.bn.get_pageNumber(),artPage:ak.bM,imaGearPage:ak.bn});}else{bX.openPage({encodedDocumentIdentifier:ak.bn.aG.get_encodedDocumentIdentifier(),pageNumber:ak.bn.get_pageNumber(),imaGearPage:ak.bn});}ak.hs=true;ga++;}}}rh();};function arG(UW){var aA,ax;var ak;for(aA=0;aA<aq.length;aA++){ak=aq[aA];if(ak===UW){ax=document.getElementById(ak.fP);if(kB===true){pQ(true,ax,ak);}else{ro(true,ax,ak);}if(C.get_selectionMode()===IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){var bX;if(C.get_pageViewClientId()){bX=document.getElementById(ak.md).aY;if(bX){bX.set_selected(true);}}if(ak.bn){if(gi.get_length()>0){gi.removeAllPages();}}}if(ak.bn){gi.addPage(ak.bn);ak.hB=true;}break;}}rh();};this.dF=function(){var aA,ax;var fD=aq[0];if(fD&&fD.bn){var cQ=fD.bn.aG.get_pages();var aay=cQ.get_length();var cT=10;if(aay<10){cT=aay;}if(aq.length>10&&cT>10){cT=9;}cT=aq.length;for(aA=0;aA<cT;aA++){if(aq[aA].bn){ax=document.getElementById(aq[aA].fP);var bX;bX=document.getElementById(aq[aA].md).aY;if(aq[aA].dX===false){if(C.get_artServiceOption()===IPCC.Web.UI.ImGearArtDataServices.ArtDataService){if(aq[aA].AV===true){if(aq[aA].bM){if(aq[aA].hV===false){bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),artPage:aq[aA].bM,imaGearPage:aq[aA].bn});ga++;aq[aA].hs=true;}}}else{if(aq[aA].hV===false){bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),imageServiceOption:C.get_artServiceOption(),imaGearPage:aq[aA].bn});ga++;aq[aA].hs=true;}}}else{if(aq[aA].imageDataRequested===false){if(aq[aA].hV===false){if(ga===0){bX.openPage({encodedDocumentIdentifier:aq[aA].bn.aG.get_encodedDocumentIdentifier(),pageNumber:aq[aA].bn.get_pageNumber(),imaGearPage:aq[aA].bn});aq[aA].hs=true;}}}}}if(bX){bX.display();if(aq[aA].hB===true){bX.set_selected(true);}}}}PA();}};this.aCE=function(){var ak=aq[0];Bs();EF(ak);};this.aBO=function(){var ak=aq[aq.length-1];Bs();EF(ak);};this.aBl=function(){var ak;var nT;for(var aA=0;aA<aq.length;aA++){nT=aq[aA];if(nT.hB===true){ak=nT;break;}}if(!ak){ak=aq[0];}else{if(aA<=aq.length-1&&aA>0){aA--;ak=aq[aA];Bs();EF(ak);}}};this.aCi=function(){var ak;var wK;var aA=aq.length-1;for(aA;aA>=0;aA--){wK=aq[aA];if(wK.hB===true){ak=wK;break;}}if(!ak){ak=aq[0];}else{if(aA<=aq.length-2&&aA>=0){aA++;ak=aq[aA];Bs();EF(ak);}}};this.auG=function(){var cA=document.getElementById(vB);if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cA.scrollLeft=0;}else{cA.scrollTop=0;}};this.avr=function(){var cA=document.getElementById(vB);if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){cA.scrollLeft=cA.scrollWidth;}else{cA.scrollTop=cA.scrollHeight;}};this.awG=function(){var ak;var nT;var aA;for(aA=0;aA<aq.length;aA++){nT=aq[aA];if(nT.hB===true){ak=nT;if(ak.hV===false){EF(ak);}break;}}var anj;var auk;var aS;var cA=document.getElementById(vB);if(!ak){return;}if(ak.fP){if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){anj=cA.scrollWidth;aS=document.getElementById(ak.fP);auk=aA*aS.clientWidth;cA.scrollLeft=aS.offsetLeft;}else{anj=cA.scrollHeight;aS=document.getElementById(ak.fP);cA.scrollTop=aS.offsetTop;}}};this.awH=function(){var ak=aq[0];var aS=document.getElementById(ak.fP);var cA=document.getElementById(vB);var qY;if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qY=cA.scrollLeft+aS.clientWidth+aS.clientLeft;cA.scrollLeft=qY;}else{qY=cA.scrollTop;cA.scrollTop=qY+aS.clientHeight+aS.clientTop;}};this.awx=function(){var ak=aq[0];var aS=document.getElementById(ak.fP);var cA=document.getElementById(vB);var qY;if(rQ===IPCC.Web.UI.ImGearThumbnailLayout.HorizontalScrollDirection){qY=cA.scrollLeft;qY=qY-(aS.clientWidth+aS.clientLeft);if(qY>0){cA.scrollLeft=qY;}else{cA.scrollLeft=0;}}else{qY=cA.scrollTop-(aS.clientHeight+aS.clientTop);if(qY>0){cA.scrollTop=qY;}else{cA.scrollTop=0;}}};function asi(vw){var bX;bX=document.getElementById(vw.md).aY;if(bX){bX.saveArtPage();}};this.avy=function(akk){var ak;for(var aA=0;aA<aq.length;aA++){ak=aq[aA];asi(ak);}if(akk){akk();}};this.ask=function(){if(C.kW.get_length()>0){C.kW.removeAllDocuments();}aq=[];};this.aDr=function(){return oj;};this.aDJ=function(L){IPCC.bU.iG(L,'value');oj=L;this.aM('imageServicePath');};this.KI=function(){return oa;};this.Jl=function(L){IPCC.bU.iG(L,'value');oa=L;};this.ahZ=function(){return Aj;};this.aBJ=function(){return kB;};this.azf=function(L){kB=L;this.aM('useDefaultStyling');};this.aBV=function(){return Qs;};this.axF=function(L){Qs=L;this.aM('thumbnailBorderColor');};this.aBf=function(){return RK;};this.axH=function(L){RK=L;this.aM('thumbnailBorderWidth');};this.yo=function(BI){if(BI!==IPCC.Web.UI.ImGearArtDataServices.None&&BI!==IPCC.Web.UI.ImGearArtDataServices.ArtDataService){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearArtDataServices enumeration.');}Ln=BI;};this.yP=function(){return Ln;};this.abS=function(){return this.kW;};this.aDc=function(){return xi;};this.axt=function(L){IPCC.bU.iG(L,'value');xi=L;this.aM('thumbnailCaptionFormat');};this.ahZ=function(){return Aj;};this.aAn=function(L){if(Aj!==L){Aj=L;rm=null;this.aM('pageViewClientId');}};this.aBZ=function(){return rQ;};this.aAB=function(L){rQ=L;this.aM('thumbnailsLayout');};this.aCh=function(){return PN;};this.azs=function(L){if(L!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple&&L!==IPCC.Web.UI.ImGearThumbnailSelectionMode.Single){throw new IPCC.Web.UI.ImGearArgumentException('type','The value must be a member of the IPCC.Web.UI.ImGearThumbnailSelectionMode enumeration.');}PN=L;if(PN===IPCC.Web.UI.ImGearThumbnailSelectionMode.Multiple){gi.amE=false;}this.aM('selectionMode');};this.Qa=function(){return jr;};this.JA=function(L){jr=L;this.aM('enabled');};this.aCc=function(){return vn;};this.aAO=function(L){vn=L;this.aM('thumbnailWidth');};this.aCl=function(){return DI;};this.aAz=function(L){DI=L;this.aM('thumbnailHeight');};this.aCn=function(){return vI;};this.ayy=function(L){vI=L;this.aM('thumbnailBackgroundColor');};this.aBL=function(){return UC;};this.azL=function(L){UC=L;this.aM('thumbnailSelectedBackgroundColor');};this.ahN=function(){return xf;};this.aAg=function(L){xf=L;this.aM('xSpacing');};this.aBP=function(){return Om;};this.aAD=function(L){Om=L;this.aM('ySpacing');};this.aBa=function(){return aru;};this.aBH=function(){return gi;};var lC;this.uT=function(L){lC=L;};this.lO=function(){return lC;};this.hu=function(Xl){for(var fV=0;fV<aq.length;fV++){var fH=aq[fV];if(Xl===fH.bn){var bX=document.getElementById(fH.md).aY;if(bX){return(bX.get_artPage());}}}return null;};this.aAN=function(L){VH=L;};this.aAf=function(){return VH;};this.aAj=function(L){Vf=L;};this.aAH=function(){return Vf;};this.aAM=function(L){Vg=L;};this.aze=function(){return Vg;};var nK=false;this.oC=function(){return nK;};this.sd=function(L){if(nK===L){return;}nK=L;this.aM('requireRequestsOptimize');};var ll=false;this.eD=function(){return ll;};this.im=function(L){if(typeof L!=="boolean"){return;}if(L===ll){return;}ll=L;};this.initialize=function(){aue=this.gy().id;var bk=this.gy();var F;for(F=bk.childNodes.length-1;F>=0;F--){if(bk.childNodes[F].tagName!=='INPUT'){bk.removeChild(bk.childNodes[F]);}}this.kW.add_documentAdded(UE);this.kW.add_pageAdded(HD);this.kW.add_pageRemoved(Jr);this.kW.add_pageChanged(CR);this.kW.add_documentChanged(alQ);this.JA(true);bk.aY=this;};};IPCC.Web.UI.ImGearThumbnailList.prototype={dispose:function(){this.bB('dispose',arguments);this.ask();this.JA(false);},get_debug:function(){try{var H=this.sc();this.aR('get_debug',arguments,H);return H;}catch(e){this.O('get_debug',e);throw e;}},set_debug:function(value){try{this.bB('set_debug',arguments);var or=this.sc();this.zK(value);if(!or){this.bB('set_debug',arguments);}}catch(e){this.O('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var H=this.nX();this.aR('get_debugErrorLevel',arguments,H);return H;}catch(e){this.O('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bB('set_debugErrorLevel',arguments);var or=this.nX();this.tu(value);if(or<IPCC.Web.UI.DebugErrorLevel.Development){this.bB('set_debugErrorLevel',arguments);}}catch(e){this.O('set_debugErrorLevel',e);throw e;}},add_pageSelectionChanged:function(handler){try{this.aqi(handler);}catch(e){this.O('add_pageSelectionChanged',e);throw e;}},remove_pageSelectionChanged:function(handler){try{this.atU(handler);}catch(e){this.O('remove_pageSelectionChanged',e);throw e;}},add_pageAddFailed:function(handler){try{this.aqZ(handler);}catch(e){this.O('add_pageAddFailed',e);throw e;}},remove_pageAddFailed:function(handler){try{this.aua(handler);}catch(e){this.O('remove_pageAddFailed',e);throw e;}},add_mouseDown:function(handler){try{this.BM(handler);}catch(e){this.O('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.CK(handler);}catch(e){this.O('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Cx(handler);}catch(e){this.O('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.DP(handler);}catch(e){this.O('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.By(handler);}catch(e){this.O('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Db(handler);}catch(e){this.O('remove_mouseUp',e);throw e;}},add_propertyChanged:function(handler){try{this.add_propertyChanged(handler);}catch(e){this.O('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lA(handler);}catch(e){this.O('remove_propertyChanged',e);throw e;}},writeToLog:function(message){try{this.iX(message);}catch(e){this.O('writeToLog',e);throw e;}},get_documents:function(){return this.abS();},get_controlStateElementId:function(){try{var H=this.KI();this.aR('get_controlStateElementId',arguments,H);return H;}catch(e){this.O('get_controlStateElementId',e);throw e;}},set_controlStateElementId:function(value){try{this.bB('set_controlStateElementId',arguments);this.Jl(value);}catch(e){this.O('set_controlStateElementId',e);throw e;}},get_useDefaultStyling:function(){try{var H=this.aBJ();this.aR('get_get_useDefaultStyling',arguments,H);return H;}catch(e){this.O('get_useDefaultStyling',e);throw e;}},set_useDefaultStyling:function(value){try{this.bB('set_useDefaultStyling',arguments);this.azf(value);}catch(e){this.O('set_useDefaultStyling',e);throw e;}},get_selectedPages:function(){try{var H=this.aBH();this.aR('get_currentSelectedPages',arguments,H);return H;}catch(e){this.O('get_currentSelectedPages',e);throw e;}},get_artDataChanged:function(){try{var H=this.aBa();this.aR('get_artDataChanged',arguments,H);return H;}catch(e){this.O('get_artDataChanged',e);throw e;}},get_xSpacing:function(){try{var H=this.ahN();this.aR('get_xSpacing',arguments,H);return H;}catch(e){this.O('get_xSpacing',e);throw e;}},set_xSpacing:function(value){try{this.bB('set_xSpacing',arguments);this.aAg(value);}catch(e){this.O('set_xSpacing',e);throw e;}},get_ySpacing:function(){try{var H=this.aBP();this.aR('get_ySpacing',arguments,H);return H;}catch(e){this.O('get_ySpacing',e);throw e;}},set_ySpacing:function(value){try{this.bB('set_ySpacing',arguments);this.aAD(value);}catch(e){this.O('set_ySpacing',e);throw e;}},get_thumbnailHeight:function(){try{var H=this.aCl();this.aR('get_thumbnailHeight',arguments,H);return H;}catch(e){this.O('get_thumbnailHeight',e);throw e;}},set_thumbnailHeight:function(value){try{this.bB('set_thumbnailHeight',arguments);this.aAz(value);}catch(e){this.O('set_thumbnailHeight',e);throw e;}},get_thumbnailWidth:function(){try{var H=this.aCc();this.aR('get_thumbnailWidth',arguments,H);return H;}catch(e){this.O('get_thumbnailWidth',e);throw e;}},set_thumbnailWidth:function(value){try{this.bB('set_thumbnailWidth',arguments);this.aAO(value);}catch(e){this.O('set_thumbnailWidth',e);throw e;}},get_thumbnailBackgroundColor:function(){try{var H=this.aCn();this.aR('get_thumbnailBackgroundColor',arguments,H);return H;}catch(e){this.O('get_thumbnailBackgroundColor',e);throw e;}},set_thumbnailBackgroundColor:function(value){try{this.bB('set_thumbnailBackgroundColor',arguments);this.ayy(value);}catch(e){this.O('set_thumbnailBackgroundColor',e);throw e;}},get_thumbnailSelectedBackgroundColor:function(){try{var H=this.aBL();this.aR('get_thumbnailSelectedBackgroundColor',arguments,H);return H;}catch(e){this.O('get_thumbnailSelectedBackgroundColor',e);throw e;}},set_thumbnailSelectedBackgroundColor:function(value){try{this.bB('set_thumbnailSelectedBackgroundColor',arguments);this.azL(value);}catch(e){this.O('set_thumbnailSelectedBackgroundColor',e);throw e;}},get_thumbnailBorderWidth:function(){try{var H=this.aBf();this.aR('get_thumbnailBorderWidth',arguments,H);return H;}catch(e){this.O('get_thumbnailBorderWidth',e);throw e;}},set_thumbnailBorderWidth:function(value){try{this.bB('set_thumbnailBorderWidth',arguments);this.axH(value);}catch(e){this.O('set_thumbnailBorderWidth',e);throw e;}},get_thumbnailBorderColor:function(){try{var H=this.aBV();this.aR('get_thumbnailBorderColor',arguments,H);return H;}catch(e){this.O('get_thumbnailBorderColor',e);throw e;}},set_thumbnailBorderColor:function(value){try{this.bB('set_thumbnailBorderColor',arguments);this.axF(value);}catch(e){this.O('set_thumbnailBorderColor',e);throw e;}},get_resourcePath:function(){try{var H=this.lO();this.aR('get_resourcePath',arguments,H);return H;}catch(e){this.O('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bB('set_resourcePath',arguments);this.uT(L);}catch(e){this.O('set_resourcePath',e);throw e;}},get_pageViewClientId:function(){try{var H=this.ahZ();this.aR('get_pageViewClientId',arguments,H);return H;}catch(e){this.O('get_pageViewClientId',e);throw e;}},set_pageViewClientId:function(value){try{this.bB('set_pageViewClientId',arguments);this.aAn(value);}catch(e){this.O('set_pageViewClientId',e);throw e;}},get_selectionMode:function(){try{var H=this.aCh();this.aR('selectionMode',arguments,H);return H;}catch(e){this.O('get_selectionMode',e);throw e;}},set_selectionMode:function(value){try{this.bB('set_selectionMode',arguments);this.azs(value);}catch(e){this.O('set_selectionMode',e);throw e;}},get_layout:function(){try{var H=this.aBZ();this.aR('getthumbnailsLayout',arguments,H);return H;}catch(e){this.O('get_thumbnailsLayout',e);throw e;}},set_layout:function(value){try{this.bB('set_thumbnailsLayout',arguments);this.aAB(value);}catch(e){this.O('set_thumbnailsLayout',e);throw e;}},get_enabled:function(){try{var H=this.Qa();this.aR('get_enabled',arguments,H);return H;}catch(e){this.O('get_enabled',e);throw e;}},get_thumbnailCaptionFormat:function(){try{var H=this.ahN();this.aR('get_thumbnailCaptionFormat',arguments,H);return H;}catch(e){this.O('get_thumbnailCaptionFormat',e);throw e;}},set_thumbnailCaptionFormat:function(value){try{this.bB('set_thumbnailCaptionFormat',arguments);this.axt(value);}catch(e){this.O('set_thumbnailCaptionFormat',e);throw e;}},get_artServiceOption:function(){try{var H=this.yP();this.aR('get_artServiceOption',arguments,H);return H;}catch(e){this.O('get_artServiceOption',e);throw e;}},set_artServiceOption:function(value){try{this.bB('set_artServiceOption',arguments);this.yo(value);}catch(e){this.O('set_artServiceOption',e);throw e;}},selectPreviousThumbnail:function(){try{this.bB('selectPreviousThumbnail',arguments,1);this.aBl();}catch(e){this.O('selectPreviousThumbnail',e);throw e;}},selectNextThumbnail:function(){try{this.bB('selectNextThumbnail',arguments,1);this.aCi();}catch(e){this.O('selectNextThumbnail',e);throw e;}},selectFirstThumbnail:function(){try{this.bB('selectFirstThumbnail',arguments,1);this.aCE();}catch(e){this.O('selectFirstThumbnail',e);throw e;}},selectLastThumbnail:function(){try{this.bB('selectLastThumbnail',arguments,1);this.aBO();}catch(e){this.O('selectLastThumbnail',e);throw e;}},scrollToNextBand:function(){try{this.bB('scrollToNextBand',arguments,1);this.awH();}catch(e){this.O('scrollToNextBand',e);throw e;}},scrollToPreviousBand:function(){try{this.bB('scrollToPreviousBand',arguments,1);this.awx();}catch(e){this.O('scrollToPreviousBand',e);throw e;}},scrollToFirstThumbnail:function(){try{this.bB('scrollToFirst',arguments,1);this.auG();}catch(e){this.O('scrollToFirst',e);throw e;}},scrollToLastThumbnail:function(){try{this.bB('scrollToFirst',arguments,1);this.avr();}catch(e){this.O('scrollToFirst',e);throw e;}},scrollToSelectedThumbnail:function(){try{this.bB('ScrollToSelectedThumbnail',arguments,1);this.awG();}catch(e){this.O('ScrollToSelectedThumbnail',e);throw e;}},saveArtData:function(onComplete){try{this.bB('saveArtData',arguments,1);this.avy(onComplete);}catch(e){this.O('saveArtData',e);throw e;}},getArtPage:function(page){try{var H=this.hu(page);this.wo('getArtPage',arguments,H,1);return H;}catch(e){this.O('getArtPage',e);throw e;}},display:function(){try{this.bB('display',arguments,1);this.dF();}catch(e){this.O('display',e);throw e;}},get_requireRequestsOptimize:function(){try{var H=this.oC();this.aR('get_requireRequestsOptimize',arguments,H);return H;}catch(e){this.O('oC',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bB('set_requireRequestsOptimize',arguments);this.sd(value);}catch(e){this.O('set_requireRequestsOptimize',e);throw e;}},get_pageViewFitType:function(){try{var H=this.aAf();this.aR('get_pageViewFitType',arguments,H);return H;}catch(e){this.O('get_pageViewFitType',e);throw e;}},set_pageViewFitType:function(value){try{this.bB('set_pageViewFitType',arguments);this.aAN(value);}catch(e){this.O('set_pageViewFitType',e);throw e;}},get_pageViewRotationDegreesClockwise:function(){try{var H=this.aAH();this.aR('get_pageViewRotationDegreesClockwise',arguments,H);return H;}catch(e){this.O('get_pageViewRotationDegreesClockwise',e);throw e;}},set_pageViewRotationDegreesClockwise:function(value){try{this.bB('set_pageViewRotationDegreesClockwise',arguments);this.aAj(value);}catch(e){this.O('set_pageViewRotationDegreesClockwise',e);throw e;}},get_pageViewZoomFactor:function(){try{var H=this.aze();this.aR('get_pageViewZoomFactor',arguments,H);return H;}catch(e){this.O('get_pageViewZoomFactor',e);throw e;}},set_pageViewZoomFactor:function(value){try{this.bB('set_pageViewZoomFactor',arguments);this.aAM(value);}catch(e){this.O('set_pageViewZoomFactor',e);throw e;}},get_encryption:function(){try{var H=this.eD();this.aR('get_encryption',arguments,H);return H;}catch(e){this.O('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bB('set_encryption',arguments);this.im(value);}catch(e){this.O('set_encryption',e);throw e;}}};IPCC.Web.UI.ImGearThumbnailList.registerClass=IPCC.Web.regClass;IPCC.Web.UI.ImGearThumbnailList.registerClass('IPCC.Web.UI.ImGearThumbnailList',IPCC.Sys.UI.Control);IPCC.Type.registerNamespace('IPCC');IPCC.PageLayout=function(){};IPCC.PageLayout.registerEnum=IPCC.Web.regEnum;IPCC.PageLayout.prototype={VerticalScrollDirection:0,HorizontalScrollDirection:1};IPCC.PageLayout.registerEnum('IPCC.PageLayout',false);IPCC.ViewMode=function(){};IPCC.ViewMode.registerEnum=IPCC.Web.regEnum;IPCC.ViewMode.prototype={Document:0,EqualWidthPages:1,SinglePage:2,EqualFitPages:3};IPCC.ViewMode.registerEnum('IPCC.ViewMode',false);IPCC.FitType=function(){};IPCC.FitType.registerEnum=IPCC.Web.regEnum;IPCC.FitType.prototype={FitToWidth:0,ShrinkToWidth:1,ActualSize:2,FitToHeight:3,BestFit:4};IPCC.FitType.registerEnum('IPCC.FitType',false);IPCC.ScaleTrigger=function(){};IPCC.ScaleTrigger.registerEnum=IPCC.Web.regEnum;IPCC.ScaleTrigger.prototype={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};IPCC.ScaleTrigger.registerEnum('IPCC.ScaleTrigger',false);IPCC.PageEventArgs=function(){return this;};IPCC.PageEventArgs.registerClass=IPCC.Web.regClass;IPCC.PageEventArgs.prototype={};IPCC.PageEventArgs.registerClass('IPCC.PageEventArgs');IPCC.ExceptionEventArgs=function(){return this;};IPCC.ExceptionEventArgs.registerClass=IPCC.Web.regClass;IPCC.ExceptionEventArgs.prototype={};IPCC.ExceptionEventArgs.registerClass('IPCC.ExceptionEventArgs');IPCC.OpenPageEventArgs=function(){return this;};IPCC.OpenPageEventArgs.registerClass=IPCC.Web.regClass;IPCC.OpenPageEventArgs.prototype={};IPCC.OpenPageEventArgs.registerClass('IPCC.OpenPageEventArgs');IPCC.Pagecounter=1;IPCC.PageList=function(element){var C=this;var HU=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(func){return setTimeout(func,16);};var arR=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||function(id){return clearTimeout(id);};var aO=new IPCC.Web.UI.gv();var bK=[];var vB;var aZ='';var Ck='';var ac='';var mc='';var mV='';var sJ=0;this.kW=new IPCC.Web.UI.ImGearDocumentCollection();var OK=[];this.aGg=0;this.aFN={x:0,y:0};var ga=0;var FP=0;var kd=IPCC.Web.UI.DebugErrorLevel.Production;var _debug=false;var jr=false;var dh=0;var eK=0;var pK=0;var jz=0;var vQ=false;var dE=[];var oI=[];var Mt='';var dM=1;var dq=IPCC.Web.UI.MouseTool.None;var zl=false;var un=true;var ab=IPCC.bi.None;var kN;var es=0;var gx=0;var gQ=0;var ia=15;var iu=0;var ib=15;var qQ=0;var oQ=0;var qm=0;var nA=0;var ahW=0;var gc=0;var gK=0;var ql=1;var et=IPCC.PageLayout.VerticalScrollDirection;var ca=IPCC.ViewMode.Document;var nc=null;var QC=null;var NI=0;var pN=0;var yA=0;var kU=null;var Jg=0;var Ma='';var Dy='';var jG=[];var hy=3;var vs=0;var BS=0.5;var Gp=true;var SJ;var tG=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;var nK=true;var lV;var cN={};var rC=false;var qk=function(){return null;};var jo=null;var aid="font-size:11px;color:#888;text-align:center;cursor:pointer;";var aip=aid+"padding:18px 0 20px;display:table-caption;caption-side:bottom;";var aiL=aid+"white-space:nowrap;line-height:50px;display:table-cell;vertical-align:middle;padding-right:10px;";var SCREEN_RESOLUTION=96;var bN;function gr(wG){if(!_debug){return false;}return kd>=wG;};this.O=function(ei,gG){if(!gr(IPCC.Web.UI.DebugErrorLevel.Production)){return;}var bq=ei+'() threw an exception ('+gG.name+'), "'+gG.message+'"';bq=bq.replace(/\n/g," ");IPCC.fL.iX(bq,IPCC.Web.UI.DebugItemCause.Exception,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.gy().id);var oB=new IPCC.ExceptionEventArgs();oB.functionName=ei;oB.exception=gG;this.bo('exceptionThrown',oB);};this.bB=function(ei,eg,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=')';this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.wo=function(ei,eg,jp,jD){if(!gr(IPCC.Web.UI.DebugErrorLevel.Development)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],(jD?jD:0));}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Development);};this.aR=function(ei,eg,jp){if(!gr(IPCC.Web.UI.DebugErrorLevel.Detailed)){return;}var bq=ei+'(';var F;for(F=0;F<eg.length;F++){if(F>0){bq+=', ';}bq+=IPCC.fL.io(eg[F],0);}bq+=') = ';bq+=IPCC.fL.io(jp,1);this.kb(bq,IPCC.Web.UI.DebugErrorLevel.Detailed);};this.kb=function(fS,bD){IPCC.fL.iX(fS,IPCC.Web.UI.DebugItemCause.FunctionCall,bD,'PageList',this.gy().id);};this.iX=function(fS){IPCC.fL.iX(fS,IPCC.Web.UI.DebugItemCause.Custom,IPCC.Web.UI.DebugErrorLevel.Production,'PageList',this.gy().id);};this.sc=function(){return _debug;};this.zK=function(L){var zm= ! !L;if(_debug===zm){return;}_debug=zm;var F=0;for(F=0;F<dE.length;F++){var aW;if(bK[dE[F]].am){aW=document.getElementById(bK[dE[F]].am).aY;}if(aW){aW.set_debug(_debug);}}this.aM('debug');};this.nX=function(){return kd;};this.tu=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.DebugErrorLevel);if(kd===L){return;}kd=L;var F=0;for(F=0;F<dE.length;F++){var aW;if(bK[dE[F]].am){aW=document.getElementById(bK[dE[F]].am).aY;}if(aW){aW.set_debugErrorLevel(kd);}}this.aM('debugErrorLevel');};function cq(bS,G){aO.addHandler(bS,G);};function bZ(bS,G){aO.removeHandler(bS,G);};this.BM=function(G){cq('mouseDown',G);};this.CK=function(G){bZ('mouseDown',G);};this.Cx=function(G){cq('mouseMove',G);};this.DP=function(G){bZ('mouseMove',G);};this.By=function(G){cq('mouseUp',G);};this.Db=function(G){bZ('mouseUp',G);};this.XK=function(G){cq('selectTextMouseToolCompleted',G);};this.YO=function(G){bZ('selectTextMouseToolCompleted',G);};this.tL=function(G){cq('textPageReady',G);};this.xD=function(G){bZ('textPageReady',G);};this.Xs=function(G){cq('hyperlinkPageReady',G);};this.abW=function(G){bZ('hyperlinkPageReady',G);};this.apz=function(G){cq('allPagesAdded',G);};this.atY=function(G){bZ('allPagesAdded',G);};this.HG=function(G){cq('pageOpening',G);};this.Lq=function(G){bZ('pageOpening',G);};this.HW=function(G){cq('pageOpened',G);};this.IM=function(G){bZ('pageOpened',G);};this.Bc=function(G){cq('pageOpenFailed',G);};this.CB=function(G){bZ('pageOpenFailed',G);};this.HL=function(G){cq('pageDisplayed',G);};this.Ju=function(G){bZ('pageDisplayed',G);};this.iz=function(G){cq('propertyChanged',G);};this.lA=function(G){bZ('propertyChanged',G);};this.WZ=function(G){cq('exceptionThrown',G);};this.SK=function(G){bZ('exceptionThrown',G);};this.Cu=function(G){cq('textExtractionFailed',G);};this.AX=function(G){bZ('textExtractionFailed',G);};this.yD=function(G){cq('markAdded',G);};this.yp=function(G){bZ('markAdded',G);};this.Wu=function(G){cq('markCreating',G);};this.Rh=function(G){bZ('markCreating',G);};this.DQ=function(G){cq('markChanged',G);};this.Eh=function(G){bZ('markChanged',G);};this.Dc=function(G){cq('markReordered',G);};this.Dk=function(G){bZ('markReordered',G);};this.DV=function(G){cq('markSelectionChanged',G);};this.CW=function(G){bZ('markSelectionChanged',G);};this.Fn=function(G){cq('markTextSelectionChanged',G);};this.Jf=function(G){bZ('markTextSelectionChanged',G);};this.ye=function(G){cq('markRemoved',G);};this.yn=function(G){bZ('markRemoved',G);};this.arb=function(G){cq('commentAdding',G);};this.atR=function(G){bZ('commentAdding',G);};this.yS=function(G){cq('commentAdded',G);};this.Dv=function(G){bZ('commentAdded',G);};this.ym=function(G){cq('commentRemoved',G);};this.CO=function(G){bZ('commentRemoved',G);};this.tO=function(G){cq('commentChanged',G);};this.wx=function(G){bZ('commentChanged',G);};this.Wp=function(G){cq('scaleChanged',G);};this.Ye=function(G){bZ('scaleChanged',G);};this.vP=function(){var aY=document.getElementById(bK[dh].am).aY;if(aY){return aY.get_currentState();}else{return null;}};this.ahq=function(){return bK[dh].bn;};this.uy=function(){return dM;};this.azI=function(bj){jK(bj,undefined,undefined,undefined,undefined,undefined,IPCC.ScaleTrigger.Zoom);};this.Pz=function(bP,zY,Ud,eV){eV=eV||IPCC.ScaleTrigger.Zoom;jK(dM*bP,Ud,undefined,undefined,undefined,zY,eV);};this.ann=function(bP,ae,fv,Ci,eV){eV=eV||IPCC.ScaleTrigger.Zoom;if(dM*bP<8){jK(dM*bP,false,ae,fv,Ci,undefined,eV);}else{jK(8,false,ae,fv,Ci);}};this.UY=function(bP,eV){eV=eV||IPCC.ScaleTrigger.Zoom;jK(dM/bP,false,undefined,undefined,undefined,undefined,eV);};this.aBy=function(){return Uw();};this.aeg=function(eV,eE,Wc){var HB,Iw,ai,bE;var aaf=0;var F=0;for(F=0;F<bK.length;F++){ai=bK[F].ai;bE=bK[F].bE;if(ip(bK[F].fY)===true){var Ky=ai;ai=bE;bE=Ky;}if(ai>0&&bE>0){var LQ=ai/bE;if(LQ>aaf){aaf=LQ;HB=bE;Iw=ai;}}}if(aaf>0){var arL=(aZ.offsetWidth-IPCC.Web.pq()-wN()-(ia+ib+oQ+nA));var asK=arL/(Iw*SCREEN_RESOLUTION/bK[0].fX);var eo=es;var dU=gx;if(ip(bK[0].fY)===true){eo=gx;dU=es;}var aeG=HB/dU*asK;var lm=(aZ.clientHeight-(gQ+iu+qQ+qm))/(dU*SCREEN_RESOLUTION/bK[0].eJ);var Lm=aeG;if(Wc===true&&aeG>lm){Lm=lm;}jK(Lm,true,undefined,undefined,undefined,undefined,eV,eE);}};this.aeF=function(eV,eE,Wc){var HB,Iw,ai,bE;var aau=0;var F=0;for(F=0;F<bK.length;F++){ai=bK[F].ai;bE=bK[F].bE;if(ip(bK[F].fY)===true){var Ky=ai;ai=bE;bE=Ky;}if(ai>0&&bE>0){var LQ=bE/ai;if(LQ>aau){aau=LQ;HB=bE;Iw=ai;}}}if(aau>0){var atX=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm));var ata=atX/(HB*SCREEN_RESOLUTION/bK[0].eJ);var eo=es;var dU=gx;if(ip(bK[0].fY)===true){eo=gx;dU=es;}var aeZ=Iw/eo*ata;var lm=(aZ.clientWidth-wN()-(ia+ib+oQ+nA))/(eo*SCREEN_RESOLUTION/bK[0].fX);var Lm=aeZ;if(Wc===true&&aeZ>lm){Lm=lm;}jK(Lm,true,undefined,undefined,undefined,undefined,eV,eE);}};this.azU=function(eE,eV){if(C.yF&&typeof C.yF==='function'){C.yF();}var ai;var bE;var dZ;var kr=1;eV=eV||IPCC.ScaleTrigger.Fit;if(eE===IPCC.FitType.FitToWidth){if(ca===IPCC.ViewMode.Document){kr=(aZ.offsetWidth-IPCC.Web.pq()-wN()-(ia+ib+oQ+nA))/(gc/dM);jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else if(ca===IPCC.ViewMode.SinglePage){if(ip(bK[dh].fY)===true){ai=bK[dh].bE;dZ=SCREEN_RESOLUTION/bK[dh].eJ;}else{ai=bK[dh].ai;dZ=SCREEN_RESOLUTION/bK[dh].fX;}kr=(aZ.offsetWidth-IPCC.Web.pq()-wN()-(ia+ib+oQ+nA))/(ai*dZ);jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else{if(et===IPCC.PageLayout.VerticalScrollDirection){Uk(eV,eE);}else{C.aeg(eV,eE);}}}else if(eE===IPCC.FitType.ShrinkToWidth){var apf=aZ.clientWidth-wN();var are=20;var TE=apf-are;if(ca===IPCC.ViewMode.SinglePage){if(ip(bK[dh].fY)===true){ai=bK[dh].bE;dZ=SCREEN_RESOLUTION/bK[dh].eJ;}else{ai=bK[dh].ai;dZ=SCREEN_RESOLUTION/bK[dh].fX;}if(TE<dM*ai*dZ){kr=(aZ.offsetWidth-IPCC.Web.pq()-wN()-(ia+ib+oQ+nA))/(ai*dZ);jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}}else{if(TE<gc){jK(dM*TE/gc,true,undefined,undefined,undefined,undefined,eV,eE);}}}else if(eE===IPCC.FitType.ActualSize){if(ca===IPCC.ViewMode.Document||ca===IPCC.ViewMode.SinglePage){jK(1,true,undefined,undefined,undefined,undefined,eV,eE);}}else if(eE===IPCC.FitType.FitToHeight){if(ca===IPCC.ViewMode.Document){kr=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm))/(gK/dM);jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else if(ca===IPCC.ViewMode.SinglePage){if(ip(bK[dh].fY)===true){bE=bK[dh].ai;dZ=SCREEN_RESOLUTION/bK[dh].fX;}else{bE=bK[dh].bE;dZ=SCREEN_RESOLUTION/bK[dh].eJ;}kr=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm))/(bE*dZ);jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else{if(et===IPCC.PageLayout.HorizontalScrollDirection){Uk(eV,eE);}else{C.aeF(eV,eE);}}}else if(eE===IPCC.FitType.BestFit){var Bu;if(ca===IPCC.ViewMode.Document){kr=(aZ.offsetWidth-IPCC.Web.pq()-(ia+ib+oQ+nA))/(gc/dM);Bu=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm))/(gK/dM);if(Bu<kr){kr=Bu;}jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else if(ca===IPCC.ViewMode.SinglePage){if(ip(bK[dh].fY)===true){ai=bK[dh].bE;bE=bK[dh].ai;dZ=SCREEN_RESOLUTION/bK[dh].fX;}else{ai=bK[dh].ai;bE=bK[dh].bE;dZ=SCREEN_RESOLUTION/bK[dh].eJ;}kr=(aZ.offsetWidth-IPCC.Web.pq()-wN()-(ia+ib+oQ+nA))/(ai*dZ);Bu=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm))/(bE*dZ);if(Bu<kr){kr=Bu;}jK(kr,true,undefined,undefined,undefined,undefined,eV,eE);}else{if(et===IPCC.PageLayout.HorizontalScrollDirection){C.aeg(eV,eE,true);}else{C.aeF(eV,eE,true);}}}};this.aAZ=function(bI,bv){var bw=bK[bI-1];var aj=document.getElementById(bw.am);var CY=[];if(aj){var fG,DA,aT;try{fG=VI(aj);}catch(e){return null;}CY=IPCC.bb.map(bv,function(hw){DA=aj.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(hw.x,hw.y),true);aT=alk(aj,DA.x,DA.y,fG);return{clientX:aT.x,clientY:aT.y};});return CY;}else{return null;}};this.apQ=function(){var F=0;for(F=0;F<bK.length;F++){C.dF(F);}yc();lM(true);};this.dF=function(aH){var ad;if(bK[aH].am){ad=document.getElementById(bK[aH].am);}C.vM(ad,aH);};this.vM=function(ad,aH){if(kU!==null){return;}if(ad&&ad.aY&&ad.aY.hD()===true){var aW=ad.aY;aW.display();bK[aH].dX=true;var te=false;for(var ba=0;ba<dE.length;ba++){if(dE[ba]===aH){te=true;}}if(te===false){dE.push(aH);}if(ca===IPCC.ViewMode.SinglePage){var jJ= -1;if(Array.prototype.indexOf){jJ=jG.indexOf(aH);}else{jJ=IPCC.Web.hh(jG,aH);}if(jJ!== -1){jG.splice(jJ,1);}}}};this.xM=function(aH,J){var ad;if(bK[aH].am){ad=document.getElementById(bK[aH].am);}if(ad&&ad.aY){ad.aY.xM(J);}};this.pY=function(aH){var ad;if(bK[aH].am){ad=document.getElementById(bK[aH].am);}if(ad&&ad.aY){ad.aY.pY();}};this.abP=function(dS){var oc=false;if(IPCC.Web.nq.length>0){if(Array.prototype.indexOf){if(IPCC.Web.nq.indexOf(dS)>=0){return true;}}else{if(IPCC.Web.hh(IPCC.Web.nq,dS)>=0){return true;}}}return oc;};var lZ='';this.pm=function(L){lZ=L;};this.gy=function(){return lZ;};this.bo=function(bS,R){try{var G=aO.getHandler(bS);if(G!==null){G(C,R);}}catch(e){C.O(bS+'Event',e);}};this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};this.aro=function(G){aO.addHandler('currentPageChanged',G);};this.atq=function(G){aO.removeHandler('currentPageChanged',G);};this.aii=function(){return ac.style.cursor||'auto';};this.aAs=function(L){ac.style.cursor=L||'auto';};this.aaS=function(){return dq;};this.JL=function(L){IPCC.bU.ji(L,'value',IPCC.Web.UI.MouseTool);var qR=false;if(dq!==L){kN=null;dq=L;switch(dq){case IPCC.Web.UI.MouseTool.HandPan:ab=IPCC.bi.HandOpen;ac.style.cursor=IPCC.bi.eU(ab);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:C.xm();ab=IPCC.bi.Text;ac.style.cursor=IPCC.bi.eU(ab);break;case IPCC.Web.UI.MouseTool.None:ab=IPCC.bi.None;ac.style.cursor=IPCC.bi.eU(ab);break;case IPCC.Web.UI.MouseTool.Magnifier:ab=IPCC.bi.Magnifier;ac.style.cursor=IPCC.bi.eU(ab);break;case IPCC.Web.UI.MouseTool.RectangleZoom:ab=IPCC.bi.RectangleZoom;ac.style.cursor=IPCC.bi.eU(ab);break;case IPCC.Web.UI.MouseTool.CreateRectangleMark:ab=IPCC.bi.AddRectangleMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.Rectangle)];};break;case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:ab=IPCC.bi.AddRectangleRedactionMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.RectangleRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateEllipseMark:ab=IPCC.bi.AddEllipseMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.Ellipse)];};break;case IPCC.Web.UI.MouseTool.CreateLineMark:ab=IPCC.bi.AddLineMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.pz()];};break;case IPCC.Web.UI.MouseTool.CreateStampMark:ab=IPCC.bi.AddStampMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.Stamp)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:ab=IPCC.bi.AddImageStampMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampAnnotation)];};break;case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:ab=IPCC.bi.AddImageStampMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.ImageStampRedaction)];};break;case IPCC.Web.UI.MouseTool.CreateTextMark:ab=IPCC.bi.AddTextMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.Text)];};break;case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:ab=IPCC.bi.AddTextMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.fC(IPCC.Web.UI.MarkType.TextLine)];};break;case IPCC.Web.UI.MouseTool.CreateFreehandMark:ab=IPCC.bi.AddFreehandLineMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.nI()];};break;case IPCC.Web.UI.MouseTool.CreatePolylineMark:ab=IPCC.bi.AddPolylineMark;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.oA(IPCC.Web.UI.MarkType.Polyline)];};break;case IPCC.Web.UI.MouseTool.EditMarks:ab=IPCC.bi.EditMarks;ac.style.cursor=IPCC.bi.eU(ab);qR=true;kN=function(){return[new IPCC.pa(IPCC.Web.UI.MarkType.Text)];};break;default:ab=IPCC.bi.None;ac.style.cursor=IPCC.bi.eU(ab);break;}var F=0;for(F=0;F<bK.length;F++){var aW;if(bK[F].am){var ad=document.getElementById(bK[F].am);if(ad){aW=ad.aY;}}if(aW){if(qR===true){aW.Jn(kN());}else{aW.set_mouseTool(IPCC.Web.UI.MouseTool.None);}}}this.aM('mouseTool');}};this.azx=function(){return zl;};this.aCA=function(bool){zl= ! !bool;};this.Ar=function(){return tG;};this.Ks=function(L){if(tG!==L){tG=L;var F=0;for(F=0;F<dE.length;F++){var ad;var aW;ad=document.getElementById(bK[dE[F]].am);aW=ad.aY;if(aW){aW.set_markHandleMode(tG);this.vM(ad,F);}}this.aM('markHandleMode');}};this.ii=function(){return un;};this.AE=function(L){if(un!==L){un=L;var F=0;for(F=0;F<dE.length;F++){var aW;if(bK[dE[F]].am){aW=document.getElementById(bK[dE[F]].am).aY;}if(aW){aW.set_textRequired(un);}}this.aM('textRequired');}};this.aAV=function(){return hy;};this.aAm=function(L){if(L<0){L=0;}if(hy!==L){hy=L;this.aM('maxPrefetch');}};this.aCq=function(){return Gp;};this.aEa=function(L){if(Gp!==L){Gp=L;this.aM('displayPagesWhenScrolling');}};this.ayv=function(){return vs;};this.aAE=function(L){if(L<0){L=0;}if(vs!==L){vs=L;this.aM('maxOutOfViewDisplay');}};this.aBX=function(){return BS;};this.axG=function(L){if(L<0){L=0;}if(BS!==L){BS=L;this.aM('scrollDisplayThreshold');}};this.aAJ=function(){return et;};this.azY=function(L){if(et===L){return;}et=L;if(aZ===''||aZ.clientHeight<=0||ca===IPCC.ViewMode.SinglePage){this.aM('pageLayout');return;}var Bf=dh;var Kv=ca;if(ca===IPCC.ViewMode.EqualWidthPages||ca===IPCC.ViewMode.EqualFitPages){C.Qf(IPCC.ViewMode.Document);}aZ.scrollLeft=0;aZ.scrollTop=0;var F=0;var ad;if(et===IPCC.PageLayout.VerticalScrollDirection){if(mV){mV.setAttribute('style',aip);}Ck.insertBefore(mc,mV);for(F=0;F<bK.length;F++){ad=document.getElementById(bK[F].am);ad.style.display='block';if(es>0){ad.style.margin=gQ+'px auto '+iu+'px auto';}}ac.style.margin='0px '+ia+'px 0px '+ib+'px';aZ.scrollLeft=(gc-aZ.clientWidth)/2+ia+oQ;}else{if(mV){mV.setAttribute('style',aiL);}Ck.removeChild(mc);for(F=0;F<bK.length;F++){ad=document.getElementById(bK[F].am);ad.style.display='inline-block';if(es>0){ad.style.margin=gQ+'px '+ia+'px '+iu+'px '+ib+'px';}}ac.style.margin='0px';aZ.scrollTop=(gK-aZ.clientHeight)/2+gQ+qQ;}if(Kv===IPCC.ViewMode.EqualWidthPages){C.Qf(IPCC.ViewMode.EqualWidthPages);}else if(Kv===IPCC.ViewMode.EqualFitPages){C.Qf(IPCC.ViewMode.EqualFitPages);}this.tg(Bf);lM(true);this.aM('layout');};this.aCO=function(){return ca;};this.Qf=function(L,eV){eV=eV||IPCC.ScaleTrigger.ViewMode;if(ca===L){return;}ca=L;if(aZ===''||aZ.clientHeight<=0){this.aM('viewMode');return;}var Bf=dh;this.tg(Bf);if(ca===IPCC.ViewMode.Document){var lm=1;var ai=es;var bE=gx;if(ip(qL)===true){ai=gx;bE=es;}if(et===IPCC.PageLayout.VerticalScrollDirection){lm=(aZ.clientWidth-(ia+ib+oQ+nA))/ai;}else{lm=(aZ.clientHeight-(gQ+iu+qQ+qm))/bE;}jK(lm,true,undefined,undefined,undefined,undefined,eV);}else{Uk(eV);}this.tg(Bf);this.aM('viewMode');Cw(cN,true);nv(cN,true);};var qL=0;this.azE=function(){return qL;};this.aAt=function(L){if(qL!==L){qL=L;var F=0;for(F=0;F<bK.length;F++){if(bK[F].LU===0){bK[F].fY=qL;}}this.aM('pageRotation');}};this.aaK=function(bI){var dk;if(arguments.length>0){if(!isNaN(bI)){dk=bI;}else{dk=dh;}}else{dk=dh;}for(var F=0;F<bK.length;F++){if(dk===F){return bK[F].fY;}}return 0;};var ll=false;this.eD=function(){return ll;};this.im=function(L){if(typeof L!=="boolean"){return;}if(L===ll){return;}ll=L;};this.azJ=function(){return SJ;};this.aBN=function(L,stampImages,wR,tw){if(SJ!==L){SJ=L;var F=0;for(F=0;F<bK.length;F++){if(bK[F].ai>0){bK[F].bM.ahJ(L,F,bK[F].ai,bK[F].bE,null,stampImages,wR,tw);bK[F].AN=false;}else{bK[F].bM.ahJ(L,F,es,gx,null,stampImages,wR,tw);bK[F].AN=true;}}this.aM('annotationXmlDom');}};var lC;this.uT=function(L){lC=L;};this.lO=function(){return lC;};var pD=false;this.kE=function(){return pD;};this.rg=function(L){if(typeof L!=="boolean"){return;}if(L===pD){return;}pD=L;IPCC.bb.forEach(bK,function(co,F){var aW;if(bK[F].am){aW=document.getElementById(bK[F].am).aY;if(aW){aW.rg(pD);}aW=undefined;}});};this.azk=function(L){if(Mt!==L){Mt=L;this.aM('loadingContent');}};this.azh=function(){return Mt;};this.aAI=function(){var aaT=new IPCC.Web.UI.ImGearPageCollection();var F=0;for(F=0;F<dE.length;F++){aaT.agB(bK[dE[F]].bn);}return aaT;};this.aCg=function(aH){if(bK[aH]){return bK[aH].am;}};this.oC=function(){return nK;};this.sd=function(L){nK=L;};this.hL=function(){return lV;};this.sl=function(L){lV=L;};this.Zd=function(bw,AP,AD){var C=this;if(bw.lG()>0||bw.nh()>0){AP(bw.lG(),bw.nh());return;}bw.requestPageAttributes(function(aa,dj){if(bK[bw.get_pageNumber()].AN===true&&aa!==es){var hX=aa/es;var bM=C.hu(bw);if(bM){agS(bM,hX);}}bK[bw.get_pageNumber()].AN=false;AP(aa,dj);},function(eS){AD(eS);});};this.axR=function(){if(rC===true){return;}rC=true;this.eR(mc,'pccHidden');Cw(cN,true);nv(cN,true);};this.asY=function(){if(rC===false){return;}rC=false;this.lc(mc,'pccHidden');};this.aAC=function(){return rC;};this.lc=function(az,um){var IJ=new RegExp('(?:^|\\s)'+um+'(?!\\S)','g');if(az.className.match(IJ)===null){az.className=az.className+' '+um;}};this.eR=function(az,um){var IJ=new RegExp('(?:^|\\s)'+um+'(?!\\S)','g');az.className=az.className.replace(IJ,'');};this.aCL=function(){return qk;};this.aBj=function(L){qk=L;};this.aCj=function(){return jo;};this.axl=function(L){if(jo===L){return;}var J,dz,wv;if(jo){J=jo.get_mark();wv=cN[J.get_markID()];dz=qk(J,{isSelected:true},(wv)?wv.dz:undefined);if(wv){EJ(J,cN,dz);}}J=dz=wv=undefined;jo=L;if(jo){J=jo.get_mark();wv=cN[J.get_markID()];dz=qk(J,{isSelected:true},(wv)?wv.dz:undefined);if(wv){EJ(J,cN,dz);}}nv(cN,true);};this.atN=function(Zw){var jM=xs();IPCC.bb.forEach(Zw,function(NL){var dr=cN[NL];if(dr){var mp=qk(dr.J,{isSelected:(dr.J.get_conversation()===jo)},dr.dz);if(!IPCC.bb.vJ(mp)){throw new Error(mp+' is not a valid HTMLElement');}if(mp!==dr.dz){EJ(dr.J,cN,mp);}}});nv(cN,true,jM);};this.initialize=function(){var bk=this.gy();var F;for(F=bk.childNodes.length-1;F>=0;F--){if(bk.childNodes[F].tagName!=='INPUT'){bk.removeChild(bk.childNodes[F]);}}this.kW.add_documentAdded(UE);this.kW.add_pageAdded(HD);this.kW.add_pageRemoved(Jr);this.JA(true);bk.aY=this;akC();var WN='webkit moz o'.split(' '),wy='';if(ac.style.animationName!==undefined){Ma='animationend';Dy='transitionend';return;}for(F=0;F<WN.length;F++){if(ac.style[WN[F]+'Animation']!==undefined){wy=WN[F];Ma=wy+'AnimationEnd';Dy=wy+'TransitionEnd';break;}}};this.aqB=function(){mV=document.createElement('div');var Di=document.createElement('div'),ahk=document.createElement('div'),mP=document.createElement('button'),yT=document.createElement('span'),gl=new Date(),Fc=gl.getFullYear(),Pk='?utm_source=rv&utm_medium=rv&utm_campaign=rv'+Fc,akT=function(){C.lc(Di,'open');},ahR=function(){C.eR(Di,'open');};mP.innerHTML='&#215;';mP.setAttribute('type','button');ahk.innerHTML='<h3>Prizm Content Connect v10.3.1029.3448</h3><p>Prizm Content Connect is a web based online document viewer and can be embedded into any web page or linked from any page. Learn more about Prizm Content Connect at <a href="http://www.accusoft.com'+Pk+'">www.accusoft.com</a>.</p><p>&copy; '+Fc+' Accusoft - All Rights Reserved.</p>';Di.className='pccPageListAboutModal';Di.appendChild(mP);Di.appendChild(ahk);element.appendChild(Di);yT.setAttribute('style',''+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAAvlJREFUeNp0kk9IHGcYxp95Z76Zb/bbT8xuFXdd3QXBquTmoX/EWgoe7MmI9laKZ2/SemlDaRsIRG9JLz30kFx6Smkh5lQs/WMXehHciEiVKllYdHdmcGeZcXe/b3pIWppoHniO7+/9wfsaS0tLuCoXFxcYHh7+tq+vb7nZbPpEZJim2ZskyR+7u7tv+74PIQSSJHlhzqpWq1cC4zhGFEW3hRALrutei+MY3W4XqVTqrWKx+L3neTeCIIBt2y9AzYmJCTiOc6lSSoRh6Hme97BUKq0kSWJordHpdNDf3z+WSqVe833/sRACruuCcw7OOYyNjY1Ldv9ulFKiUqlgf3//w5mZmfutVgtaawAA5xzVanUtCIL1fD4PIoLWGlaxWLwE1FrDMAzYtm3mcrnC4eHhg+3t7denp6c/9X0fANButzE0NHSHiPbK5fIjpRQYY6AwDPGqep63GkXR38vLy+9GUfTZwcHBr5lMBkmSQCmFbreLwcHBH1qt1sTOzg6Ojo5AeHU+NgzjThiGkFL+uLCwYG1tbb1zcnJSkVL+9wlaa3NxcfGn2dnZzOjo6NVAIvocwDoRQQiBs7OzT4QQ3fHxcezt7a2YpgnLsgAAURSBiAYmJye/azabMOfn51/m3TMMY822bSilolqtthpFUeX8/PzG2NgYPz09/SUIgsrAwMAHnU4HRM+cHMcZ4Zz3Wy9d965t2ytKKcRxjDAMn8ZxvJROp+/29PRACIFCoXBzc3PzluM4X5VKpZtBEJw3Go37pmnWc7nc7/83fGhZ1ke+7//m+77SWl9zHCfb29tbJCIkSQKtNfL5/HthGP5ZrVa/SafTFaXUg2w2mxkZGfkCwFMLgAXgZwBTRPSEiOaCIAjb7fabtm2PMsYKrutOcc6nGWPStm3Mzc09Oj4+/pox9lc2m/2SMSY9z1ur1WrrFoDV59DrSqknQghwzlGv18uGYZSTJIHrupBSMiJ6gzE2JaVczOfzK0SERqPxuF6vv29ZFkzTxD8DAOIqXOXDxS7hAAAAAElFTkSuQmCC)'+' no-repeat;'+'background: '+'url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAaCAYAAADFTB7LAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAB3dJREFUeNqkl0tsG9cVhv97586T5FAULVKibFmiHAu2E7R2ZMZtVTtJi3ahjV9Igy4CxAW0CQIvEvQBZOdFs+imRbsKUBe2gyBujcLOC0lTx5WFNrCMMorhGHJb2YJMPWlxRHKGM3d4Z7oRCVkVHdm9wFlwMMPz4Zzz//deMjIygkdd9XodyWTyb6qqHnRdt0gplVq8qkqSZFiWdbRYLP7ZcRyEYQhCyKZzkYMHDz4yoO/7iMVih3K53JUwDOH7/oZJwzCEJEnQNI3fvHkzNzk5OSHLMiRJ2nQuqbe3F4SQRwpJkmBZ1rSu6/9Kp9PHPM9rmSAIAhBCJNM0h1dWVs7W63VHURRIkrSpIMPDw3jcxTnH1q1bf7V9+/bXbNtu2bogCKDrOsIwvDo5OXlwcXERiqJsKgd91Oo1glKKIAhw586d113X/cAwDARBsHESSuG6Lhhj381kMu/4vg/f95vwQoiWIfX09KBer28qhBAP/A7DEJRSeJ73YSKR+JGiKIlW80gIaczuk4qiMM75Z5IkQVVV6LoOVVU3DJbL5TZV6jAMm0CNpSgKyuUyRkdHLdd1jw4ODl4TQsgPE02tVkNfX98bsVjsP9PT038wTRO6rkMIsWFetm/fvk0DBkHwgAIlSYIsy1hZWcGZM2e+oJSeOHDgwNlSqYQwDDesYhiGsG0bpmme1jRt1nGcT1RVRUPd679jlUrlsQHDMIQsyzh27BgqlQry+fy5/v7+PfF4/OflcvmBaq+FFEKAUoq+vr535+bmnq5Wq1Plchme5/2PBZHTp08/NuDq898YhvGxLMsfnDp1CpOTkxgZGfm4vb39B5VKZUPIhjg0TQNj7HY+nx8cGxurWJYFXdcfFBj+v/U2IeRV27bPAciePHkSnZ2dmJiYeEFRlClN075W2WEY7hwYGLgQiURACIGqqlAUpRnS4cOHN02zTiSXABxfbZvmOM73u7u7f9/X11c/f/68VywW/7579+6fhGFIhRAtlc05h2ma/el0OgPgfU3TkEqlkEgkkEgkHhvwMwA/XFeRVKVS2d/T03NO13WMjo7OdnZ2TnV0dBzlnLfeawmB53nIZDJPq6rqz83NXU0mk4hEIojFYo8MGKGUXgUw1OKVbkrp2729vda1a9cwMTHxZSKR0Lq7u4dc133oIYFzjvb29u9xzm+Vy+WbQgg4jrN5QEJInBDyD0LI3hYzVZZl+XnXdb9aWFhANBrFzMwMLMv6a39//wFd13d4ntey1Q0fzGazxzjnH929e3d2dnZ20yLZAmCcELJnfcsJIVAUZVEI8Q3Hccanp6cxNTWFvXv34vjx4+js7MSNGzdetG17WtO0Df2xIRrOORzHof39/Zd0Xe8uFoubAuwHkAfwxHo4Xdeh6/pHCwsL6Vu3bt11HCcthDAB4P79+0gmk0ilUlheXl65ffv2C7Isi43MeC2k4zhgjHUODQ19fujQoeTXAQ4AuA5g6/qWGIaBYrF4Znx8/MTS0tJLyWTyK8bYfFtb2/S2bdtuGoZxOQiC12q1GiKRCABcm5mZeVmW5Zaz2PjfSqUCxlj7wMBAD3sI3FMAxgCYjY8ppc1Nf2VlxV1eXk60tbV9sWXLlnQQBPB9H5qmtRmG0SaE2G0YxnO7du1K5fP5nxWLRdTr9bOKojyZyWR+allWE7RxPqzVapifn3/XcZxfApgwTbOlSJ4BcDUMwyhjDIwxCCHgeV5o2zYcx4HneXI8Hh8wDCPKOW/OY2PHaRwuMpnMdyzLKly8ePGfqqoiEol8qqpqzjCMJwCAMYZyuVwqFApvhGE4vLy8/EfTNJd6e3vDVCplbLTVfRvAKACJEBK4rsuFEJoQoumDDZBWs7R2TlVVRb1ex9jY2LcWFhY+X21jx86dO//CGNOKxeII53xU0zR0dXW90tXV9SaAqO/7KBQKr69v8dCqCUurQ0s9zxuZmZn5MhaL/VjTtEFJkvaqqppYVS+CIGjGemBCCFzXhaZpOHLkyMULFy7kXNed3rFjx1K5XP5mEAQwTTOSyWR+G4/HXwmCALIsw3VdLC4unrp3796v1wI+C+AyALL29pZOp8uO40xYljXhui5KpZIK4Kmurq5ngiDI6bo+qKrqLsYYkWW5WdlGqxv2Ua1WU9ls9rJlWYMdHR2lWCx2VFGUV9va2p6llCIMQwghUCwWLzmO87Jt28uyLKMBOAzg/TWw0wDep5T+yfO8K7FYDNVqFYwxAPBc173ued71paWl31FKQSntzGQy+znng9FoNMcY28cYS8my3KykbdvIZrNZz/Nuua4bpFKprrWWU61WC9Vq9cT8/Pwn8Xi8eWdhAF4E8A6AAoC3AHwIYHzt3ttw+YYQJEkCpRSapkEIgSAI5jnn75VKpffq9To454qqqnsopYPRaHQ/gEFVVfd4nqfIspw2DAOe5yEIAnDOUSqV3rRt+xeKokBVVVBKUa/Xm4BbADwH4MrjnLfWXqIadkEp5b7v54UQed/336rVamhvb++o1Wr7NE0bBJCLx+PPu657o1AovEQp/Xc0Gt3wvvzfAQC0fOWy6L2jqgAAAABJRU5ErkJggg==)'+' no-repeat 0% 0% / 20px');yT.style.width='20px';yT.style.height='14px';yT.style.display='inline-block';yT.style.position='relative';yT.style.marginRight='5px';yT.style.top='3px';mV.appendChild(yT);mV.innerHTML+='Prizm Content Connect v10.3.1029.3448';if(et===IPCC.PageLayout.HorizontalScrollDirection&&ca!==IPCC.ViewMode.SinglePage){mV.setAttribute('style',aiL);}else{mV.setAttribute('style',aip);}Ck.appendChild(mV);if(!mV.addEventListener){mV.attachEvent('onclick',akT);}else{mV.addEventListener('click',akT,false);}if(!mP.addEventListener){mP.attachEvent('onclick',ahR);}else{mP.addEventListener('click',ahR,false);}ahW=mV.offsetHeight;};this.Qa=function(){return jr;};this.JA=function(L){jr=L;this.aM('enabled');};this.avz=function(){if(dh+1<bK.length){C.tg(dh+1);}};this.awn=function(){var Ya=dh-1;if(Ya<0){Ya=0;}C.tg(Ya);};function Bq(R){IPCC.Web.UI.aJ.removeHandler(R.target,Ma,Bq);IPCC.Web.UI.aJ.removeHandler(R.target,Dy,Bq);if(Jg>dh){C.eR(R.target,'pccNextPageIn');C.eR(R.target,'pccPreviousPageIn');C.eR(R.target,'pccCurrentPage');C.eR(R.target,'pccPageBack');C.eR(R.target,'pccPageForward');C.lc(R.target,'pccNextPage');}else if(Jg<dh){C.eR(R.target,'pccNextPageIn');C.eR(R.target,'pccPreviousPageIn');C.eR(R.target,'pccCurrentPage');C.eR(R.target,'pccPageBack');C.eR(R.target,'pccPageForward');C.lc(R.target,'pccPreviousPage');}C.eR(ac,'pccPageListContainerPageChanging');aZ.style.overflow='auto';kU=null;ac.style.overflow='hidden';var mT=IPCC.bb.filter(cN,function(el){return el.bI===dh+1;});QT(mT);setTimeout(function(){lM(true);},60);};this.tg=function(aH){var Is=dh;var mT;if(ca===IPCC.ViewMode.SinglePage){pK=aH;eK=aH;jz=aH;mT=IPCC.bb.filter(cN,function(el){return el.bI!==aH+1;});JJ(mT);}else{var bw=document.getElementById(bK[aH].am);vQ=true;if(et===IPCC.PageLayout.VerticalScrollDirection){aZ.scrollTop=bw.offsetTop;}else{aZ.scrollLeft=bw.offsetLeft;}}if(dh!==aH){dh=aH;var R=new IPCC.PageEventArgs();R.imGearPage=C.get_currentPage();R.pageIndex=dh;R.pageNodeID=bK[dh].am;C.bo('currentPageChanged',R);if(ca===IPCC.ViewMode.SinglePage){var gD=document.getElementById(bK[dh].am);var sg=document.getElementById(bK[Is].am);if(gD===null){gD=fi({overflow:'hidden',position:'absolute',margin:'0px'});gD.className='pccPageListItem pccCurrentPage';jG.push(dh);if(es>0){if(ip(qL)===true){gD.style.width=gx*dM*SCREEN_RESOLUTION/bK[dh].eJ+'px';gD.style.height=es*dM*SCREEN_RESOLUTION/bK[dh].fX+'px';}else{gD.style.width=es*dM*SCREEN_RESOLUTION/bK[dh].fX+'px';gD.style.height=gx*dM*SCREEN_RESOLUTION/bK[dh].eJ+'px';}}else{gD.style.width=ac.clientWidth-ia-ib+'px';gD.style.height=ac.clientWidth*0.8+'px';}gD.style.display='block';gD.setAttribute('id',bK[dh].am);ac.appendChild(gD);}if(Dy.length>0){aZ.style.overflow='hidden';ac.style.width=gD.style.width;ac.style.height=gD.style.height;ac.style.overflow='visible';if(kU!==null){IPCC.Web.UI.aJ.removeHandler(kU,Ma,Bq);IPCC.Web.UI.aJ.removeHandler(kU,Dy,Bq);if(Jg>dh){this.eR(kU,'pccNextPageIn');this.eR(kU,'pccPreviousPageIn');this.eR(kU,'pccCurrentPage');this.eR(kU,'pccPageForward');this.eR(kU,'pccPageBack');this.lc(kU,'pccNextPage');}else if(Jg<dh){this.eR(kU,'pccNextPageIn');this.eR(kU,'pccPreviousPageIn');this.eR(kU,'pccCurrentPage');this.eR(kU,'pccPageForward');this.eR(kU,'pccPageBack');this.lc(kU,'pccPreviousPage');}}IPCC.Web.UI.aJ.addHandler(sg,Ma,Bq);IPCC.Web.UI.aJ.addHandler(sg,Dy,Bq);kU=sg;Jg=Is;this.lc(ac,'pccPageListContainerPageChanging');if(dh>Is){this.lc(sg,'pccPageForward');this.eR(gD,'pccPageBack');this.eR(gD,'pccPreviousPage');this.eR(gD,'pccPreviousPageIn');this.eR(gD,'pccNextPage');this.lc(gD,'pccCurrentPage');this.lc(gD,'pccNextPageIn');}else{this.lc(sg,'pccPageBack');this.eR(gD,'pccPageForward');this.eR(gD,'pccPreviousPage');this.eR(gD,'pccNextPage');this.eR(gD,'pccNextPageIn');this.lc(gD,'pccCurrentPage');this.lc(gD,'pccPreviousPageIn');}}else{ac.style.width=gD.style.width;ac.style.height=gD.style.height;if(dh>Is){this.eR(sg,'pccNextPage');this.eR(sg,'pccCurrentPage');this.lc(sg,'pccPreviousPage');}else{this.eR(sg,'pccPreviousPage');this.eR(sg,'pccCurrentPage');this.lc(sg,'pccNextPage');}this.eR(gD,'pccPreviousPage');this.eR(gD,'pccNextPage');this.lc(gD,'pccCurrentPage');mT=IPCC.bb.filter(cN,function(el){return el.bI===aH+1;});QT(mT);setTimeout(function(){lM(true);},60);}}}};this.auM=function(){if(bK.length>0){C.tg(0);}};this.avO=function(){if(dh<bK.length-1){C.tg(bK.length-1);}};this.atO=function(cK){if(rC===false){return "CommentsPanelClosed";}var fu=cN[cK.get_mark().get_markID()];if(!fu){return "ConversationDivDoesNotExist";}if(ca===IPCC.ViewMode.SinglePage&&fu.bI-1!==dh){return "SinglePageModePageNotShown";}var bw=document.getElementById(bK[fu.bI-1].am);if(bK[fu.bI-1].dX===false||bw===undefined||bw.aY===undefined||bw.aY===null||bw.aY.hD()===false){return "PageOutOfView";}var V=cK.get_mark().get_boundingRectangle();var rI=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(V.x,V.y),true);var Bo=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(V.x+V.width,V.y),true);rI.x=ac.offsetWidth;Bo.x=ac.offsetWidth+wN();C.afM(bw.offsetTop,bw.offsetLeft,rI,Bo);return "Success";};this.aug=function(aH,V){if(ca===IPCC.ViewMode.SinglePage&&aH!==dh){return true;}var bw=document.getElementById(bK[aH].am);if(bK[aH].dX===false||bw===undefined||bw.aY===undefined||bw.aY===null||bw.aY.hD()===false){return false;}var rI=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(V.x,V.y),true);var Bo=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(V.x+V.width,V.y+V.height),true);C.afM(bw.offsetTop,bw.offsetLeft,rI,Bo);return true;};this.auu=function(aof,aph){aZ.scrollTop+=Math.round(aph);aZ.scrollLeft+=Math.round(aof);};this.afM=function(axL,ayX,rI,Bo){var adp=Bo.x-rI.x;var ada=Bo.y-rI.y;var dH=new IPCC.Web.UI.Point(0,0);if(adp>aZ.clientWidth){dH.x=rI.x;}else{dH.x=rI.x+(adp/2);}if(ada>aZ.clientHeight){dH.y=rI.y;}else{dH.y=rI.y+(ada/2);}if(et===IPCC.PageLayout.VerticalScrollDirection){aZ.scrollTop=axL+dH.y-aZ.clientHeight/2;aZ.scrollLeft=dH.x-aZ.clientWidth/2;}else{aZ.scrollLeft=ayX+dH.x-aZ.clientWidth/2;aZ.scrollTop=dH.y-aZ.clientHeight/2;}};this.asn=function(){if(C.kW.get_length()>0){C.kW.removeAllDocuments();}if(dE.length>0){FP++;setTimeout(function(){Xd();},10);return;}};this.aaN=function(aH,ao,ds,fp){if(bK[aH]&&bK[aH].dX===true){var ad=document.getElementById(bK[aH].am);if(ad&&ad.aY&&ad.aY.hD()===true){if(fp){IPCC.bU.fp(fp,"selectText");var gw=ad.aY.xA();var awy=gw.hF;var awu=gw.cW;gw.hF=fp;gw.cW=fp;ad.aY.showTextSelection(ao,ds);gw.hF=awy;gw.cW=awu;}else{ad.aY.showTextSelection(ao,ds);}}}};this.arF=function(){var F;for(F=0;F<dE.length;F++){if(bK[dE[F]].dX===true){var cA=document.getElementById(bK[dE[F]].am),aY=cA?cA.aY:undefined;if(aY&&aY.hD()===true){aY.showEmptyTextSelection(0);aY.extendTextSelection(undefined);aY.display();}}}};this.ast=function(aH){if(bK[aH]&&bK[aH].dX===true){var cA=document.getElementById(bK[aH].am),aY=cA?cA.aY:undefined;if(aY&&aY.hD()===true){aY.showEmptyTextSelection(0);aY.extendTextSelection(undefined);aY.display();}}};this.xm=function(){var bw,bF,aY;bN=null;IPCC.bb.forEach(oI,function(F){bw=bK[F];bF=document.getElementById(bw.am);if(bF){aY=bF.aY;}if(aY){if(aY.hD()&&aY.DM()){aY.showEmptyTextSelection(0);aY.extendTextSelection(undefined);if(bw.dX){aY.display();}}}bw=bF=aY=undefined;});};this.zZ=function(aH,sY){var ad;var aW;bK[aH].fY+=sY;if(bK[aH].fY>=360){bK[aH].fY-=360;}if(bK[aH].fY<= -360){bK[aH].fY+=360;}if(bK[aH].am){ad=document.getElementById(bK[aH].am);}if(ad===undefined||ad===null){return;}aW=ad.aY;if(aW&&aW.hD()===false){bK[aH].LU+=sY;return;}vQ=true;if(aW&&aW.hD()===true){aW.rotate(sY);}var ai=0;var bE=0;var eo=es;var dU=gx;if(ip(qL)===true){eo=gx;dU=es;}if(ip(bK[aH].fY)===true){if(aW&&aW.hD()===true){ai=aW.get_pageHeight();bE=aW.get_pageWidth();}else{ai=gx;bE=es;}}else{if(aW&&aW.hD()===true){ai=aW.get_pageWidth();bE=aW.get_pageHeight();}else{ai=es;bE=gx;}}vQ=true;if(ca===IPCC.ViewMode.SinglePage){ad.style.width=ai*dM*SCREEN_RESOLUTION/bK[aH].fX+'px';ad.style.height=bE*dM*SCREEN_RESOLUTION/bK[aH].eJ+'px';if(aH===dh){ac.style.width=ai*dM*SCREEN_RESOLUTION/bK[aH].fX+'px';ac.style.height=bE*dM*SCREEN_RESOLUTION/bK[aH].eJ+'px';}}else if(ca===IPCC.ViewMode.Document){ad.style.width=ai*dM*SCREEN_RESOLUTION/bK[aH].fX+'px';ad.style.height=bE*dM*SCREEN_RESOLUTION/bK[aH].eJ+'px';var F=0;if(et===IPCC.PageLayout.VerticalScrollDirection){if(ai*dM*SCREEN_RESOLUTION/bK[aH].fX>gc){gc=ai*dM*SCREEN_RESOLUTION/bK[aH].fX;}else if(ad.clientHeight>=gc-10){gc=0;for(F=0;F<bK.length;F++){ad=document.getElementById(bK[F].am);if(ad.clientWidth>gc){gc=ad.clientWidth;}}}if(bE*dM*SCREEN_RESOLUTION/bK[aH].eJ>gK){gK=bE*dM*SCREEN_RESOLUTION/bK[aH].eJ;}}else{if(bE*dM*SCREEN_RESOLUTION/bK[aH].eJ>gK){gK=bE*dM*SCREEN_RESOLUTION/bK[aH].eJ;}else if(ad.clientWidth>=gK-10){gK=0;for(F=0;F<bK.length;F++){ad=document.getElementById(bK[F].am);if(ad.clientHeight>gK){gK=ad.clientHeight;}}}if(ai*dM*SCREEN_RESOLUTION/bK[aH].fX>gc){gc=ai*dM*SCREEN_RESOLUTION/bK[aH].fX;}}}else{var gS;if(et===IPCC.PageLayout.VerticalScrollDirection){gS=eo/ai*dM*SCREEN_RESOLUTION/bK[aH].eJ;if(aW&&aW.hD()===true){aW.zoom(gS);}vQ=true;ad.style.width=eo*dM*SCREEN_RESOLUTION/bK[aH].fX+'px';ad.style.height=gS*bE+'px';}else{gS=dU/bE*dM*SCREEN_RESOLUTION/bK[aH].eJ;if(aW&&aW.hD()===true){aW.zoom(gS);}vQ=true;ad.style.height=dU*dM*SCREEN_RESOLUTION/bK[aH].eJ+'px';ad.style.width=gS*ai+'px';}if(eo*dM*SCREEN_RESOLUTION/bK[aH].fX>gc){gc=eo*dM*SCREEN_RESOLUTION/bK[aH].fX;}if(dU*dM*SCREEN_RESOLUTION/bK[aH].eJ>gK){gK=dU*dM*SCREEN_RESOLUTION/bK[aH].eJ;}}if(aW&&aW.hD()===true){vQ=true;this.vM(ad,aH);setTimeout(function(){if(rC===false){return;}var jM=xs();var mT=IPCC.bb.filter(cN,function(el){return aH===el.bI-1;});Cw(mT);nv(mT,true,jM);},0);}};this.avk=function(sY){this.zZ(dh,sY);yc();};this.acq=function(sY){var Bf=dh;if(ca!==IPCC.ViewMode.SinglePage){this.tg(Bf);}var it=0;var jF=bK.length-1;var F;for(F=it;F<=jF;F++){this.zZ(F,sY);}if(ca!==IPCC.ViewMode.SinglePage){this.tg(Bf);}};this.CI=function(aH){IPCC.bU.jS(aH,'pageIndex',0,bK.length-1);var bw=bK[aH];if(bw&&bw.am&&(bw.tA===true||bw.hs===false)){var bm;var ad=document.getElementById(bw.am);if(ad.aY){ad.aY.dispose();}Wg(ad);bm=new IPCC.Web.UI.PageView(ad,false);if(bm){bm.set_autoUpdate(false);bm.pm(ad);bm.initialize();bm.set_imageHandlerUrl(bw.aG.oj);bm.set_requireRequestsOptimize(nK);if(lV!==undefined){bm.set_serviceResponseTimeout(lV);}bm.set_scrollBars(IPCC.Web.UI.ScrollBars.None);IR(bm,bw);VW(bm);KV(bm);Vx(bm);Vv(bm);}bm.set_textRequired(un);bm.set_markHandleMode(tG);bm.set_cursor(-1);bm.set_debug(_debug);bm.set_debugErrorLevel(kd);bm.im(C.eD());if(lC){bm.set_resourcePath(lC);}if(kN){bm.Jn(kN());}else{bm.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bm.rg(C.kE());var iQ=new IPCC.OpenPageEventArgs();iQ.pageIndex=bw.bn.get_pageNumber();iQ.imGearPage=bw.bn;iQ.viewRotationDegreesClockwise=bw.fY;iQ.pageNodeID=bw.am;C.bo('pageOpening',iQ);bw.tA=false;bw.hV=false;var Cs={encodedDocumentIdentifier:bw.aG.get_encodedDocumentIdentifier(),pageNumber:aH,artServiceOption:0,documentArtPage:bw.ez,viewRotationDegreesClockwise:bw.fY};if(bw.bM){Cs.artPage=bw.bM;}if(bw.ez){Cs.documentArtPage=bw.ez;}bm.openPage(Cs);bw.hs=true;ga++;}};function Uk(eV,eE){if(es<=0){return;}var eo=es;var dU=gx;var dZ=SCREEN_RESOLUTION/bK[0].fX;if(ip(qL)===true){eo=gx;dU=es;dZ=SCREEN_RESOLUTION/bK[0].eJ;}var lm=1;if(et===IPCC.PageLayout.VerticalScrollDirection){lm=(aZ.clientWidth-wN()-(ia+ib+oQ+nA))/(eo*dZ);}else{lm=(aZ.clientHeight-(gQ+iu+qQ+qm))/(dU*dZ);}var vm;if(dM<=lm){vm=false;}else if(dM>lm){vm=true;}if(isNaN(lm)||lm<=0||Math.abs(lm)===Infinity){return;}dM=lm;gc=0;gK=0;var it=0;var jF=bK.length-1;var aA=0;for(aA=it;aA<=jF;aA++){var aW;if(bK[aA].am){aW=document.getElementById(bK[aA].am).aY;}var ad=document.getElementById(bK[aA].am);var ai=eo;var bE=dU;if(bK[aA].ai>0){if(ip(bK[aA].fY)===true){ai=bK[aA].bE;bE=bK[aA].ai;}else{ai=bK[aA].ai;bE=bK[aA].bE;}}var gS=1;if(et===IPCC.PageLayout.VerticalScrollDirection){gS=eo/ai*dM*dZ;ad.style.width=eo*dM*dZ+'px';ad.style.height=bE*gS+'px';if(eo*dM*dZ>gc){gc=eo*dM*dZ;}if(bE*gS*SCREEN_RESOLUTION/bK[aA].eJ>gK){gK=bE*gS*dZ;}}else{gS=dU/bE*dM;ad.style.height=dU*dM*dZ+'px';ad.style.width=ai*gS*dZ+'px';if(ai*dM*SCREEN_RESOLUTION/bK[aA].fX>gc){gc=ai*dM*dZ;}if(dU*gS*dZ>gK){gK=dU*gS*dZ;}}if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.zoom(gS);}if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.display();}}yc(true);lM(true);setTimeout(function(){Cw(cN);nv(cN);},0);C.bo('scaleChanged',{scaleType:(vm)?"scaledDown":"scaledUp",scaleTrigger:eV,fitType:eE,scaleFactor:dM});};function ip(ci){switch(ci){case 90:case 270:case-90:case-270:return true;default:return false;}};function fi(ku){var sh=document.createElement('div');var F;for(F in ku){if(ku.hasOwnProperty(F)){sh.style[F]=ku[F];}}return sh;};this.VS=function(){if(sJ===undefined||sJ===null){sJ=1;}var cD=this.gy().id.toString()+'_'+sJ.toString();sJ++;return cD;};this.abS=function(){return this.kW;};this.hu=function(Xl){for(var fV=0;fV<bK.length;fV++){var fH=bK[fV];if(Xl===fH.bn){return bK[fV].bM;}}return null;};function UE(bz,R){Hw(R);};function Hw(bL){var dv=bL.imGearDocument;var VD=C.VS();dv.pw=VD;var cQ=dv.get_pages();var cT=cQ.get_length();if(cT>0){var yw=document.createDocumentFragment();for(var aA=0;aA<cT;aA++){var bw=cQ.getPage(aA);if(!bw.aG){bw.aG=dv;}XF(bw,yw);}ac.appendChild(yw);}};var anO=IPCC.bb.ajT(function(){if(OK.length>0&&jr){var yw=document.createDocumentFragment();while(OK.length>0){XF(OK.shift(),yw);}ac.appendChild(yw);Cw(cN,true);nv(cN,true);if(C.kW.ajw(0).eB===bK.length){C.bo('allPagesAdded');}setTimeout(function(){lM(true);},60);}},10);function HD(bz,R){if(R.imGearPage.get_pageNumber()===0){XF(R.imGearPage);return;}OK.push(R.imGearPage);anO();};function Jr(bz,R){var dk=R.imGearPage.get_pageNumber();var Bx=R.imGearPage.aG.get_documentIdentifier();for(var aA=0;aA<bK.length;aA++){if(bK[aA].bn.get_pageNumber()===dk&&bK[aA].bn.aG.get_documentIdentifier()===Bx){var ad=document.getElementById(bK[aA].am);ac.removeChild(ad);if(ad.aY){ad.aY.dispose();var mT=IPCC.bb.filter(cN,function(el){return el.bI===bK[aA].dk+1;});JJ(mT);}var nD= -1;if(Array.prototype.indexOf){nD=dE.indexOf(dk);}else{nD=IPCC.Web.hh(dE,dk);}if(nD!== -1){dE.splice(nD,1);}bK.splice(aA,1);}}};function XF(bL,yw){var bw=bL;var Ei=bw.get_pageNumber();var bG;var bk=C.gy();var dv=null;var oi;var sR=[];var F=0;var ba=0;var cT=C.get_documents().get_length();for(ba=0;ba<cT;ba++){dv=C.get_documents().getDocument(ba);if(dv!==null){oi=dv.pw;if(oi===bw.aG.pw){break;}}}for(var cz=0;cz<bK.length;cz++){if(bK[cz].aG){dv=bK[cz].aG;if(cz===0){sR[F]=dv;F++;continue;}else if(bK[cz-1].aG!==dv){sR[F]=dv;F++;continue;}}}for(cz=bK.length-1;cz>=0;cz--){if(bK[cz].bn){if(bK[cz].bn===bw){return;}}}var sa=true;var fD;var QH;var cU;for(cz=0;cz<bK.length;cz++){fD=bK[cz];if(fD.Dr===1){if(bw.aG.pw===fD.yg){bG=document.getElementById(fD.am);fD.Dr=0;QH=fD.am;sa=false;cU=fD;break;}}}var kR=false;for(cz=bK.length-1;cz>=0;cz--){if(bK[cz].bn){if(bK[cz].bn.aG===bw.aG){kR=true;break;}}}if(ac===''){akC();}if(sa===true){QH=bw.aG.pw+'_'+IPCC.Pagecounter.toString();IPCC.Pagecounter++;}var OR=QH+'_'+'_pViewId';if(ca!==IPCC.ViewMode.SinglePage||Ei===0){if(ca!==IPCC.ViewMode.SinglePage){bG=fi({overflow:'hidden',position:'relative'});bG.className+=' pccPageListItem';}else{bG=fi({overflow:'hidden',position:'absolute',margin:'0px'});bG.className='pccPageListItem pccCurrentPage';jG.push(0);}if(es>0){if(ip(qL)===true){bG.style.width=gx*dM*SCREEN_RESOLUTION/bK[0].fX+'px';bG.style.height=es*dM*SCREEN_RESOLUTION/bK[0].eJ+'px';}else{bG.style.width=es*dM*SCREEN_RESOLUTION/bK[0].fX+'px';bG.style.height=gx*dM*SCREEN_RESOLUTION/bK[0].eJ+'px';}}else{var alV=ac.clientWidth-ia-ib;if(alV>0){bG.style.width=alV+'px';bG.style.height=ac.clientWidth*0.8+'px';}}if(et===IPCC.PageLayout.VerticalScrollDirection||ca===IPCC.ViewMode.SinglePage){bG.style.display='block';if(es>0){bG.style.margin=gQ+'px auto '+iu+'px auto';}}else{bG.style.display='inline-block';if(es>0){bG.style.margin=gQ+'px '+ia+'px '+iu+'px '+ib+'px';}}bG.setAttribute('id',OR);}if(sa===true){cU=new IPCC.co({page:bw});}amP(bw);aqx(bw);anq(bw);cU.am=OR;cU.bn=bw;cU.yg=oi;cU.dX=false;cU.bM=new IPCC.Web.UI.ArtPage();cU.ez=new IPCC.Web.UI.ArtPage();cU.fY=qL;aoH(cU);anG(cU);apm(cU);aoK(cU);anI(cU);apg(cU);aoC(cU);anZ(cU);anS(cU);ama(cU);cU.AV=false;cU.aG=bw.aG;cU.hV=false;cU.dk=Ei;var LN;var cA;if(sa){if(bK.length===0){ac.appendChild(bG);bK.push(cU);}else{if(yw){if(ca!==IPCC.ViewMode.SinglePage){yw.appendChild(bG);}bK.push(cU);}else{for(cz=0;cz<bK.length;cz++){fD=bK[cz];if(fD.yg===oi){if(fD.bn){var VN=fD.bn.get_pageNumber();if(Ei<VN){bK.splice(cz,0,cU);cA=document.getElementById(fD.am);ac.insertBefore(bG,cA);LN=true;break;}}}}if(!LN){if(ca!==IPCC.ViewMode.SinglePage){ac.appendChild(bG);}bK.push(cU);}}}}var PQ=false;if(bG&&bk.clientWidth>0){var Gx=bk.clientWidth/(bG.clientWidth+(bG.clientLeft*2));var xN=bk.clientHeight/(bG.clientHeight+(bG.clientTop*2));if(bK.length<(Gx*xN)){PQ=true;}}if(bK.length<2){var bm;bm=new IPCC.Web.UI.PageView(document.getElementById(OR),false);if(bm){bm.set_autoUpdate(false);bm.pm(document.getElementById(OR));bm.initialize();bm.set_imageHandlerUrl(bw.aG.oj);bm.set_imGearPage(cU.bn);bm.set_artPage(cU.bM);bm.set_documentArtPage(cU.ez);bm.set_requireRequestsOptimize(nK);if(lV!==undefined){bm.set_serviceResponseTimeout(lV);}bm.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bm.set_textRequired(un);bm.set_markHandleMode(tG);bm.set_cursor(-1);bm.set_debug(_debug);bm.set_debugErrorLevel(kd);bm.im(C.eD());if(lC){bm.set_resourcePath(lC);}if(kN){bm.Jn(kN());}else{bm.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bm.rg(C.kE());}IR(bm,cU);KV(bm);Vx(bm);VW(bm);Vv(bm);var iQ=new IPCC.OpenPageEventArgs();iQ.pageIndex=cU.bn.get_pageNumber();iQ.imGearPage=cU.bn;iQ.viewRotationDegreesClockwise=cU.fY;iQ.pageNodeID=cU.am;C.bo('pageOpening',iQ);bm.openPage({encodedDocumentIdentifier:bw.aG.get_encodedDocumentIdentifier(),pageNumber:bw.get_pageNumber(),artServiceOption:0,imGearPage:cU.bn,artPage:cU.bM,documentArtPage:cU.ez,viewRotationDegreesClockwise:cU.fY});cU.hs=true;ga++;}return bG;};function lM(Hn){if(ga>0||jr===false||kU!==null){return;}var qj;var cg=asL(Hn);if(cg>=0){qj=cg;}if(qj!==undefined&&qj>=0){if(qj<bK.length){anW(bK[qj]);}}};function asL(Hn){yc();var ko;var gm=1;gm=vs;if(gm>hy){gm=hy;}if(Hn===false){gm=0;}for(var aA=eK;aA<=jz;aA++){if(bK[aA].hs===false&&bK[aA].tA===false){if(bK[aA].hV===false&&ko===undefined){ko=aA;break;}else if(Hn){var HS=document.getElementById(bK[aA].am);if(bK[aA].dX===false){C.vM(HS,aA);}}}}if(FP===0&&Hn===true){FP++;setTimeout(function(){if(jr===true){Xd();}},60);}if(ko!==undefined){return ko;}else if(hy>0){var zG= -1;if(pN>=0){if(pN<BS&&pN!==0){return UN(hy,gm);}else{zG=UN(hy,gm);if(zG=== -1){zG=Uu(hy,gm);}pN= -pN;return zG;}}else if(pN<0){if(pN> -BS){return Uu(hy,gm);}else{zG=Uu(hy,gm);if(zG=== -1){zG=UN(hy,gm);}pN= -pN;return zG;}}}return-1;};function Uu(SH,gm){var ko;for(var aA=eK-1;aA>eK-1-SH;aA--){if(aA<0){continue;}if(bK[aA].hs===false&&bK[aA].tA===false){if(bK[aA].hV===false&&ko===undefined){ko=aA;break;}else if(aA>=eK-gm){var HS=document.getElementById(bK[aA].am);if(bK[aA].dX===false){C.vM(HS,aA);}}}}if(ko!==undefined){return ko;}else{return(-1);}};function UN(SH,gm){var ko;for(var aA=jz+1;aA<jz+1+SH;aA++){if(aA>=bK.length){continue;}if(bK[aA].hs===false&&bK[aA].tA===false){if(bK[aA].hV===false&&ko===undefined){ko=aA;break;}else if(aA<=jz+gm){var HS=document.getElementById(bK[aA].am);if(bK[aA].dX===false){C.vM(HS,aA);}}}}if(ko!==undefined){return ko;}else{return(-1);}};function Xd(){yc();function ajP(aA,dK){var nD= -1;if(Array.prototype.indexOf){nD=dK.indexOf(aA);}else{nD=IPCC.Web.hh(dK,aA);}if(nD!== -1){dK.splice(nD,1);}if(ca===IPCC.ViewMode.SinglePage){var jJ= -1;if(Array.prototype.indexOf){jJ=jG.indexOf(aA);}else{jJ=IPCC.Web.hh(jG,aA);}if(jJ!== -1){jG.splice(jJ,1);}}bK[aA].hV=false;bK[aA].hs=false;bK[aA].dX=false;var wm=document.getElementById(bK[aA].am);if(wm&&wm.aY){wm.aY.dispose();var mT=IPCC.bb.filter(cN,function(el){return el.bI===bK[aA].dk+1;});JJ(mT);if(ca===IPCC.ViewMode.SinglePage){wm.parentNode.removeChild(wm);}return aA;}return-1;};var UQ= -1;for(var aA=0;aA<oI.length;aA++){if(jr===false||((oI[aA]<eK-hy||oI[aA]>jz+hy)&&bK[oI[aA]].am)){ajP(oI[aA],oI);}}for(aA=0;aA<dE.length;aA++){if(jr===false||((dE[aA]<eK-vs||dE[aA]>jz+vs)&&bK[dE[aA]].am)){if(jr===false||((dE[aA]<eK-hy||dE[aA]>jz+hy)&&bK[dE[aA]].am)||document.documentMode===8){UQ=ajP(dE[aA],dE);if(UQ!== -1){break;}}else{var wm=document.getElementById(bK[dE[aA]].am);if(wm&&wm.aY){wm.aY.arB();}var aH=dE[aA];var nD= -1;if(Array.prototype.indexOf){nD=dE.indexOf(aH);}else{nD=IPCC.Web.hh(dE,aH);}if(nD!== -1){dE.splice(nD,1);}bK[aH].hV=true;bK[aH].hs=false;bK[aH].dX=false;var te=false;for(var ba=0;ba<oI.length;ba++){if(oI[ba]===aH){te=true;}}if(te===false){oI.push(aH);}}}}if(ca===IPCC.ViewMode.SinglePage){for(aA=jG.length;aA>=0;aA--){var MD=jG[aA];if(jr===false||((MD<eK-hy||MD>jz+hy)&&bK[MD].am)){var alO=document.getElementById(bK[MD].am);alO.parentNode.removeChild(alO);jG.splice(aA,1);}}}if(FP>0){FP--;}if(jr===false&&dE.length===0&&bK.length>0){bK=[];var bk=C.gy();aZ.removeChild(ac);bk.removeChild(aZ);return;}if(UQ!== -1){FP++;setTimeout(function(){Xd();},1000);}};function anW(bw){var ax;if(ca===IPCC.ViewMode.SinglePage&&document.getElementById(bw.am)===null){var bG=fi({overflow:'hidden',position:'absolute',margin:'0px'});bG.className='pccPageListItem';jG.push(bw.dk);if(bw.dk>dh){C.lc(bG,'pccNextPage');}else if(bw.dk<dh){C.lc(bG,'pccPreviousPage');}else{C.lc(bG,'pccCurrentPage');}if(es>0){if(ip(qL)===true){bG.style.width=gx*dM*SCREEN_RESOLUTION/bK[0].fX+'px';bG.style.height=es*dM*SCREEN_RESOLUTION/bK[0].eJ+'px';}else{bG.style.width=es*dM*SCREEN_RESOLUTION/bK[0].fX+'px';bG.style.height=gx*dM*SCREEN_RESOLUTION/bK[0].eJ+'px';}}else{bG.style.width=ac.clientWidth-ia-ib+'px';bG.style.height=ac.clientWidth*0.8+'px';}bG.style.display='block';bG.setAttribute('id',bw.am);ax=bG;ac.appendChild(bG);}else{ax=document.getElementById(bw.am);}if(ax===null){return;}var bm;bm=new IPCC.Web.UI.PageView(document.getElementById(bw.am),false);if(bm){bm.set_autoUpdate(false);bm.pm(document.getElementById(bw.am));bm.initialize();bm.set_imageHandlerUrl(bw.aG.oj);bm.set_imGearPage(bw.bn);bm.set_artPage(bw.bM);bm.set_requireRequestsOptimize(nK);if(lV!==undefined){bm.set_serviceResponseTimeout(lV);}bm.set_scrollBars(IPCC.Web.UI.ScrollBars.None);bm.set_textRequired(un);bm.set_markHandleMode(tG);bm.set_cursor(-1);bm.set_debug(_debug);bm.set_debugErrorLevel(kd);bm.im(C.eD());if(lC){bm.set_resourcePath(lC);}if(kN){bm.Jn(kN());}else{bm.set_mouseTool(IPCC.Web.UI.MouseTool.None);}bm.rg(C.kE());}IR(bm,bw);KV(bm);Vx(bm);VW(bm);Vv(bm);if(bw.hV===false){if(bw.bn){var iQ=new IPCC.OpenPageEventArgs();iQ.pageIndex=bw.bn.get_pageNumber();iQ.imGearPage=bw.bn;iQ.viewRotationDegreesClockwise=bw.fY;iQ.pageNodeID=bw.am;C.bo('pageOpening',iQ);var Cs={encodedDocumentIdentifier:bw.bn.aG.get_encodedDocumentIdentifier(),pageNumber:bw.bn.get_pageNumber(),imGearPage:bw.bn,viewRotationDegreesClockwise:bw.fY};if(bw.bM){Cs.artPage=bw.bM;}if(bw.ez){Cs.documentArtPage=bw.ez;}bm.openPage(Cs);bw.hs=true;ga++;}}};function agS(bM,hX){var ar;bM.forEachMark(function(J){switch(J.get_type()){case IPCC.Web.UI.MarkType.Line:var bv=J.get_points();var aT=bv.zH(0);var jQ=bv.zH(1);bv.setPoint(0,new IPCC.Web.UI.Point(aT.x*hX,aT.y*hX));bv.setPoint(1,new IPCC.Web.UI.Point(jQ.x*hX,jQ.y*hX));break;case IPCC.Web.UI.MarkType.Text:case IPCC.Web.UI.MarkType.Rectangle:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Ellipse:case IPCC.Web.UI.MarkType.Stamp:case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:case IPCC.Web.UI.MarkType.RectangleRedaction:case IPCC.Web.UI.MarkType.Freehand:case IPCC.Web.UI.MarkType.SignaturePath:case IPCC.Web.UI.MarkType.SignatureText:case IPCC.Web.UI.MarkType.TextLine:case IPCC.Web.UI.MarkType.TextSelectionRedaction:ar=J.get_rectangle();J.set_rectangle({x:ar.x*hX,y:ar.y*hX,width:ar.width*hX,height:ar.height*hX});break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:ar=J.get_rectangle();J.set_rectangle({x:ar.x*hX,y:ar.y*hX,width:ar.width*hX,height:ar.height*hX});var cl=J.cl,iW;for(var i=0;i<cl.length;i++){iW=cl[i];iW.x=iW.x*hX;iW.y=iW.y*hX;iW.width=iW.width*hX;iW.height=iW.height*hX;}break;default:break;}});};function IR(bm,bw){function VR(sender,evnt){var dk=evnt.pageNumber;var Bx=evnt.documentIdentifier;bw.ai=bm.get_pageWidth();bw.bE=bm.get_pageHeight();var fQ=bm.get_pageXResolution();var hE=bm.get_pageYResolution();if(!isNaN(parseFloat(fQ))&&isFinite(fQ)){bw.fX=fQ;}if(!isNaN(parseFloat(hE))&&isFinite(hE)){bw.eJ=hE;}bm=null;for(var aA=0;aA<bK.length;aA++){if(jr&&bK[aA].bn.get_pageNumber()===dk&&bK[aA].bn.aG.get_documentIdentifier()===Bx){bK[aA].hs=false;bK[aA].hV=true;bK[aA].tA=false;if(ca===IPCC.ViewMode.SinglePage){var jJ= -1;if(Array.prototype.indexOf){jJ=jG.indexOf(aA);}else{jJ=IPCC.Web.hh(jG,aA);}if(jJ!== -1){jG.splice(jJ,1);}}var te=false;for(var ba=0;ba<oI.length;ba++){if(oI[ba]===aA){te=true;}}if(te===false){oI.push(aA);}var nk=0;var lL=0;var ad=document.getElementById(bK[aA].am);var aW=ad.aY;var eo;var dU;var Um;if(es===0&&(aA===0||bK[0].tA===true)){if(ad.currentStyle){qQ=parseInt(ad.currentStyle.borderTopWidth,10)||0;gQ=parseInt(ad.currentStyle.marginTop,10)||0;oQ=parseInt(ad.currentStyle.borderLeftWidth,10)||0;ia=parseInt(ad.currentStyle.marginLeft,10)||0;qm=parseInt(ad.currentStyle.borderBottomWidth,10)||0;iu=parseInt(ad.currentStyle.marginBottom,10)||0;nA=parseInt(ad.currentStyle.borderRightWidth,10)||0;ib=parseInt(ad.currentStyle.marginRight,10)||0;}else if(document.defaultView&&document.defaultView.getComputedStyle){var xJ=document.defaultView.getComputedStyle(ad);qQ=parseInt(xJ.borderTopWidth,10)||0;gQ=parseInt(xJ.marginTop,10)||0;oQ=parseInt(xJ.borderLeftWidth,10)||0;ia=parseInt(xJ.marginLeft,10)||0;qm=parseInt(xJ.borderBottomWidth,10)||0;iu=parseInt(xJ.marginBottom,10)||0;nA=parseInt(xJ.borderRightWidth,10)||0;ib=parseInt(xJ.marginRight,10)||0;}if(ca===IPCC.ViewMode.SinglePage){ad.style.margin=gQ+'px 0px '+iu+'px 0px';ac.style.margin="0px auto";}else{if(et===IPCC.PageLayout.VerticalScrollDirection){ad.style.margin=gQ+'px auto '+iu+'px auto';}else{ad.style.margin=gQ+'px '+ia+'px '+iu+'px '+ib+'px';ac.style.margin='0px '+ia+'px 0px '+ib+'px';}}es=aW.get_pageWidth();gx=aW.get_pageHeight();eo=es;dU=gx;var dZ=SCREEN_RESOLUTION/bK[aA].fX;if(ip(bK[aA].fY)===true){dU=es;eo=gx;dZ=SCREEN_RESOLUTION/bK[aA].eJ;}C.aqB();if(ca===IPCC.ViewMode.SinglePage){var arP=(aZ.offsetWidth-(ia+ib+oQ+nA));var asV=(aZ.offsetHeight-(gQ+iu+qQ+qm+ahW));ql=arP/(eo*dZ);Um=asV/(dU*dZ);if(Um<ql){ql=Um;}aW.zoom(ql*dZ);}else if(et===IPCC.PageLayout.VerticalScrollDirection){ql=(aZ.offsetWidth-IPCC.Web.pq()-(ia+ib+oQ+nA))/(eo*dZ);aW.zoom(ql*dZ);}else{ql=(aZ.offsetHeight-IPCC.Web.pq()-(gQ+iu+qQ+qm))/(dU*dZ);aW.zoom(ql*dZ);}nk=eo*ql*dZ;lL=dU*ql*dZ;ad.style.width=nk+'px';ad.style.height=lL+'px';if(ca===IPCC.ViewMode.SinglePage){ac.style.width=nk+'px';ac.style.height=lL+'px';}if(ca!==IPCC.ViewMode.SinglePage){for(var fV=0;fV<bK.length;fV++){if(bK[fV].dX===false&&fV!==aA){if(bK[fV].am){ad=document.getElementById(bK[fV].am);ad.style.width=eo*ql+'px';ad.style.height=dU*ql+'px';if(et===IPCC.PageLayout.VerticalScrollDirection){ad.style.margin=gQ+'px auto '+iu+'px auto';}else{ad.style.margin=gQ+'px '+ia+'px '+iu+'px '+ib+'px';}}}}}dM=ql;ad.aY.display();dE.push(0);}else{if(ca===IPCC.ViewMode.Document||ca===IPCC.ViewMode.SinglePage){if(ip(bK[aA].fY)===true){nk=aW.get_pageHeight()*dM*SCREEN_RESOLUTION/bK[aA].fX;lL=aW.get_pageWidth()*dM*SCREEN_RESOLUTION/bK[aA].eJ;}else{nk=aW.get_pageWidth()*dM*SCREEN_RESOLUTION/bK[aA].fX;lL=aW.get_pageHeight()*dM*SCREEN_RESOLUTION/bK[aA].eJ;}}else{var gS;var ai=aW.get_pageWidth();var bE=aW.get_pageHeight();eo=es;dU=gx;if(ip(qL)===true){eo=gx;dU=es;}if(ip(bK[aA].fY)===true){ai=aW.get_pageHeight();bE=aW.get_pageWidth();}if(et===IPCC.PageLayout.VerticalScrollDirection){gS=eo/ai*dM*SCREEN_RESOLUTION/bK[0].eJ;nk=eo*dM*SCREEN_RESOLUTION/bK[0].fX;lL=bE*gS;}else{gS=dU/bE*dM*SCREEN_RESOLUTION/bK[0].fX;lL=dU*dM*SCREEN_RESOLUTION/bK[0].eJ;nk=ai*gS;}}if(nk!==Math.round(nk)){nk=Math.floor(nk*100)/100;}if(lL!==Math.round(lL)){lL=Math.floor(lL*100)/100;}if(ad.style.width!==nk+'px'||ad.style.height!==lL+'px'){if(et===IPCC.PageLayout.VerticalScrollDirection){ad.style.width=nk+'px';ad.style.height=lL+'px';}else{ad.style.width=nk+'px';ad.style.height=lL+'px';}Cw(cN,true);nv(cN,true);}}if(nk>gc){gc=nk;if(et===IPCC.PageLayout.VerticalScrollDirection){aZ.scrollLeft=(gc-aZ.clientWidth)/2;}}if(lL>gK){gK=lL;if(et===IPCC.PageLayout.HorizontalScrollDirection){aZ.scrollTop=(gK-aZ.clientHeight)/2;}}if(bK[aA].LU>0){var TG=document.getElementById(bK[aA].am).aY;if(TG){TG.rotate(bK[aA].LU);TG.display();bK[aA].LU=0;}}if(ga>0){ga=ga-1;}if(bK[aA].AN===true&&bK[aA].ai!==es){var hX=bK[aA].ai/es;var bM=C.hu(bK[aA].bn);if(bM){agS(bM,hX);}}bK[aA].AN=false;yc();var iQ=new IPCC.OpenPageEventArgs();iQ.pageIndex=evnt.pageNumber;iQ.imGearPage=evnt.imGearPage;iQ.viewRotationDegreesClockwise=evnt.viewRotationDegreesClockwise;iQ.pageNodeID=bK[aA].am;C.bo('pageOpened',iQ);break;}}if(ga===0&&nc===null&&kU===null){setTimeout(function(){lM(true);},60);}};bm.add_pageOpened(VR);};function KV(bm){function asD(bz,ap){if(jr===false){return;}var zr;if(ap.pageNumber>=0){if(bK[ap.pageNumber].am){zr=bK[ap.pageNumber].am;}}bK[ap.pageNumber].tA=true;bK[ap.pageNumber].hs=false;bK[ap.pageNumber].hV=false;bK[ap.pageNumber].dX=false;var oB=new IPCC.ExceptionEventArgs();oB.exception=ap.exception;oB.pageIndex=ap.pageNumber;oB.pageNodeID=zr;C.bo('pageOpenFailed',oB);if(ga>0){ga=ga-1;if(ga===0){setTimeout(function(){lM(false);},60);}}};bm.add_pageOpenFailed(asD);};function Vx(bm){function asy(bz,ap){if(jr===false){return;}var R=new IPCC.PageEventArgs();R.pageIndex=ap.bI;R.imGearPage=bK[ap.bI].bn;R.pageNodeID=bK[ap.bI].am;bK[ap.bI].dX=true;var te=false;for(var ba=0;ba<dE.length;ba++){if(dE[ba]===ap.bI){te=true;}}if(te===false){dE.push(ap.bI);}if(ca===IPCC.ViewMode.SinglePage){var jJ= -1;if(Array.prototype.indexOf){jJ=jG.indexOf(ap.bI);}else{jJ=IPCC.Web.hh(jG,ap.bI);}if(jJ!== -1){jG.splice(jJ,1);}}C.bo('pageDisplayed',R);setTimeout(function(){var mT=IPCC.bb.filter(cN,function(el){if(ca===IPCC.ViewMode.SinglePage){return ap.bI===el.bI-1&&el.bI-1===dh;}else{return ap.bI===el.bI-1;}});Cw(mT);nv(mT);},0);};bm.add_pageDisplayed(asy);};function aqx(bw){function Hi(bz,ap){if(jr===false){return;}C.bo('textPageReady',{pageIndex:ap.pageNumber,containsText:ap.containsText});var gm=vs;if(gm>hy){gm=hy;}if(ap.containsText===true&&ap.pageNumber>=eK-gm&&ap.pageNumber<=jz+gm){if(bK[ap.pageNumber].bM&&bK[ap.pageNumber].bM.get_markCount()>0){var ad=document.getElementById(bK[ap.pageNumber].am);C.vM(ad,ap.pageNumber);}}};bw.tL(Hi);};function anq(bw){function arN(bz,ap){if(jr===false){return;}var ez=bK[ap.pageNumber].ez;bw.agc().JT().nl(function(iH){var J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.DocumentHyperlink),ar=iH.fF();J.set_rectangle(new IPCC.Web.UI.Rectangle(ar.x,ar.y,ar.width,ar.height));J.set_href(iH.ahS());J.set_lineColor(iH.aBh());J.set_lineWidth(iH.aCJ());J.set_borderPattern(iH.aCv());J.set_borderType(iH.aBA());J.set_borderHorizontalRadius(iH.aBm());J.set_borderVerticalRadius(iH.aBz());J.set_borderOpacity(iH.aBT());ez.addMark(J);iH.azG(J);});C.bo('hyperlinkPageReady',{pageIndex:ap.pageNumber});var gm=vs;if(gm>hy){gm=hy;}if(ap.pageNumber>=eK-gm&&ap.pageNumber<=jz+gm){var ad=document.getElementById(bK[ap.pageNumber].am);C.vM(ad,ap.pageNumber);}};bw.Xs(arN);};function amP(bw){function Fq(bz,ap){if(jr===false){return;}var zr;if(ap.pageNumber>=0){if(bK[ap.pageNumber].am){zr=bK[ap.pageNumber].am;}}C.bo('textExtractionFailed',{'exception':ap.exception,'pageIndex':ap.pageNumber,'pageNodeID':zr});};bw.Cu(Fq);};function VW(bm){function asJ(bz,ap){if(jr===false){return;}var zr;if(isNaN(ap.pageNumber)===false){if(ap.pageNumber>=0){if(bK[ap.pageNumber].am){zr=bK[ap.pageNumber].am;}}bK[ap.pageNumber].tA=true;bK[ap.pageNumber].hs=false;bK[ap.pageNumber].hV=false;bK[ap.pageNumber].dX=false;}var oB=new IPCC.ExceptionEventArgs();oB.functionName=ap.function_name;oB.exception=ap.exception;oB.pageIndex=ap.pageNumber;oB.pageNodeID=zr;C.bo('exceptionThrown',oB);if(ga>0){ga=ga-1;if(ga===0){setTimeout(function(){lM(false);},60);}}};bm.add_exceptionThrown(asJ);};function Vv(bm){function Hg(bz,ap){C.bo('markCreating',ap);};bm.add_markCreating(Hg);};function aoH(co){function alm(){if(jr===false){return;}var gm=vs;if(gm>hy){gm=hy;}if(co.dk>=eK-gm&&co.dk<=jz+gm){var ad=document.getElementById(co.am);C.vM(ad,co.dk);}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;C.bo('marksLoaded',R);};co.bM.add_marksLoaded(alm);};function anG(co){function ij(bz,ap){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;R.clientX=ap.clientX;R.clientY=ap.clientY;C.bo('markAdded',R);};co.bM.add_markAdded(ij);};function apm(co){var Yc,tM=false,YW,YJ;function Hf(h,fu){if(rC===false){return;}var jM=xs();agq(h,fu,jM);nv(cN,true,jM);};function apy(h,fu){YW=h;YJ=fu;if(tM&& !Yc){Yc=HU(function(){tM=false;Yc=undefined;if(YW&&YJ){Hf(YW,YJ);}else{Hf(h,fu);}});}};function pB(bz,ap){if(ap.mark.yR===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;R.propertyName=ap.propertyName;C.bo('markChanged',R);var fu=cN[ap.mark.get_markID()];if(fu&&(ap.propertyName==='rectangle'||ap.propertyName==='points'||ap.propertyName==='startPoint'||ap.propertyName==='endPoint')){tM=true;apy(ap.mark,fu);}else if(fu&&ap.propertyName==='visible'){var atS=ap.mark.get_visible();var Vp=(function(dr){return IPCC.bb.inArray(dE,dr.bI-1)&&dr.bI-1>=eK&&dr.bI-1<=jz;})(fu);if(atS&&Vp){QT([fu]);nv(cN,true,xs());}else{JJ([fu]);}}};co.bM.add_markChanged(pB);};function aoK(co){function alg(bz,ap){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;R.oldZIndex=ap.oldZIndex;C.bo('markReordered',R);};co.bM.add_markReordered(alg);};function anI(co){function Cc(bz,ap){if(ap.mark.yR===true){return;}var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;C.bo('markSelectionChanged',R);};co.bM.add_markSelectionChanged(Cc);};function aoC(co){function Bd(bz,ap){if(ap.mark){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;C.bo('markRemoved',R);var fu=cN[ap.mark.get_markID()];if(fu){if(ap.mark.get_conversation()===jo){jo=null;}fu.dz.parentElement.removeChild(fu.dz);delete cN[ap.mark.get_markID()];nv(cN,true);}}};co.bM.add_markRemoved(Bd);};function apg(co){function Ce(bz,ap){var R=new IPCC.Web.UI.MarkEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.zIndex=ap.zIndex;C.bo('markTextSelectionChanged',R);};co.bM.add_markTextSelectionChanged(Ce);};function agq(h,fu,LE){var co=bK[fu.bI-1],bw=document.getElementById(co.am),Ea=Uz(h,co.dk+1);if(bw.aY){var dH=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(Ea.x,Ea.y),true);var ZP=(gQ*(co.dk*1));var IE=(bw.offsetTop-ZP+dH.y)/(LE-(gQ*bK.length));fu.ar=Ea;fu.TS=IE;}};function JJ(kF,bI){var avA=typeof bI==='undefined';IPCC.bb.forEach(kF,function(aS){if(aS&&(avA||aS.pageNumber===bI)){aS.dz.style.display='none';aS.IB=false;}});};function wN(){if(mc.currentStyle&&mc.currentStyle.display==='none'){return 0;}return mc.clientWidth;};function xs(){if(mc.currentStyle&&mc.currentStyle.display==='none'){return 0;}return mc.offsetHeight;};function QT(kF,bI){var azS=typeof bI==='undefined';IPCC.bb.forEach(kF,function(el){if(azS||el.pageNumber===bI){el.dz.style.display='';el.IB=true;if(el&&el.J&&el.J.get_visible()===false){el.dz.style.display='none';el.IB=false;}}});};function Cw(kF,Zo){if(rC===false){return;}var Rj=(! !Zo)?IPCC.bb.filter(cN,function(dr){return IPCC.bb.inArray(dE,dr.bI-1)&&dr.bI-1>=eK&&dr.bI-1<=jz;}):kF;var jM=xs();IPCC.bb.forEach(Rj,function(el){agq(el.J,el,jM);});};function aqw(a,b){return(a.ar.y!==b.ar.y)?(a.ar.y-b.ar.y):(a.ar.x!==b.ar.x)?(a.ar.x-b.ar.x):(a.yQ-b.yQ);};function aqG(a,b){return(a.ar.x!==b.ar.x)?(a.ar.x-b.ar.x):(a.ar.y!==b.ar.y)?(b.ar.y-a.ar.y):(a.yQ-b.yQ);};function aqE(a,b){return(a.ar.y!==b.ar.y)?(b.ar.y-a.ar.y):(a.ar.x!==b.ar.x)?(b.ar.x-a.ar.x):(a.yQ-b.yQ);};function aqd(a,b){return(a.ar.x!==b.ar.x)?(b.ar.x-a.ar.x):(a.ar.y!==b.ar.y)?(a.ar.y-b.ar.y):(a.yQ-b.yQ);};function apB(YI,jM,Ca){Ca=Ca||0;var _top,ajX,IX,Wn=(gQ*bK.length),QW=jM-Wn;IPCC.bb.forEach(YI,function(dr){IX=(gQ*(dr.bI-1));ajX=(dr.TS*QW)+IX;_top=Math.max(Ca+5,ajX);if(dr.dz.style.top!==_top+'px'){dr.dz.style.top=_top+'px';}Ca=_top+dr.YS;});};function apJ(YI,jM){var Nk,_top,Nn,IX,agt,Wn=(gQ*bK.length),QW=jM-Wn;IPCC.bb.forEach(YI,function(dr){IX=(gQ*(dr.bI-1));Nn=(dr.TS*QW)+IX;if(Nk===undefined){Nk=Nn;}if(dr.J.get_conversation()===jo){_top=Nn;agt=_top+dr.YS;}else{_top=Math.min(Nk-5-dr.YS,Nn);}if(dr.dz.style.top!==_top+'px'){dr.dz.style.top=_top+'px';}Nk=_top;});return agt;};function nv(kF,Zo,jM){if(rC===false){return;}if(!jM){jM=xs();}var aAA=function(a,b){if(a.bI!==b.bI){return(a.bI-b.bI);}var bw=bK[a.bI-1],ci=bw.fY;switch(ci){case 90:return aqG(a,b);case 180:return aqE(a,b);case 270:return aqd(a,b);default:return aqw(a,b);}};var Rj=(! !Zo)?IPCC.bb.filter(cN,function(dr){return IPCC.bb.inArray(dE,dr.bI-1)&&dr.bI-1>=eK&&dr.bI-1<=jz;}):kF;QT(Rj);var apU=IPCC.bb.map(Rj,function(dr,aI){dr.YS=dr.dz.offsetHeight;return dr;});var Yr=apU.sort(aAA);var Re=[],SY=[],XY=false;if(jo){var aBu=cN[jo.get_mark().get_markID()];if(!IPCC.bb.inArray(Yr,aBu)){XY=true;}IPCC.bb.forEach(Yr,function(dr){if(XY){SY.push(dr);}else if(dr.J.get_conversation()===jo){Re.unshift(dr);XY=true;}else{Re.unshift(dr);}});}else{SY=Yr;}var Ca=0;if(Re.length){Ca=apJ(Re,jM);}apB(SY,jM,Ca);};function ath(kF,h,dk){var dr=kF[h.iL()];dr.bI=dk;dr.J=h;dr.ar=Uz(h,dk);dr.yQ=h.ft().ov(h);};function EJ(h,kF,mp){var fu=kF[h.get_markID()];if(fu){fu.dz.parentElement.replaceChild(mp,fu.dz);fu.dz=mp;}return fu;};function amk(h,kF,mp,axU,aFl,IE,dk){var fu=new IPCC.fu();fu.dz=mp;cN[h.get_markID()]=fu;ath(cN,h,dk);fu.TS=IE;axU.appendChild(mp);return fu;};function Uz(h,bI){var ar=(h.get_boundingRectangle)?h.get_boundingRectangle():{},ci=bK[bI-1].fY;switch(ci){case 90:return{x:ar.x,y:ar.y+(ar.height||0)};case 180:return{x:ar.x+(ar.width||0),y:ar.y+(ar.height||0)};case 270:return{x:ar.x+(ar.width||0),y:ar.y};default:return{x:ar.x,y:ar.y};}};function anZ(co){function Oi(bz,ap){var R=new IPCC.Web.UI.CommentEventArgs();R.pageIndex=co.dk;R.mark=ap.mark;R.index=ap.index;R.comment=ap.comment;var bw=document.getElementById(co.am);C.bo('commentAdding',R);setTimeout(function(){var LE=xs(),fu,dz;if(ap.index===0){dz=qk(ap.mark,{isSelected:false},null);if(!dz){return;}else if(!IPCC.bb.vJ(dz)){throw new Error(dz+' is not a valid HTMLElement');}var Ea=Uz(ap.mark,co.dk+1),avX=Ea.x,ayk=Ea.y;var dH;if(bw&&bw.aY){dH=bw.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(avX,ayk),true);}else{dH=new IPCC.Web.UI.Point(0,0);}var ZP=(gQ*(co.dk));var IE=(bw.offsetTop-ZP+dH.y)/(LE-(gQ*bK.length));fu=amk(ap.mark,cN,dz,mc,dH,IE,co.dk+1);}else{var hB=ap.mark.get_conversation()===jo;dz=qk(ap.mark,{isSelected:hB},cN[ap.mark.get_markID()].dz);if(!dz){return;}else if(!IPCC.bb.vJ(dz)){throw new Error(dz+' is not a valid HTMLElement');}fu=EJ(ap.mark,cN,dz);}if(IPCC.bb.inArray(dE,co.dk)&&co.dk>=eK&&co.dk<=jz){nv(cN,true,LE);}else{JJ([fu]);}C.bo('commentAdded',R);},0);};co.bM.add_commentAdded(Oi);};function anS(co){function NQ(bz,ap){var dz=null;if(cN[ap.mark.get_markID()]){dz=cN[ap.mark.get_markID()].dz;var hB=ap.mark.get_conversation()===jo;dz=qk(ap.mark,{isSelected:hB},dz);}if(!dz){C.bo('commentChanged',ap);return;}else if(!IPCC.bb.vJ(dz)){throw new Error(dz+' is not a valid HTMLElement');}if(dz){var jM=xs();EJ(ap.mark,cN,dz);nv(cN,true,jM);}C.bo('commentChanged',ap);};co.bM.add_commentChanged(NQ);};function ama(co){function KZ(bz,ap){var dz=null;if(cN[ap.mark.get_markID()]){dz=cN[ap.mark.get_markID()].dz;}var hB=ap.mark.get_conversation()===jo;dz=qk(ap.mark,{isSelected:hB},dz);if(IPCC.bb.vJ(dz)){EJ(ap.mark,cN,dz);}else{var fu=cN[ap.mark.get_markID()];if(fu){if(ap.mark.get_conversation()===jo){jo=null;}fu.dz.parentElement.removeChild(fu.dz);delete cN[ap.mark.get_markID()];}}nv(cN,true);C.bo('commentRemoved',ap);};co.bM.add_commentRemoved(KZ);};function Uw(){var dj=gx;var aa=es;var azc=function(jC){return{width:jC.width||(jC.right-jC.left),height:jC.height||(jC.bottom-jC.top),top:jC.top,bottom:jC.bottom,left:jC.left,right:jC.right};};var adM=azc(aZ.getBoundingClientRect());var oX={height:Math.floor(adM.height/2)};oX.width=oX.height*aa/dj;if(oX.width>aa/2){oX.width=aa/2;}if(oX.height>dj/2){oX.height=dj/2;}var LB={height:Math.floor(dj*8)};LB.width=LB.height*aa/dj;var asM=aa*dM<oX.width+5;var asT=aa*dM>LB.width-5;return{min:oX,max:LB,page:{width:aa,height:dj},viewport:adM,atMin:asM,atMax:asT,maxFactor:LB.width/aa,minFactor:oX.width/aa};};function jK(bP,Ud){if(Ud){alw.apply(this,arguments);return;}var vm=(bP<dM)?true:false;var nC=Uw();if((nC.atMin&&vm)||(nC.atMax&& !vm)){return;}if(bP>nC.maxFactor){bP=nC.maxFactor;}else if(bP<nC.minFactor){bP=nC.minFactor;}if(!nC.atMax|| !nC.atMin){alw.apply(this,arguments);}};function alw(bP,aFw,ae,fv,Ci,zY,eV,eE){if(isNaN(bP)||bP<=0||Math.abs(bP)===Infinity){return;}var vm=(bP<dM)?true:false;var it=0;var jF=bK.length-1;if(ca===IPCC.ViewMode.SinglePage){if(dh-hy>=0){it=dh-hy;}if(dh+hy<bK.length-1){jF=dh+hy;}}var Ow=bP/dM;dM=bP;var aoW=(zY&&zY.x!==undefined)?zY.x:aZ.scrollLeft+(aZ.clientWidth/2);var anP=(zY&&zY.y!==undefined)?zY.y:aZ.scrollTop+(aZ.clientHeight/2);gc=0;gK=0;for(var aA=it;aA<=jF;aA++){var aW;var ad=document.getElementById(bK[aA].am);if(ad){aW=ad.aY;}else{continue;}var ig=bP*SCREEN_RESOLUTION/bK[aA].fX;var ai=es;var bE=gx;var eo=es;var dU=gx;if(ip(qL)===true){eo=gx;dU=es;}if(bK[aA].ai>0){if(ip(bK[aA].fY)===true){ai=bK[aA].bE;bE=bK[aA].ai;}else{ai=bK[aA].ai;bE=bK[aA].bE;}}else{ig=bP*SCREEN_RESOLUTION/bK[0].fX;if(ip(bK[aA].fY)===true){var Ky=ai;ai=bE;bE=Ky;ig=bP*SCREEN_RESOLUTION/bK[0].eJ;}}var KE,Hc,gS;if(ca===IPCC.ViewMode.SinglePage){Hc=ai*ig;KE=bE*ig;ad.style.width=Hc+'px';ad.style.height=KE+'px';if(aA===dh){ac.style.width=Hc+'px';ac.style.height=KE+'px';}if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.zoom(ig);}}else if(ca===IPCC.ViewMode.Document){Hc=ai*ig;KE=bE*ig;ad.style.width=Hc+'px';ad.style.height=KE+'px';if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.zoom(ig);}if(ai*ig>gc){gc=ai*ig;}if(bE*ig>gK){gK=bE*ig;}}else{ig=bP*SCREEN_RESOLUTION/bK[0].fX;if(et===IPCC.PageLayout.VerticalScrollDirection){gS=eo/ai*ig;ad.style.width=eo*ig+'px';ad.style.height=bE*gS+'px';if(eo*ig>gc){gc=eo*ig;}if(bE*ig>gK){gK=bE*ig;}}else{gS=dU/bE*ig;ad.style.height=dU*ig+'px';ad.style.width=ai*gS+'px';if(ai*ig>gc){gc=ai*ig;}if(dU*ig>gK){gK=dU*ig;}}if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.zoom(gS);}}if(aW&&bK[aA].dX===true&&aW.hD()===true){aW.display();}}if(et===IPCC.PageLayout.VerticalScrollDirection){NI=aZ.scrollTop;}else{NI=aZ.scrollLeft;}var WH,UZ,Yt=0,YM=0;if(Ci){WH=Ci.offsetLeft+Ow*ae;UZ=Ci.offsetTop+Ow*fv;}else{if(et===IPCC.PageLayout.VerticalScrollDirection){YM=gQ*(dh);}else{Yt=(ia+ib)*(dh);}WH=Ow*(aoW-Yt);UZ=Ow*(anP-YM);}aZ.scrollLeft=WH-(aZ.clientWidth/2)+Yt;aZ.scrollTop=UZ-(aZ.clientHeight/2)+YM;yc();if(vm===true&&ca!==IPCC.ViewMode.SinglePage){lM(true);}nv(cN,true);C.bo('scaleChanged',{scaleType:(vm)?"scaledDown":"scaledUp",scaleTrigger:eV,fitType:eE,scaleFactor:dM});};function alk(aj,jv,ix,fG){var lj=aj.igElements;fG=fG||VI(aj);if(fG&&(fG.right-fG.left)>0&&(fG.bottom-fG.top)>0){return new IPCC.Web.UI.Point(jv+fG.left+lj.nZ.scrollLeft,ix+fG.top+lj.nZ.scrollTop);}else{return;}};function VI(aj){var lj=aj.igElements;var fG;if(lj.lK.getBoundingClientRect){try{fG=lj.lK.getBoundingClientRect();}catch(an){return;}}else{var cA=lj.lK;var vu=document.documentElement;fG={left:vu.clientLeft-vu.scrollLeft,top:vu.clientTop-vu.scrollTop};cA=cA.offsetParent;while(cA){fG.top+=cA.offsetTop-cA.scrollTop;fG.left+=cA.offsetLeft-cA.scrollLeft;cA=cA.offsetParent;}}return fG;};function akC(){var bk=C.gy();var Qp=bk.id;var yr;var xz;var qM;var Zs;var XU;var aV=false;var aj;var ri=[];var ww= -1;var iY=0;var nS;var DS;var BU;var mL=0;var de=0;var sS=null;var xd=null;if(ac===''){aZ=fi({width:'100%',height:'100%',position:'relative',margin:'0px',overflow:'auto',textAlign:'center'});aZ.className='pccPageListContainerWrapper';aZ.tabIndex=2;var Qe=function(jv,ix){var kC=document.elementFromPoint(jv,ix);while(kC&&(kC.parentNode||kC.ownerSVGElement)){if(kC.parentNode.id&&kC.parentNode.id.indexOf("__pViewId")!== -1){return kC.parentNode;}kC=kC.ownerSVGElement||kC.parentNode;}return false;};var PF=function(aj,jv,ix){var lj=aj.igElements;var fG=VI(aj);if(fG&&(fG.right-fG.left)>0&&(fG.bottom-fG.top)>0){return new IPCC.Web.UI.Point(jv-fG.left-lj.nZ.scrollLeft,ix-fG.top-lj.nZ.scrollTop);}else{return;}};var azb=function(sq){sq.Jn([new IPCC.pa(IPCC.Web.UI.MarkType.Text)]);};var azt=function(sq){sq.set_mouseTool(IPCC.Web.UI.MouseTool.None);};var RF=false,auf="";var akL=function aDP(an,iO,bw){if(iO.match(/edit/)){RF=true;return;}azb(bw.aY);RF=true;auf=iO;bw.aY.Hh("touchstart",an);};var alf=function(bw){RF=false;azt(bw.aY);};var aaG=function(an){if(an.target&&an.target.attributes&&an.target.getAttribute('data-pcc-mark')){return an.target;}else if(an.target.parentElement&&an.target.parentElement.attributes&&an.target.parentElement.getAttribute('data-pcc-mark')){return an.target.parentElement;}else if(an.target.parentNode&&an.target.parentNode.attributes&&an.target.parentNode.getAttribute('data-pcc-mark')){return an.target.parentNode;}else{return undefined;}};var abH=function(an){var az=aaG(an);if(az){return az.getAttribute('data-pcc-mark');}return undefined;};var ahd=function(sq){if(sq){sq.ft().FJ(function(J){J.set_selected(false);});sq.display();}};var Qm,abu=false;var abr=function(an,R){var rU={dA:undefined,J:undefined,aH:null};var pb=aaG(an);if(pb){if(typeof aj!=='undefined'&&aj!==false&&aj.aY&&aj.igElements&&aj.aY.hD()===true){rU.aH=aj.aY.lW();}if(pb.ImGearMarkRelation){rU.dA='mark';rU.J=pb.ImGearMarkRelation.J;return rU;}else{while(!(pb.ImGearMarkRelation)&&pb.parentNode&&pb!==document.body){pb=pb.parentNode;if(pb.ImGearMarkRelation){rU.dA='mark';rU.J=pb.ImGearMarkRelation.J;return rU;}}}}if(typeof aj!=='undefined'&&aj!==false&&aj.aY&&aj.igElements&&aj.aY.hD()===true){rU.aH=aj.aY.lW();var aH=0;for(aH=0;aH<bK.length;aH++){if(bK[aH].am===aj.id){if(typeof R.targetType==='undefined'||R.targetType===null){rU.dA='page';return rU;}break;}}}return rU;};var PD=function(aH,uV,kf,awM){if(bN===null||bN===undefined){return;}var XR=false;if(uV===undefined){uV=bN.uV;XR=true;}if(kf===undefined){kf=bN.kf;XR=true;}var J;var bw=document.getElementById(bK[aH].am);if(awM===true){J=bN.xy;}else{J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.HighlightText);J.set_rectangle({x:0,y:0,width:0,height:0});J.db=127;J.cW='#3366CC';J.cl=null;bw.aY.kO().addMark(J);}J.set_selected(true);if(XR===true){if(bN.it===bN.jF){J.ao=iY;J.cF=kf-iY+1;J.jH=true;J.km=true;bw.aY.display();}else if(aH===bN.it){J.ao=iY;J.cF=bw.aY.dJ().ey().fb()-1-uV;J.jH=true;J.km=false;bw.aY.display();}else if(aH===bN.jF){J.ao=0;J.cF=kf+1;J.jH=false;J.km=true;bw.aY.display();}else{J.ao=0;J.cF=bw.aY.dJ().ey().fb()-1-iY;J.jH=false;J.km=false;}}else{if(bN.it===bN.jF){J.jH=true;J.km=true;}else if(aH===bN.it){J.jH=true;J.km=false;}else if(aH===bN.jF){J.jH=false;J.km=true;}else{J.jH=false;J.km=false;}}bN.fs[aH]=J;};var kH=function(an){if(BU){if(BU.clientX===an.clientX&&BU.clientY===an.clientY){if(an.rawEvent.preventDefault){an.rawEvent.preventDefault();}else if(an.preventDefault){an.preventDefault();}if(an.rawEvent.stopPropagation){an.rawEvent.stopPropagation();}else if(an.stopPropagation){an.stopPropagation();}abu=true;BU=undefined;return false;}}Qm=an;afF(an,an.clientX,an.clientY,an.button);};var afr=function(an,R){qM=abr(an,R);};var afF=function(an,jv,ix,oU){var R=new IPCC.Web.UI.MouseEventArgs();aj=Qe(jv,ix);afr(an,R);var iO;var pb=aaG(an);if(pb){iO=pb.getAttribute('data-pcc-mark');}var Tk=false;var Nb=iO&&iO.substring(0,10);if(iO&&Nb==='texthandle'){DS=true;Tk=true;Nb=iO.substring(10,13);var J=pb.parentNode.ImGearMarkRelation.J;if(bN&&J.cl===null){ri=bN.rZ.slice();ri[R.pageIndex]=undefined;}else{bN=null;ri=[];C.xm();}var acP=function(atM){iY=bN.uV;var F;for(F=bN.jF;F>=bN.it;F--){var bw=document.getElementById(bK[F].am);if(bw.aY===undefined||bw.aY===null){continue;}var CA=iY;if(F!==bN.it){CA=0;}var su;if(F===bN.jF){su=bN.kf;}else{su=bw.aY.get_textPage().ey().fb()-1;}atM(bw,CA,su);if(F!==bN.qS){PD(F);}}sS=dq;dq=IPCC.Web.UI.MouseTool.SelectText;aV=true;};var F,aH,bM,Nq,fE,us,cu;if(Nb==='sta'){if(bN===null||bN===undefined){aH=J.aH;bN={};bN.fs=[];bN.it=aH;bN.uV=J.ao;iY=J.ao;while(aH<bK.length){bM=bK[aH].bM;Nq=bM.get_markCount();for(F=0;F<Nq;F++){fE=bM.getMark(F);if(J.cI===fE.cI&&fE.get_type()===J.get_type()){bN.fs[aH]=fE;for(us=fE.cl.length-1;us>=0;us--){if(fE.cl[us].set_visible){fE.cl[us].set_visible(false);}else{fE.set_visible(false);break;}}if(aH===J.aH){xd=fE;}else{ri[aH]=cu.substring(fE.ao,fE.cF);fE.set_selected(false);}cu=fE.cu.substring(fE.cF);if(fE.km===true){bN.kf=fE.ao+fE.cF-1;bN.jF=aH;break;}}}aH++;}}nS=bN.kf+1;mL=bN.jF;var aBb=function(bw,CA,su){bw.aY.showEmptyTextSelection(su+1);bw.aY.extendTextSelection(undefined);bw.aY.extendTextSelection(su);bw.aY.extendTextSelection(CA);};bN.fs[bN.it].yR=true;bN.qS=bN.it;bN.xy=bN.fs[bN.it];acP(aBb);}else if(Nb==='end'){if(bN===null||bN===undefined){aH=J.aH;bN={};bN.fs=[];bN.jF=aH;bN.kf=J.ao+J.cF-1;while(aH>=0){bM=bK[aH].bM;Nq=bM.get_markCount();for(F=0;F<Nq;F++){fE=bM.getMark(F);if(J.cI===fE.cI&&fE.get_type()===J.get_type()){bN.fs[aH]=fE;for(us=fE.cl.length-1;us>=0;us--){if(fE.cl[us].set_visible){fE.cl[us].set_visible(false);}else{fE.set_visible(false);break;}}if(aH===J.aH){cu=fE.cu;}else{ri[aH]=cu.substring(cu.length-fE.cF);fE.set_selected(false);}cu=fE.cu.substring(0,cu.length-fE.cF);if(fE.jH===true){bN.uV=fE.ao;iY=fE.ao;bN.it=aH;xd=fE;break;}}}aH--;}}nS=bN.uV;mL=bN.it;var aBF=function(bw,CA,su){bw.aY.showEmptyTextSelection(CA);bw.aY.extendTextSelection(undefined);bw.aY.extendTextSelection(CA);bw.aY.extendTextSelection(su);};bN.fs[bN.jF].yR=true;bN.qS=bN.jF;bN.xy=bN.fs[bN.jF];acP(aBF);}if(xd){aj.aY.display();}}var zI=an.target.tagName&&an.target.tagName.toLowerCase()==='textarea';if(zI){return;}var zo=an.target.tagName&&an.target.tagName.toLowerCase()==='input'&&an.target.type&&an.target.type.toLowerCase()==='text';if(zo){return;}if(dq===IPCC.Web.UI.MouseTool.HandPan&&zl&&iO&&Tk===false){if(!qM||qM.J.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){akL(an,iO,aj);return;}}var cb;var hf;if(aj!==false&&aj.aY&&aj.igElements&&aj.aY.hD()===true){var bh=0;for(bh=0;bh<bK.length;bh++){if(bK[bh].am===aj.id){R.pageIndex=bh;break;}}R.pointLiesWithinImage=true;hf=PF(aj,jv,ix);if(hf){cb=aj.aY.Hv(hf,false);R.imagePoint=cb;R.constrainedImagePoint=cb;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}R.domEvent=an;R.windowPoint=new IPCC.Web.UI.Point(jv,ix);if(Tk===true){ww= -1;de=R.pageIndex;an.preventDefault();C.bo('mouseDown',R);return;}switch(dq){case IPCC.Web.UI.MouseTool.None:an.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:an.preventDefault();yr=ix;xz=jv;Zs=aZ.scrollTop;XU=aZ.scrollLeft;aV=true;ac.style.cursor=IPCC.bi.eU(IPCC.bi.HandClosed);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:an.preventDefault();if(oU===0&&aj&&aj.aY&&cb){C.xm();ri=[];ww= -1;DS=undefined;var cL=aj.aY.transformPagePointToTextIndex(cb);iY=cL;nS=cL;aV=true;if(cL===undefined){C.bo('mouseDown',R);return;}aj.aY.showEmptyTextSelection(cL);aj.aY.extendTextSelection(undefined);aj.aY.extendTextSelection(cL);aj.aY.display();mL=R.pageIndex;de=R.pageIndex;}break;case IPCC.Web.UI.MouseTool.Magnifier:an.preventDefault();if(oU===0&&aj&&aj.aY&&hf){var ja=IPCC.bi.eU(IPCC.bi.None);ac.style.cursor=ja;aj.aY.showMagnifier(hf);aj.aY.display();}aV=true;break;case IPCC.Web.UI.MouseTool.RectangleZoom:an.preventDefault();if(oU===0&&aj&&aj.aY&&cb){aV=true;yr=hf.y;xz=hf.x;aj.aY.showEmptySelection(cb);aj.aY.display();}break;}C.bo('mouseDown',R);};var kT=function(an){agk(an,an.clientX,an.clientY,an.button);};var agk=function(an,jv,ix,oU){var zI=an.target.tagName&&an.target.tagName.toLowerCase()==='textarea';if(zI){return;}var zo=an.target.tagName&&an.target.tagName.toLowerCase()==='input'&&an.target.type&&an.target.type.toLowerCase()==='text';if(zo){return;}var R=new IPCC.Web.UI.MouseEventArgs();R.domEvent=an;R.windowPoint=new IPCC.Web.UI.Point(jv,ix);var cZ=Qe(jv,ix);var cb;var hf;if(cZ!==false&&cZ.aY&&cZ.igElements&&cZ.aY.hD()===true){R.pointLiesWithinImage=true;hf=PF(cZ,jv,ix);if(hf){cb=cZ.aY.Hv(hf,false);R.imagePoint=cb;R.constrainedImagePoint=cb;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}var ja;switch(dq){case IPCC.Web.UI.MouseTool.None:an.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:an.preventDefault();if(aV){var anR=ix;var aod=jv;var axC=yr-anR;var axm=xz-aod;aZ.scrollTop=Zs+axC;aZ.scrollLeft=XU+axm;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:an.preventDefault();if(aV){if(oU!==0){FE();}var iq;if(!cZ){C.bo('mouseMove',R);return;}if(iY===undefined){aj=cZ;}else if(cZ!==aj&&cZ.aY&&hf){ww= -1;var lx=0;var F=0;for(F=0;F<bK.length;F++){if(bK[F].am===cZ.id){lx=F;break;}}if(lx>de){if(lx>mL){iq=aj.aY.get_textPage().ey().fb()-1;if(iq<0){FE();C.bo('mouseMove',R);return;}aj.aY.extendTextSelection(iq);if(bN){iq=aj.aY.get_textPage().ey().fb()-1;bN.fs[de].set_startIndex(aj.aY.PG());bN.fs[de].set_textLength(aj.aY.Er());bN.jF=lx;iY=aj.aY.PG();}ri[de]=aj.aY.getSelectedText();cZ.aY.showEmptyTextSelection(0);cZ.aY.extendTextSelection(undefined);ww=0;aj.aY.display();aj=cZ;}else{iY=0;ri[de]=undefined;ri[lx]=undefined;aj.aY.showEmptyTextSelection(0);aj.aY.extendTextSelection(undefined);if(bN&&bN.fs[de]){bN.fs[de].jH=false;}aj.aY.display();aj=cZ;if(bN&&bN.fs[de]){bN.fs[de]=undefined;bN.it=lx;bN.fs[lx].set_startIndex(0);bN.fs[lx].set_textLength(bN.fs[lx].get_startIndex()+bN.fs[lx].get_textLength());bN.fs[lx].jH=true;aj.aY.display();}}}else if(lx<de){if(lx<mL){iq=aj.aY.get_currentTextIndex();if(iq!==0){aj.aY.extendTextSelection(0);}if(bN){bN.fs[de].set_startIndex(aj.aY.PG());bN.fs[de].set_textLength(aj.aY.Er());bN.it=lx;}ri[de]=aj.aY.getSelectedText();aj.aY.display();iq=cZ.aY.dJ().ey().fb()-1;ww=iq;iY=0;cZ.aY.showEmptyTextSelection(iq+1);cZ.aY.extendTextSelection(undefined);aj=cZ;aj.aY.display();}else{ri[de]=undefined;ri[lx]=undefined;aj.aY.showEmptyTextSelection(0);aj.aY.extendTextSelection(undefined);if(bN&&bN.fs[de]){bN.fs[de].km=false;}aj.aY.display();aj=cZ;if(bN&&bN.fs[de]){bN.fs[de]=undefined;bN.jF=lx;iq=aj.aY.dJ().ey().fb()-1;bN.fs[lx].set_textLength(cZ.aY.Er());bN.fs[lx].km=true;aj.aY.display();}}}de=lx;}var asp=(de<mL),arW=(de>mL);if(aj&&aj.aY&&aj.aY.hD()===true&&hf){hf=PF(aj,jv,ix);cb=aj.aY.Hv(hf,false);var cL=aj.aY.transformPagePointToTextIndex(cb);if(iY===undefined){iY=cL;nS=cL;if(cL===undefined){C.bo('mouseMove',R);return;}aj.aY.showEmptyTextSelection(cL);aj.aY.extendTextSelection(undefined);aj.aY.extendTextSelection(cL);aj.aY.display();var ba=0;for(ba=0;ba<bK.length;ba++){if(bK[ba].am===aj.id){mL=ba;de=ba;break;}}}else{if(iY=== +iY&&cL=== +cL){if(asp){iY=cL;}else if(!arW){iY=Math.min(nS,cL);}}}iq=aj.aY.get_currentTextIndex();if(iq===cL||cL===undefined){C.bo('mouseMove',R);return;}if(ww!== -1){if(cL!==ww){aj.aY.extendTextSelection(ww);}ww= -1;}if((cL>nS&&de===mL)||de>mL){if(bN){if(bN.fs[de]===undefined||bN.fs[de]===null){PD(de,0,0,de===bN.qS);if(de-1>=0&&bN.fs[de-1]){bN.fs[de-1].km=false;document.getElementById(bK[de-1].am).aY.display();}}bN.fs[de].km=true;}if(DS===undefined){DS=false;}}else if(cL<nS||de<mL){if(bN){if(bN.fs[de]===undefined||bN.fs[de]===null){PD(de,aj.aY.dJ().ey().fb()-1,0,de===bN.qS);if(bN.fs[de+1]){bN.fs[de+1].jH=false;document.getElementById(bK[de+1].am).aY.display();}}bN.fs[de].jH=true;}if(DS===undefined){DS=true;nS++;aj.aY.showEmptyTextSelection(nS);aj.aY.extendTextSelection(undefined);var su=aj.aY.dJ().ey().fb();if(nS>=su){aj.aY.extendTextSelection(su-1);}else{aj.aY.extendTextSelection(nS);}}}aj.aY.extendTextSelection(cL);if(bN&&bN.fs[de]){bN.fs[de].set_startIndex(aj.aY.PG());bN.fs[de].set_textLength(aj.aY.Er());}aj.aY.display();}}break;case IPCC.Web.UI.MouseTool.Magnifier:an.preventDefault();if(oU!==0||(aj&&aj.aY&&aj!==cZ)){aj.aY.hideMagnifier();ja=IPCC.bi.eU(IPCC.bi.Magnifier);ac.style.cursor=ja;aj.aY.display();}if(aV&&cZ&&cZ.aY&&hf){aj=cZ;ja=IPCC.bi.eU(IPCC.bi.None);ac.style.cursor=ja;cZ.aY.showMagnifier(hf);cZ.aY.display();}break;case IPCC.Web.UI.MouseTool.RectangleZoom:an.preventDefault();if(aV){if(cZ&&cZ.aY&&cb&&cZ===aj){if(oU!==0){cZ.aY.hideSelection();cZ.aY.display();aV=false;}else{cZ.aY.extendSelection(cb);cZ.aY.display();}}else{aj.aY.hideSelection();aj.aY.display();aV=false;}}break;}C.bo('mouseMove',R);};var hK=function(an){if(abu!==true){WO(an,an.clientX,an.clientY);}else{abu=false;}};var aeN=function(an,R){R.upTargetType=null;var EN=abr(an,R);R.originalEvent=an.rawEvent;R.clientX=an.clientX;R.clientY=an.clientY;R.downTarget={type:undefined,pageIndex:undefined};if(typeof qM!=='undefined'&&typeof qM.dA!=='undefined'){R.downTarget.type=qM.dA;}if(typeof qM!=='undefined'&&typeof qM.aH!=='undefined'){R.downTarget.pageIndex=qM.aH;}R.downMark=(typeof qM!=='undefined')?qM.J:undefined;R.upMark=EN.J;switch(EN.dA){case 'page':case 'mark':R.upTarget={type:EN.dA,pageIndex:EN.aH};break;}if(R.pointLiesWithinImage===false&&EN.dA==='page'){EN.aH= -1;}};var WO=function(an,jv,ix){var R=new IPCC.Web.UI.MouseEventArgs();var cZ;var cb;var hf;if(an){cZ=Qe(jv,ix);if(cZ!==false&&cZ.aY&&cZ.igElements&&cZ.aY.hD()===true){aj=cZ;R.pointLiesWithinImage=true;hf=PF(cZ,jv,ix);if(hf){cb=cZ.aY.Hv(hf,false);R.imagePoint=cb;R.constrainedImagePoint=cb;}else{R.pointLiesWithinImage=false;}}else{R.pointLiesWithinImage=false;}R.domEvent=an;R.windowPoint=new IPCC.Web.UI.Point(jv,ix);aeN(an,R);C.bo('mouseUp',R);}qM=undefined;var ja;switch(dq){case IPCC.Web.UI.MouseTool.None:an.preventDefault();break;case IPCC.Web.UI.MouseTool.HandPan:an.preventDefault();if(aV){xz=undefined;yr=undefined;Zs=undefined;XU=undefined;aV=false;ab=IPCC.bi.HandOpen;ja=IPCC.bi.eU(ab);ac.style.cursor=ja;}break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:if(an){an.preventDefault();}if(aV){var re=new IPCC.Web.UI.TextSelectedEventArgs(),ke=[],F,yh,BW;var kf;var Hy=aj.aY.getSelectedText();var rZ=ri.slice();if(Hy.length>0){rZ[de]=aj.aY.getSelectedText();}else{if(de>mL){de--;aj=document.getElementById(bK[de].am);if(rZ[de]){Hy=rZ[de];}}else if(de<mL){de++;aj=document.getElementById(bK[de].am);if(rZ[de]){Hy=rZ[de];}}}re.text=rZ.join('');var SM=true;if(de>=mL){if(de===mL){if(aj.aY.get_currentTextIndex()>=nS){SM=false;}kf=iY+Hy.length-1;}else{kf=Hy.length-1;}if(kf<0){kf=0;}yh=mL;BW=de;}else{SM=false;kf=nS-1;yh=de;BW=mL;}for(F=yh;F<=BW;F++){ke.push(F);}if(re.text.length===0){FE();ke=[];}re.pageNumbers=ke;re.clientX=jv;re.clientY=ix;if(iY!==undefined){if(dq===IPCC.Web.UI.MouseTool.SelectText){var aCH=function(bw,Cz){var GX=bw.aY.dJ();var fr=GX.ey();var dV=fr.lf(Cz);return dV.wd();};var iq=aj.aY.get_currentTextIndex();var Oc=aCH(aj,iq);var fm=0,eL=0;if(SM===false){fm=Oc.width;eL=Oc.height;}var DA=aj.aY.transformPagePointToWindow(new IPCC.Web.UI.Point(Oc.x+fm,Oc.y+eL),true);var dH=alk(aj,DA.x,DA.y);re.handleClientX=dH.x;re.handleClientY=dH.y;}var aqI=bN===undefined||bN===null;if(xd){re.previousFirstMark=xd;re.firstMark=bN.fs[yh];if(bN.qS<yh||bN.qS>BW){var Kk=document.getElementById(bK[bN.qS].am);if(Kk.aY){Kk.aY.kO().removeMark(bN.xy);}}bN.xy.yR=false;C.xm();if(sS!==null){dq=sS;}sS=null;}else if(aqI===true){if(dq===IPCC.Web.UI.MouseTool.SelectText){bN={it:yh,uV:iY,jF:BW,kf:kf,rZ:rZ.slice(),fs:[]};for(F=0;F<ke.length;F++){PD(ke[F]);}}else{C.xm();}}else{if(bN.qS<yh||bN.qS>BW){var agd=document.getElementById(bK[bN.qS].am);if(agd.aY){agd.aY.kO().removeMark(bN.xy);}}bN.xy.yR=false;bN.it=yh;bN.uV=iY;bN.jF=BW;bN.kf=kf;bN.rZ=rZ.slice();if(sS!==null){dq=sS;}sS=null;}re.mouseTool=dq;re.startIndex=iY;C.bo('selectTextMouseToolCompleted',re);if(xd){xd=null;bN=null;}}aV=false;}break;case IPCC.Web.UI.MouseTool.Magnifier:an.preventDefault();if(cZ&&cZ.aY){cZ.aY.hideMagnifier();ja=IPCC.bi.eU(IPCC.bi.Magnifier);ac.style.cursor=ja;cZ.aY.display();}aV=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:an.preventDefault();if(aV&&hf){var Ds=0;var CX=0;var aax=0;var aae=0;if(hf.x<xz){Ds=xz-hf;aax=hf.x+Ds/2;}else{Ds=hf.x-xz;aax=xz+Ds/2;}if(hf.y<yr){CX=yr-ix;aae=hf.y+CX/2;}else{CX=hf.y-yr;aae=yr+CX/2;}var acI=aZ.clientWidth/Ds;var adu=aZ.clientHeight/CX;var pF=acI;if(acI>adu){pF=adu;}if(cZ&&cZ.aY){cZ.aY.og();cZ.aY.display();}aV=false;if(Ds*2+CX*2>25){C.ann(pF,aax,aae,cZ);}}break;}var zI=false;var zo=false;if(an){zI=an.target.tagName&&an.target.tagName.toLowerCase()==='textarea';zo=an.target.tagName&&an.target.tagName.toLowerCase()==='input'&&an.target.type&&an.target.type.toLowerCase()==='text';}if(RF&& !zI&& !zo){alf(aj);}else if(dq===IPCC.Web.UI.MouseTool.HandPan&&Qm&& !zI&& !zo&&an&&Qm.clientX===an.clientX&&Qm.clientY===an.clientY&&an.shiftKey!==true&&an.ctrlKey!==true){ahd(aj.aY);}};var aCI=function(){var ja;switch(dq){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.HandPan:ab=IPCC.bi.HandOpen;ja=IPCC.bi.eU(ab);ac.style.cursor=ja;aV=false;break;case IPCC.Web.UI.MouseTool.SelectText:FE();break;case IPCC.Web.UI.MouseTool.Magnifier:if(aj&&aj.aY){aj.aY.hideMagnifier();ja=IPCC.bi.eU(IPCC.bi.Magnifier);ac.style.cursor=ja;aj.aY.display();}aV=false;break;case IPCC.Web.UI.MouseTool.RectangleZoom:if(aj&&aj.aY){aj.aY.hideSelection();aj.aY.display();aV=false;}break;}};var axW=function(){aCI();};var ayi=function(){if(dq===IPCC.Web.UI.MouseTool.Magnifier){if(aj&&aj.aY){aj.aY.hideMagnifier();var ja=IPCC.bi.eU(IPCC.bi.Magnifier);ac.style.cursor=ja;aj.aY.display();}aV=false;}else if(dq===IPCC.Web.UI.MouseTool.RectangleZoom){if(aj&&aj.aY){aj.aY.hideSelection();aj.aY.display();aV=false;}}else if(dq===IPCC.Web.UI.MouseTool.SelectText){FE();}};var mw=function(an){if(an.ctrlKey){switch(dq){case IPCC.Web.UI.MouseTool.None:break;case IPCC.Web.UI.MouseTool.SelectText:break;default:break;case IPCC.Web.UI.MouseTool.HandPan:var Pw=an.rawEvent.wheelDelta;an.preventDefault();if(Pw<0){C.zoomOut(1.5);}else{C.zoomIn(1.5);}break;}}else{an.preventDefault();aZ.scrollTop-=an.rawEvent.wheelDelta*0.72;}if(dq===IPCC.Web.UI.MouseTool.Magnifier){if(aj&&aj.aY){aj.aY.hideMagnifier();var ja=IPCC.bi.eU(IPCC.bi.Magnifier);ac.style.cursor=ja;aj.aY.display();}aV=false;}else if(dq===IPCC.Web.UI.MouseTool.RectangleZoom){if(aj&&aj.aY){aj.aY.hideSelection();aj.aY.display();aV=false;}}else if(dq===IPCC.Web.UI.MouseTool.SelectText){FE();}};var aCu=function(au){var R=new IPCC.Web.UI.MouseEventArgs();R.upTarget={type:'comments',element:au.target};R.downTarget={type:'comments',element:au.target};R.originalEvent=au.rawEvent;R.clientX=au.clientX;R.clientY=au.clientY;R.pageIndex=undefined;C.bo('mouseUp',R);};var FE=function(){if(aV===true){if(bN&&bN.qS!==undefined){if(xd){WO(null,0,0);return;}else{var Kk=document.getElementById(bK[bN.qS].am);if(Kk.aY){Kk.aY.kO().removeMark(bN.xy);}bN.xy.yR=false;}}C.xm();xd=null;aV=false;if(sS!==null){dq=sS;}sS=null;}};Ck=fi({position:'relative',width:'auto',height:'auto',display:'table',tableLayout:'fixed',borderSpacing:'0px',margin:'0px auto',clear:'both',boxSizing:'border-box'});if(ca===IPCC.ViewMode.SinglePage){ac=fi({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',overflow:'hidden'});ac.className='pccPageListContainer pccSinglePageView';}else{ac=fi({position:'relative',whiteSpace:'nowrap',width:'auto',height:'auto',display:'table-cell',verticalAlign:'top'});ac.className='pccPageListContainer';}IPCC.Web.UI.aJ.addHandler(ac,"mousedown",kH);IPCC.Web.UI.aJ.addHandler(ac,"mouseup",hK);IPCC.Web.UI.aJ.addHandler(ac,"mousemove",kT);IPCC.Web.UI.aJ.addHandler(ac,"mouseleave",axW);IPCC.Web.UI.aJ.addHandler(ac,"mousewheel",mw);IPCC.Web.UI.aJ.addHandler(ac,"DOMMouseScroll",ayi);aZ.onscroll=(! !HU)?asu:WE;ac.setAttribute('id',Qp+'_ListContainer');aZ.setAttribute('id',Qp+'_ListWrapper');vB=Qp+'_ListWrapper';mc=fi();mc.className='pccPageListComments pccHidden';mc.setAttribute('id',Qp+'_CommentsPanel');var Ub=[];if(IPCC.bb.awc){Ub.push('touchend');}else{Ub.push('click');}IPCC.bb.forEach(Ub,function(evName){IPCC.Web.UI.aJ.addHandler(mc,evName,aCu);});Ck.appendChild(ac);Ck.appendChild(mc);aZ.appendChild(Ck);bk.appendChild(aZ);if(navigator.userAgent.match('MSIE 10')){var aa='',dj='',tZ='',tE='',qX;var yF=function(){qX=getComputedStyle(bk);tZ=qX.getPropertyValue('width');tE=qX.getPropertyValue('height');if(tZ!==aa||tE!==dj){aa=tZ;dj=tE;aZ.style.width=aa;aZ.style.height=dj;}};setInterval(yF,1000);window.addEventListener('resize',yF);yF();C.yF=yF;}var aBx=('ontouchstart'in document.documentElement)||window.navigator.msPointerEnabled;if(document.documentElement.getBoundingClientRect&&Array.prototype.forEach&&aBx&&window.addEventListener&&document.querySelector){asQ(aZ);}var aCr=function(ac,aEv){var na;var ZO=function(au){var bS=au.rawEvent,je=bS.touches[0]||bS.changedTouches[0];au.clientX=je.clientX;au.clientY=je.clientY;au.preventDefault=function(){bS.preventDefault();};au.stopPropagation=function(){bS.stopPropagation();};return au;};var Fz=function(jB,au){var R=new IPCC.Web.UI.MouseEventArgs(),Fx=(jB==='touchstart')?'mouseDown':(jB==='touchend')?'mouseUp':null;var Cy=(jB==='touchstart')?afF:(jB==='touchmove')?agk:(jB==='touchend')?WO:null;na=Qe(au.clientX,au.clientY);if(jB==='doubleTap'){na&&na.aY&&na.aY.Hh(jB,au);}var iO;iO=abH(au);if(iO){if(iO.substring(0,5)==='texth'){au.preventDefault();au.stopPropagation();if(jB==='touchstart'){BU=au;}Cy&&Cy(au,au.clientX,au.clientY,0);return;}}switch(dq){case IPCC.Web.UI.MouseTool.CreateLineMark:case IPCC.Web.UI.MouseTool.CreatePolylineMark:case IPCC.Web.UI.MouseTool.CreateRectangleMark:case IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark:case IPCC.Web.UI.MouseTool.CreateEllipseMark:case IPCC.Web.UI.MouseTool.CreateTextMark:case IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark:case IPCC.Web.UI.MouseTool.CreateStampMark:case IPCC.Web.UI.MouseTool.CreateFreehandMark:case IPCC.Web.UI.MouseTool.EditMarks:case IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark:case IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark:na&&na.aY&&na.aY.Hh(jB,au);if(Fx==='mouseUp'){aeN(au,R);}else if(Fx==='mouseDown'){afr(au,R);}C.bo(jB,R);break;case IPCC.Web.UI.MouseTool.SelectText:case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:au.preventDefault();au.stopPropagation();if(jB==='touchstart'){BU=au;if(iO){C.xm();break;}}Cy&&Cy(au,au.clientX,au.clientY,0);break;case IPCC.Web.UI.MouseTool.Magnifier:case IPCC.Web.UI.MouseTool.RectangleZoom:au.preventDefault();au.stopPropagation();if(jB==='touchstart'){BU=au;}Cy&&Cy(au,au.clientX,au.clientY,0);break;case IPCC.Web.UI.MouseTool.HandPan:if(iO===undefined){iO=abH(au);}var K=abr(au,{});if(iO&&zl){if(!K||K.J.get_interactionMode()!==IPCC.Web.UI.MarkInteractionMode.SelectionDisabled){if(jB==='touchstart'){akL(au,iO,na);}else if(jB==='touchmove'){na&&na.aY&&na.aY.Hh(jB,au);}else if(jB==='touchend'){na&&na.aY&&na.aY.Hh(jB,au);alf(na);}}}break;}};var Fj,BL,vL;var aCe=function(au){if(au.rawEvent.touches.length>1){clearTimeout(vL);vL=BL=Fj=undefined;return;}au=ZO(au);Fj=au;if(dq===IPCC.Web.UI.MouseTool.CreatePolylineMark){au.preventDefault();}BL=function(){Fz('touchstart',au);vL=BL=Fj=undefined;};vL=setTimeout(function(){BL();},200);};var GZ,Dz;var aBY=function(au){au=ZO(au);tM=false;var arY=function(){if(!Dz){return false;}var ek=Dz.clientX-au.clientX;var eZ=Dz.clientY-au.clientY;var hH=ek*ek+eZ*eZ;return hH<2500;};var ana=function(){GZ=Dz=undefined;var iO=abH(au);if(!iO&&dq===IPCC.Web.UI.MouseTool.HandPan&&zl&&na){ahd(na.aY);}};var arS=function(){var aan=BL;if(GZ&&arY()){clearTimeout(GZ);Dz=GZ=undefined;aan();Fz('touchend',au);Fz('doubleTap',au);}else{GZ=setTimeout(function(){aan();Fz('touchend',au);ana();},300);Dz=au;}};if(Fj&&vL){clearTimeout(vL);if(dq===IPCC.Web.UI.MouseTool.CreatePolylineMark){arS();}else{ana();}vL=BL=Fj=undefined;return;}Fz('touchend',au);};var ahH,tM=false;var aCs=function(au){if(au.rawEvent.touches.length>1){return;}ahH=au;if(Fj&&vL){clearTimeout(vL);BL();}aqt();};function aqt(){var au=ZO(ahH);Fz('touchmove',au);};IPCC.Web.UI.aJ.addHandler(ac,"touchstart",aCe);IPCC.Web.UI.aJ.addHandler(ac,"touchmove",aCs);IPCC.Web.UI.aJ.addHandler(ac,"touchend",aBY);};aCr(ac,mc);}};function asQ(ic){var abd=function(){},bj=1;function Xu(aeT,aer,jn,avZ){ic.style['-ms-transform']=aeT;ic.style['-moz-transform']=aeT;ic.style['-webkit-transform']=aer;ic.style['transform']=aer;ic.style['-ms-transform-origin']=jn;ic.style['-moz-transform-origin']=jn;ic.style['-webkit-transform-origin']=jn;ic.style['transform-origin']=jn;ic.style.overflow=avZ||'';};Xu('initial','initial','0% 0%','auto');function apu(pF,lg,KD,wp){var fm=(-lg.x/pF)-KD.x,eL=(-lg.y/pF)-KD.y,avx="scale3d("+pF+","+pF+",1) translate3d("+fm+"px,"+eL+"px,0px)",awr="scale("+pF+", "+pF+") translate("+fm+"px,"+eL+"px)";Xu(awr,avx,'center center','visible');abd=function(){var bQ=ic.getBoundingClientRect();var Su={x:(ic.clientWidth/2+ -bQ.left+wp.left)/pF,y:(ic.clientHeight/2+ -bQ.top+wp.top)/pF};if(wp.agC){Su.x=Su.x-(wp.agC/2);}Xu('scale(1,1) translate(0px,0px)','scale3d(1,1,1) translate3d(0px,0px,0px)','0% 0%','auto');C.Pz(pF,Su,undefined,IPCC.ScaleTrigger.Pinch);};return ic;};function alh(x,y,x0,y0){return Math.sqrt((x-=x0)*x+(y-=y0)*y);};function akJ(x,y,x0,y0){return{x:(x+x0)/2,y:(y+y0)/2};};function aob(akc,Mu){return{x:akc.x-Mu.x,y:akc.y-Mu.y};};var Wz=false;ic.addEventListener('touchstart',function(ev){if(!Wz&&ev.touches.length===2){ajN(ev);}});var standardizeMSTouch=function(ev){var event={};event.identifier=ev.pointerId;event.x=event.clientX=ev.clientX;event.y=event.clientY=ev.clientY;event.preventDefault=ev.preventDefault;event.stopPropagation=ev.stopPropagation;event.rawEvent=ev;event.touches=[event];event.changedTouches=[event];return event;};var zt,Za=false,zh={};PCCViewer.EventEmitter.extend(zh);ic.addEventListener('MSPointerDown',function(au){Za=true;au=standardizeMSTouch(au);if(zt){var bS={};bS.touches=[zt,au];bS.changedTouches=[zt,au];bS.preventDefault=function(){zt.rawEvent.preventDefault();au.rawEvent.preventDefault();};bS.stopPropagation=function(){zt.rawEvent.stopPropagation();au.rawEvent.stopPropagation();};ajN(bS);}else{zt=au;}});ic.addEventListener('MSPointerMove',function(au){zh.trigger('touchmove',{rawEvent:au});});ic.addEventListener('MSPointerUp',function(au){zh.trigger('touchend',{rawEvent:au});zt=undefined;});function ajN(ev){var KD={x:ic.scrollLeft,y:ic.scrollTop};var wp=ic.getBoundingClientRect();var nC=Uw();var ain=ic.querySelector('.pccPageListItem');if(ain.clientWidth<wp.width-30){wp.agC=wp.width-ain.clientWidth;}var lg={x:0,y:0,set:function(alZ){this.x=alZ.x;this.y=alZ.y;return this;}};var tM=false;Wz=true;ev.preventDefault();ev.stopPropagation();function Nm(je){je.x=je.clientX||je.pageX||je.screenX;je.y=je.clientY||je.pageY||je.screenY;return je;};var nT=Nm(ev.touches[0]);var xj=Nm(ev.touches[1]);var qy=alh(nT.x,nT.y,xj.x,xj.y);var aun=akJ(nT.x,nT.y,xj.x,xj.y);var FI,Es;function WJ(au){au.preventDefault();[].forEach.call(au.changedTouches,function(t){if(t.identifier===nT.identifier){FI=Nm(t);}else if(t.identifier===xj.identifier){Es=Nm(t);}});if(!FI|| !Es){return;}var ayF=alh(FI.x,FI.y,Es.x,Es.y);var ayj=akJ(FI.x,FI.y,Es.x,Es.y);bj=ayF/qy;if((dM*bj)<nC.minFactor){bj=nC.minFactor/dM;}else if((dM*bj)>nC.maxFactor){bj=nC.maxFactor/dM;}lg.set(aob(aun,ayj));if(!tM){tM=true;Hf();}};function Xo(){Wz=false;tM=false;ic.removeEventListener('touchmove',WJ);ic.removeEventListener('touchend',Xo);if(Za){zh.off('touchmove',ajL);zh.off('touchend',alx);}HU(abd);};var ajL=function(au){var abb=standardizeMSTouch(au.rawEvent);abb.preventDefault=function(){};WJ(abb);};var alx=function(au){Xo(standardizeMSTouch(au.rawEvent));};ic.addEventListener('touchmove',WJ);ic.addEventListener('touchend',Xo);if(Za){zh.on('touchmove',ajL);zh.on('touchend',alx);}function Hf(){if(tM){HU(function(){apu(bj,lg,KD,wp);Hf();});}}}};function asu(){if(ca===IPCC.ViewMode.SinglePage){return;}if(nc){clearTimeout(nc);}if(QC){arR(QC);}arr();nc=setTimeout(function(){nc=null;QC=HU(function aDo(){lM(true);});},40);};function WE(){if(jr===false||ca===IPCC.ViewMode.SinglePage){return;}yc(true);if(nc!==null){clearTimeout(nc);}var avg=aZ.scrollHeight/bK.length;var LG=0;if(et===IPCC.PageLayout.VerticalScrollDirection){LG=aZ.scrollTop;}else{LG=aZ.scrollLeft;}var ave=LG-NI;NI=LG;var aoa=new Date().getTime();var Sv=aoa-yA;if(Sv>1000){Sv=1000;}pN=ave/avg*1000/Sv;nc=setTimeout(function(){nc=null;yA=0;yA=new Date().getTime();lM(true);},1000);yA=new Date().getTime();if(pN!==0&&Math.abs(pN)<BS){if(Gp&&nc!==null){clearTimeout(nc);nc=null;}yA=0;yA=new Date().getTime();setTimeout(function(){if(Gp&&nc!==null){clearTimeout(nc);nc=null;}yA=0;yA=new Date().getTime();lM(Gp);},40);}};function Wg(bG){var ba=0;var aei=false;var KU;var Mq;for(ba=0;ba<bG.childNodes.length;ba++){if(bG.childNodes[ba].className==="pccPageListItemLoading"){aei=true;}}if(aei===false){Mq=document.createElement('div');Mq.className='pccPageListItemLoading';bG.innerHTML="";bG.appendChild(Mq);if(Mt.length>0){KU=document.createElement('div');KU.className='pccPageListItemLoadingContent';KU.innerHTML=Mt;Mq.appendChild(KU);}}};function ahi(F,bG,KO,Lw){if(document.documentMode!==8){if(F<KO||F>Lw){if(bG.style.visibility!=='hidden'){bG.style.visibility='hidden';}}else{if(bG.style.visibility!=='visible'){bG.style.visibility='visible';}if(!bG.firstChild){Wg(bG);}}}};function arr(){var F,co,bG;var tj,sT;var jZ,qA,om,ya;if(aZ===''||aZ.clientHeight<=0){return;}tj=aZ.scrollTop;sT=aZ.scrollLeft;var JG=aZ.clientHeight;var Jv=aZ.clientWidth;var qi=0;if(et===IPCC.PageLayout.VerticalScrollDirection){var abf=aZ.scrollHeight;qi=abf*tj/(abf-JG);}else{var adb=aZ.scrollWidth;qi=adb*sT/(adb-Jv);}var KO=eK;var Lw=jz;eK= -1;pK= -1;jz= -1;for(F=0;F<bK.length;F++){co=bK[F];if(co&&co.am){bG=document.getElementById(co.am);if(et===IPCC.PageLayout.VerticalScrollDirection){jZ=bG.offsetTop;qA=bG.offsetLeft;om=jZ+bG.offsetHeight;ya=qA+bG.offsetWidth;}else{jZ=bG.offsetLeft;qA=bG.offsetTop;om=jZ+bG.offsetWidth;ya=qA+bG.offsetHeight;}var aqY=(F===0&&qi<jZ);if((qi>=jZ||aqY)&&(qi<=om||(F===bK.length-1&&qi>om))){if(vQ===false&&dh!==F){dh=F;var R=new IPCC.PageEventArgs();R.imGearPage=C.get_currentPage();R.pageIndex=dh;C.bo('currentPageChanged',R);}}var rO=0;var Ae=0;if(et===IPCC.PageLayout.VerticalScrollDirection){rO=tj;Ae=JG;}else{rO=sT;Ae=Jv;}if(om>=rO-10&&(F<eK||eK=== -1)){eK=F;KO=eK;}if(jZ>=rO-10&&(F<pK||pK=== -1)){pK=F;}if(jZ<=rO+Ae){if(eK!== -1){jz=F;Lw=jz;}}ahi(F,bG,KO,Lw);}if(pK=== -1){pK=dh;}if(eK=== -1){eK=dh;}}};function yc(apP){if(ca===IPCC.ViewMode.SinglePage){return;}var bG;var tj,sT;var jZ,qA,om,ya;if(aZ===''||aZ.clientHeight<=0){return;}tj=aZ.scrollTop;sT=aZ.scrollLeft;var JG=aZ.clientHeight;var Jv=aZ.clientWidth;var afu=aZ.scrollWidth;var aeB=aZ.scrollHeight;var qi=0;if(et===IPCC.PageLayout.VerticalScrollDirection){qi=aeB*tj/(aeB-JG);}else{qi=afu*sT/(afu-Jv);}eK= -1;pK= -1;jz= -1;IPCC.bb.forEach(bK,function(co,F){if(co&&co.am){bG=document.getElementById(co.am);if(et===IPCC.PageLayout.VerticalScrollDirection){jZ=bG.offsetTop;qA=bG.offsetLeft;om=jZ+bG.offsetHeight;ya=qA+bG.offsetWidth;}else{jZ=bG.offsetLeft;qA=bG.offsetTop;om=jZ+bG.offsetWidth;ya=qA+bG.offsetHeight;}if(qi>=jZ&&(qi<=om||(F===bK.length-1&&qi>om))){if(vQ===false&&dh!==F&&apP===true){dh=F;var R=new IPCC.PageEventArgs();R.imGearPage=C.get_currentPage();R.pageIndex=dh;R.pageNodeID=co.am;C.bo('currentPageChanged',R);}}var rO=0;var Ae=0;if(et===IPCC.PageLayout.VerticalScrollDirection){rO=tj;Ae=JG;}else{rO=sT;Ae=Jv;}if(om>=rO-10&&eK=== -1){eK=F;}if(jZ>=rO-10&&pK=== -1){pK=F;}var ahD=false;if(jZ<=rO+Ae){if(eK!== -1){jz=F;if(eK!== -1&&co.dX===false&&(bG.aY===undefined||bG.aY===null||bG.aY.hD()===false)&&co.tA===false){Wg(bG);ahD=true;}}}if(eK!== -1){ahi(F,bG,eK,jz);}if(ahD===false){for(var ba=0;ba<bG.childNodes.length;ba++){if(bG.childNodes[ba].className==="pccPageListItemLoading"){bG.removeChild(bG.childNodes[ba]);}}}}});if(pK=== -1){pK=dh;}if(eK=== -1){eK=dh;}vQ=false;}};IPCC.PageList.prototype={dispose:function(){this.bB('dispose',arguments);this.JA(false);this.asn();},get_debug:function(){try{var H=this.sc();this.aR('get_debug',arguments,H);return H;}catch(e){this.O('get_debug',e);throw e;}},set_debug:function(value){try{this.bB('set_debug',arguments);var or=this.sc();this.zK(value);if(!or){this.bB('set_debug',arguments);}}catch(e){this.O('set_debug',e);throw e;}},get_debugErrorLevel:function(){try{var H=this.nX();this.aR('get_debugErrorLevel',arguments,H);return H;}catch(e){this.O('get_debugErrorLevel',e);throw e;}},set_debugErrorLevel:function(value){try{this.bB('set_debugErrorLevel',arguments);var or=this.nX();this.tu(value);if(or<IPCC.Web.UI.DebugErrorLevel.Development){this.bB('set_debugErrorLevel',arguments);}}catch(e){this.O('set_debugErrorLevel',e);throw e;}},add_mouseDown:function(handler){try{this.BM(handler);}catch(e){this.O('add_mouseDown',e);throw e;}},remove_mouseDown:function(handler){try{this.CK(handler);}catch(e){this.O('remove_mouseDown',e);throw e;}},add_mouseMove:function(handler){try{this.Cx(handler);}catch(e){this.O('add_mouseMove',e);throw e;}},remove_mouseMove:function(handler){try{this.DP(handler);}catch(e){this.O('remove_mouseMove',e);throw e;}},add_mouseUp:function(handler){try{this.By(handler);}catch(e){this.O('add_mouseUp',e);throw e;}},remove_mouseUp:function(handler){try{this.Db(handler);}catch(e){this.O('remove_mouseUp',e);throw e;}},add_selectTextMouseToolCompleted:function(handler){try{this.XK(handler);}catch(e){this.O('add_selectTextMouseToolCompleted',e);throw e;}},remove_selectTextMouseToolCompleted:function(handler){try{this.YO(handler);}catch(e){this.O('remove_selectTextMouseToolCompleted',e);throw e;}},add_currentPageChanged:function(handler){try{this.aro(handler);}catch(e){this.O('add_currentPageChanged',e);throw e;}},remove_currentPageChanged:function(handler){try{this.atq(handler);}catch(e){this.O('remove_currentPageChanged',e);throw e;}},add_textPageReady:function(handler){try{this.tL(handler);}catch(e){this.O('add_textPageReady',e);throw e;}},remove_textPageReady:function(handler){try{this.xD(handler);}catch(e){this.O('remove_textPageReady',e);throw e;}},add_hyperlinkPageReady:function(handler){try{this.Xs(handler);}catch(e){this.O('add_hyperlinkPageReady',e);throw e;}},remove_hyperlinkPageReady:function(handler){try{this.abW(handler);}catch(e){this.O('remove_hyperlinkPageReady',e);throw e;}},add_textExtractionFailed:function(handler){this.Cu(handler);},remove_textExtractionFailed:function(handler){this.AX(handler);},add_allPagesAdded:function(handler){try{this.apz(handler);}catch(e){this.O('add_allPagesAdded',e);throw e;}},remove_allPagesAdded:function(handler){try{this.atY(handler);}catch(e){this.O('remove_allPagesAdded',e);throw e;}},add_pageOpening:function(handler){try{this.HG(handler);}catch(e){this.O('add_pageOpening',e);throw e;}},remove_pageOpening:function(handler){try{this.Lq(handler);}catch(e){this.O('remove_pageOpening',e);throw e;}},add_pageOpened:function(handler){try{this.HW(handler);}catch(e){this.O('add_pageOpened',e);throw e;}},remove_pageOpened:function(handler){try{this.IM(handler);}catch(e){this.O('remove_pageOpened',e);throw e;}},add_pageOpenFailed:function(handler){try{this.Bc(handler);}catch(e){this.O('add_pageOpenFailed',e);throw e;}},remove_pageOpenFailed:function(handler){try{this.CB(handler);}catch(e){this.O('remove_pageOpenFailed',e);throw e;}},add_pageDisplayed:function(handler){try{this.HL(handler);}catch(e){this.O('add_pageDisplayed',e);throw e;}},remove_pageDisplayed:function(handler){try{this.Ju(handler);}catch(e){this.O('remove_pageDisplayed',e);throw e;}},add_propertyChanged:function(handler){try{this.iz(handler);}catch(e){this.O('add_propertyChanged',e);throw e;}},remove_propertyChanged:function(handler){try{this.lA(handler);}catch(e){this.O('remove_propertyChanged',e);throw e;}},add_markAdded:function(handler){try{this.yD(handler);}catch(e){this.O('add_markAdded',e);throw e;}},remove_markAdded:function(handler){try{this.yp(handler);}catch(e){this.O('remove_markAdded',e);throw e;}},add_markCreating:function(handler){try{this.Wu(handler);}catch(e){this.O('add_markCreating',e);throw e;}},remove_markCreating:function(handler){try{this.Rh(handler);}catch(e){this.O('remove_markCreating',e);throw e;}},add_markChanged:function(handler){try{this.DQ(handler);}catch(e){this.O('add_markChanged',e);throw e;}},remove_markChanged:function(handler){try{this.Eh(handler);}catch(e){this.O('remove_markChanged',e);throw e;}},add_markReordered:function(handler){try{this.Dc(handler);}catch(e){this.O('add_markReordered',e);throw e;}},remove_markReordered:function(handler){try{this.Dk(handler);}catch(e){this.O('remove_markReordered',e);throw e;}},add_markSelectionChanged:function(handler){try{this.DV(handler);}catch(e){this.O('add_markSelectionChanged',e);throw e;}},remove_markSelectionChanged:function(handler){try{this.CW(handler);}catch(e){this.O('remove_markSelectionChanged',e);throw e;}},add_markTextSelectionChanged:function(handler){try{this.Fn(handler);}catch(e){this.O('add_markTextSelectionChanged',e);throw e;}},remove_markTextSelectionChanged:function(handler){try{this.Jf(handler);}catch(e){this.O('remove_markTextSelectionChanged',e);throw e;}},add_markRemoved:function(handler){try{this.ye(handler);}catch(e){this.O('add_markRemoved',e);throw e;}},remove_markRemoved:function(handler){try{this.yn(handler);}catch(e){this.O('remove_markRemoved',e);throw e;}},add_commentAdding:function(handler){try{this.arb(handler);}catch(e){this.O('add_commentAdding',e);throw e;}},remove_commentAdding:function(handler){try{this.atR(handler);}catch(e){this.O('remove_commentAdding',e);throw e;}},add_commentAdded:function(handler){try{this.yS(handler);}catch(e){this.O('add_commentAdded',e);throw e;}},remove_commentAdded:function(handler){try{this.Dv(handler);}catch(e){this.O('remove_commentAdded',e);throw e;}},add_commentRemoved:function(handler){try{this.ym(handler);}catch(e){this.O('add_commentRemoved',e);throw e;}},remove_commentRemoved:function(handler){try{this.CO(handler);}catch(e){this.O('remove_commentRemoved',e);throw e;}},add_commentChanged:function(handler){try{this.tO(handler);}catch(e){this.O('add_commentChanged',e);throw e;}},remove_commentChanged:function(handler){try{this.wx(handler);}catch(e){this.O('remove_commentChanged',e);throw e;}},add_scaleChanged:function(handler){try{this.Wp(handler);}catch(e){this.O('add_scaleChanged',e);throw e;}},remove_scaleChanged:function(handler){try{this.Ye(handler);}catch(e){this.O('remove_scaleChanged',e);throw e;}},add_exceptionThrown:function(handler){this.WZ(handler);},remove_exceptionThrown:function(handler){this.SK(handler);},writeToLog:function(message){try{this.iX(message);}catch(e){this.O('writeToLog',e);throw e;}},get_currentState:function(){try{var H=this.vP();this.aR('get_currentState',arguments,H);return H;}catch(e){this.O('get_currentState',e);throw e;}},get_scaleFactor:function(){try{var H=this.uy();this.aR('get_scaleFactor',arguments,H);return H;}catch(e){this.O('get_scaleFactor',e);throw e;}},set_scaleFactor:function(scaleFactor){try{this.bB('set_scaleFactor',arguments);this.azI(scaleFactor);}catch(e){this.O('set_scaleFactor',e);throw e;}},zoomIn:function(factor){try{this.bB('zoomIn',arguments);this.Pz(factor);}catch(e){this.O('zoomIn',e);throw e;}},zoomOut:function(factor){try{this.bB('zoomOut',arguments);this.UY(factor);}catch(e){this.O('zoomOut',e);throw e;}},getMinMaxZoom:function(){return this.aBy();},displayAll:function(){try{this.bB('displayAll',arguments,1);this.apQ();}catch(e){this.O('displayAll',e);throw e;}},display:function(pageIndex){try{this.bB('display',arguments);this.dF(pageIndex);}catch(e){this.O('display',e);throw e;}},get_textRequired:function(){try{var H=this.ii();this.aR('get_textRequired',arguments,H);return H;}catch(e){this.O('get_textRequired',e);throw e;}},set_textRequired:function(value){try{this.bB('set_textRequired',arguments);this.AE(value);}catch(e){this.O('set_textRequired',e);throw e;}},selectText:function(pageIndex,startIndex,endIndex,color){try{this.bB('selectText',arguments,1);this.aaN(pageIndex,startIndex,endIndex,color);}catch(e){this.O('selectText',e);throw e;}},clearSelectedText:function(pageIndex){try{this.bB('clearSelectedText',arguments,1);this.ast(pageIndex);}catch(e){this.O('clearSelectedText',e);throw e;}},clearAllSelectedText:function(){try{this.bB('clearAllSelectedText',arguments);this.arF();}catch(e){this.O('clearAllSelectedText',e);throw e;}},get_maxPrefetch:function(){try{var H=this.aAV();this.aR('get_maxPrefetch',arguments,H);return H;}catch(e){this.O('get_maxPrefetch',e);throw e;}},set_maxPrefetch:function(value){try{this.bB('set_maxPrefetch',arguments);this.aAm(value);}catch(e){this.O('set_maxPrefetch',e);throw e;}},get_displayPagesWhenScrolling:function(){try{var H=this.aCq();this.aR('get_displayPagesWhenScrolling',arguments,H);return H;}catch(e){this.O('get_displayPagesWhenScrolling',e);throw e;}},set_displayPagesWhenScrolling:function(value){try{this.bB('set_displayPagesWhenScrolling',arguments);this.aEa(value);}catch(e){this.O('set_displayPagesWhenScrolling',e);throw e;}},get_maxOutOfViewDisplay:function(){try{var H=this.ayv();this.aR('get_maxOutOfViewDisplay',arguments,H);return H;}catch(e){this.O('get_maxOutOfViewDisplay',e);throw e;}},set_maxOutOfViewDisplay:function(value){try{this.bB('set_maxOutOfViewDisplay',arguments);this.aAE(value);}catch(e){this.O('set_maxOutOfViewDisplay',e);throw e;}},get_scrollDisplayThreshold:function(){try{var H=this.aBX();this.aR('get_scrollDisplayThreshold',arguments,H);return H;}catch(e){this.O('get_scrollDisplayThreshold',e);throw e;}},set_scrollDisplayThreshold:function(value){try{this.bB('set_scrollDisplayThreshold',arguments);this.axG(value);}catch(e){this.O('set_scrollDisplayThreshold',e);throw e;}},get_mouseCursor:function(){try{var H=this.aii();this.aR('get_mouseCursor',arguments,H);return H;}catch(e){this.O('aii',e);throw e;}},set_mouseCursor:function(value){try{this.bB('set_mouseCursor',arguments);this.aAs(value);}catch(e){this.O('set_mouseCursor',e);throw e;}},get_mouseTool:function(){try{var H=this.aaS();this.aR('get_mouseTool',arguments,H);return H;}catch(e){this.O('get_mouseTool',e);throw e;}},set_mouseTool:function(value){try{this.bB('set_mouseTool',arguments);this.JL(value);}catch(e){this.O('set_mouseTool',e);throw e;}},get_markHandleMode:function(){try{var H=this.Ar();this.bB('get_markHandleMode',arguments);return H;}catch(e){this.O('get_markHandleMode',e);throw e;}},set_markHandleMode:function(L){try{this.bB('set_markHandleMode',arguments);this.Ks(L);}catch(e){this.O('set_markHandleMode',e);throw e;}},get_allowMarkEdits:function(){try{var H=this.azx();this.bB('get_allowMarkEdits',arguments);return H;}catch(e){this.O('get_allowMarkEdits',e);throw e;}},set_allowMarkEdits:function(bool){try{this.bB('set_allowMarkEdits',arguments);this.aCA(! !bool);}catch(e){this.O('set_allowMarkEdits',e);throw e;}},get_currentPage:function(){try{var H=this.ahq();this.aR('get_currentPage',arguments,H);return H;}catch(e){this.O('get_currentPage',e);throw e;}},scrollToNextPage:function(){try{this.bB('scrollToNextPage',arguments);this.avz();}catch(e){this.O('scrollToNextPage',e);throw e;}},scrollToPreviousPage:function(){try{this.bB('scrollToPreviousPage',arguments);this.awn();}catch(e){this.O('scrollToPreviousPage',e);throw e;}},scrollToFirstPage:function(){try{this.bB('scrollToFirstPage',arguments);this.auM();}catch(e){this.O('scrollToFirstPage',e);throw e;}},scrollToLastPage:function(){try{this.bB('scrollToLastPage',arguments);this.avO();}catch(e){this.O('scrollToLastPage',e);throw e;}},scrollToPage:function(pageIndex){try{this.bB('scrollToPage',arguments,1);this.tg(pageIndex);}catch(e){this.O('scrollToPage',e);throw e;}},rotate:function(degreesClockwise){try{this.bB('rotate',arguments,1);this.avk(degreesClockwise);}catch(e){this.O('rotate',e);throw e;}},rotateAll:function(degreesClockwise){try{this.bB('rotateAll',arguments,1);this.acq(degreesClockwise,true);}catch(e){this.O('rotateAll',e);throw e;}},get_enabled:function(){try{var H=this.Qa();this.aR('get_enabled',arguments,H);return H;}catch(e){this.O('get_enabled',e);throw e;}},get_pageLayout:function(){try{var H=this.aAJ();this.aR('get_pageLayout',arguments,H);return H;}catch(e){this.O('get_pageLayout',e);throw e;}},set_pageLayout:function(value){try{this.bB('set_pageLayout',arguments);this.azY(value);}catch(e){this.O('set_pageLayout',e);throw e;}},get_viewMode:function(){try{var H=this.aCO();this.aR('get_viewMode',arguments,H);return H;}catch(e){this.O('get_viewMode',e);throw e;}},set_viewMode:function(value){try{this.bB('set_viewMode',arguments);this.Qf(value);}catch(e){this.O('set_viewMode',e);throw e;}},get_loadingContent:function(){try{var H=this.azh();this.aR('get_loadingContent',arguments,H);return H;}catch(e){this.O('get_loadingContent',e);throw e;}},set_loadingContent:function(value){try{this.bB('set_loadingContent',arguments);this.azk(value);}catch(e){this.O('set_loadingContent',e);throw e;}},fitPages:function(fitType){try{this.bB('fitPages',arguments,1);this.azU(fitType);}catch(e){this.O('fitPages',e);throw e;}},openPage:function(pageIndex){try{this.bB('openPage',arguments,1);this.CI(pageIndex);}catch(e){this.O('openPage',e);throw e;}},requestPageAttributes:function(page,attributesRetrievedCallback,attributesRetrievalFailedCallback){try{this.bB('requestPageAttributes',arguments,1);this.Zd(page,attributesRetrievedCallback,attributesRetrievalFailedCallback);}catch(e){this.O('requestPageAttributes',e);throw e;}},scrollRegionIntoView:function(pageIndex,rectangle){try{this.bB('scrollRegionIntoView',arguments,1);return this.aug(pageIndex,rectangle);}catch(e){this.O('scrollRegionIntoView',e);throw e;}},scrollBy:function(xVal,yVal){try{this.bB('scrollBy',arguments,1);return this.auu(xVal,yVal);}catch(e){this.O('scrollBy',e);throw e;}},scrollConversationIntoView:function(conversation){try{this.bB('scrollConversationIntoView',arguments,1);return this.atO(conversation);}catch(e){this.O('scrollConversationIntoView',e);throw e;}},get_documents:function(){return this.abS();},get_encryption:function(){try{var H=this.eD();this.aR('get_encryption',arguments,H);return H;}catch(e){this.O('get_encryption',e);throw e;}},set_encryption:function(value){try{this.bB('set_encryption',arguments);this.im(value);}catch(e){this.O('set_encryption',e);throw e;}},get_annotationXmlDom:function(){try{var H=this.azJ();return H;}catch(e){this.O('get_annotationXmlDom',e);throw e;}},set_annotationXmlDom:function(value,stampImages,retainExistingMarks,loadAsHidden){try{this.aBN(value,stampImages,retainExistingMarks,loadAsHidden);}catch(e){this.O('set_annotationXmlDom',e);throw e;}},get_resourcePath:function(){try{var H=this.lO();this.aR('get_resourcePath',arguments,H);return H;}catch(e){this.O('get_resourcePath',e);throw e;}},set_resourcePath:function(L){try{this.bB('set_resourcePath',arguments);this.uT(L);}catch(e){this.O('set_resourcePath',e);throw e;}},get_redactionDraftMode:function(){try{var H=this.kE();this.aR('get_redactionDraftMode',arguments,H);return H;}catch(e){this.O('get_redactionDraftMode',e);throw e;}},set_redactionDraftMode:function(value){try{this.bB('set_redactionDraftMode',arguments);this.rg(value);}catch(e){this.O('set_redactionDraftMode',e);throw e;}},get_displayedPages:function(){try{var H=this.aAI();this.aR('get_displayedPages',arguments,H);return H;}catch(e){this.O('get_displayedPages',e);throw e;}},get_requireRequestsOptimize:function(){try{var H=this.oC();this.aR('get_requireRequestsOptimize',arguments,H);return H;}catch(e){this.O('oC',e);throw e;}},set_requireRequestsOptimize:function(value){try{this.bB('set_requireRequestsOptimize',arguments);this.sd(value);}catch(e){this.O('set_requireRequestsOptimize',e);throw e;}},get_serviceResponseTimeout:function(){try{var H=this.hL();this.aR('get_serviceResponseTimeout',arguments,H);return H;}catch(e){this.O('get_serviceResponseTimeout',e);throw e;}},set_serviceResponseTimeout:function(value){try{this.bB('set_serviceResponseTimeout',arguments);this.sl(value);}catch(e){this.O('set_serviceResponseTimeout',e);throw e;}},get_pageRotation:function(){try{var H=this.azE();this.aR('get_pageRotation',arguments,H);return H;}catch(e){this.O('get_pageRotation',e);throw e;}},set_pageRotation:function(value){try{this.bB('set_pageRotation',arguments);this.aAt(value);}catch(e){this.O('set_pageRotation',e);throw e;}},getNodeID:function(pageIndex){try{this.bB('getNodeID',arguments,1);return this.aCg(pageIndex);}catch(e){this.O('getNodeID',e);throw e;}},get_isCommentsPanelOpen:function(){try{var H=this.aAC();this.aR('get_isCommentsPanelOpen',arguments,H);return H;}catch(e){this.O('get_isCommentsPanelOpen',e);throw e;}},openCommentsPanel:function(){try{this.bB('openCommentsPanel',arguments);this.axR();}catch(e){this.O('openCommentsPanel',e);throw e;}},closeCommentsPanel:function(){try{this.bB('closeCommentsPanel',arguments);this.asY();}catch(e){this.O('closeCommentsPanel',e);throw e;}},get_conversationDOMFactory:function(){try{var H=this.aCL();this.aR('get_conversationDOMFactory',arguments,H);return H;}catch(e){this.O('get_conversationDOMFactory',e);throw e;}},set_conversationDOMFactory:function(value){try{this.bB('set_conversationDOMFactory',arguments);this.aBj(value);}catch(e){this.O('set_conversationDOMFactory',e);throw e;}},get_selectedConversation:function(){try{var H=this.aCj();this.aR('get_selectedConversation',arguments,H);return H;}catch(e){this.O('get_selectedConversation',e);throw e;}},set_selectedConversation:function(value){try{this.bB('set_selectedConversation',arguments);this.axl(value);}catch(e){this.O('set_selectedConversation',e);throw e;}},refreshConversations:function(markIDs){try{this.bB('refreshConversations',arguments);this.atN(markIDs);}catch(e){this.O('refreshConversations',e);throw e;}}};IPCC.PageList.registerClass=IPCC.Web.regClass;IPCC.PageList.registerClass('IPCC.PageList',IPCC.Sys.UI.Control);IPCC.co=function(bL){this.bn=undefined;this.ai=0;this.bE=0;this.fX=72;this.eJ=72;var aO=new IPCC.Web.UI.gv();this.am=undefined;this.xB=undefined;this.yg=undefined;this.dX=false;this.bM=undefined;this.ez=undefined;this.AV=false;this.Dr=0;this.amx=undefined;this.hV=false;this.hs=false;this.tA=false;this.fY=0;this.LU=0;this.AN=false;if(arguments.length>0){if(bL.page!==undefined){this.bn=bL.page;}}this.aM=function(dQ){var G=aO.getHandler('propertyChanged');if(G){G(this,new IPCC.qV(dQ));}};return this;};IPCC.fu=function(){this.dz=undefined;return this;};var PCCViewer=PCCViewer||{};(function(PCCViewer){PCCViewer.Error=function(code,message){var aby=Error.call(null,message);this.code=code;function alP(dA,ge){Object.getOwnPropertyNames(ge).forEach(function(propName){Object.defineProperty(dA,propName,Object.getOwnPropertyDescriptor(ge,propName));});return dA;};function amY(dA,ge){for(var i in ge){if(ge.hasOwnProperty(i)){dA[i]=ge[i];}}return dA;};if(typeof Object.create==='function'){alP(this,aby);}else{amY(this,aby);}};var axI=(function(){var eT=function(){};return function(adJ){if(arguments.length>1){throw Error('Second argument not supported');}if(typeof adJ!=='object'){throw TypeError('Argument must be an object');}eT.prototype=adJ;var aU=new eT();eT.prototype=null;return aU;};})();if(typeof Object.create==='function'){PCCViewer.Error.prototype=Object.create(Error.prototype);}else{PCCViewer.Error.prototype=axI(Error.prototype);}PCCViewer.Error.prototype.constructor=PCCViewer.Error;})(PCCViewer||{});var PCCViewer=PCCViewer||{};PCCViewer.Language=(function(){var avn=function(languageData){this.data=languageData;return this;};var aBD=function(){return this.data;};var aBt=function(key){if(typeof this.data==='undefined'){throw new Error('Language data is not set.');}var tc=key.split('.'),bg=this.data,aI;while(tc.length){aI=tc.shift();bg=bg[aI];if(typeof bg==='undefined'){bg=key;break;}}return bg;};return{data:{},initializeData:avn,getData:aBD,getValue:aBt};})();var PCCViewer=window.PCCViewer||{};(function(){"use strict";function Event(target,type){this.dA=target;this.aE=type;};PCCViewer.Event=Event;PCCViewer.Event.prototype.getTarget=function(){return this.dA;};PCCViewer.Event.prototype.getType=function(){return this.aE;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Event.prototype,{"target":{enumerable:true,get:function(){return this.getTarget();}},"type":{enumerable:true,get:function(){return this.getType();}}});}PCCViewer.EventEmitter=(function(){function on(eventType,handler){if(!this.jR){this.jR={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jR[lowerCaseEventType];if(!handlers){handlers=this.jR[lowerCaseEventType]=[];}handlers.push(handler);return this;};function off(eventType,handler){if(!this.jR){this.jR={};}var lowerCaseEventType=eventType.toLowerCase(),handlers=this.jR[lowerCaseEventType];if(handlers){var i=handlers.length;for(;i>=0;i--){if(handlers[i]===handler){handlers.splice(i,1);}}}return this;};function trigger(eventType,properties){if(!this.jR){this.jR={};}var lowerCaseEventType=eventType.toLowerCase(),event=new PCCViewer.Event(this,lowerCaseEventType),handlers=this.jR[lowerCaseEventType],i,length=0;if(properties){PCCViewer.zR.uu(event,properties);}if(handlers){length=handlers.length;handlers=handlers.slice(0);for(i=0;i<length;i++){handlers[i](event);}}return this;};return{extend:function(o){o.on=on;o.off=off;o.trigger=trigger;}};})();})();var PCCViewer=PCCViewer||{};(function(){'use strict';function PromiseDeferred(){this.fj=PromiseDeferred.States.Pending;this.L=null;this.eS=null;this.Qj=[];this.RO=[];};PromiseDeferred.prototype.then=function(onFulfilled,onRejected){var Be=new PromiseDeferred();if(onFulfilled&&typeof onFulfilled==='function'){var axD=function(L){try{var H=onFulfilled(L);Be.resolve(H);}catch(e){Be.reject(e);}};this.Qj.push(axD);}else{var axg=function(L){Be.resolve(L);};this.Qj.push(axg);}if(onRejected&&typeof onRejected==='function'){var ayH=function(eS){try{var H=onRejected(eS);Ws(Be,H);}catch(e){Be.reject(e);}};this.RO.push(ayH);}else{var axo=function(eS){Be.reject(eS);};this.RO.push(axo);}if(this.fj===PromiseDeferred.States.Fulfilled){this.ajz();}if(this.fj===PromiseDeferred.States.Rejected){this.ais();}return Be;};PromiseDeferred.prototype.resolve=function(x){if(!this.aje()){return;}Ws(this,x);};PromiseDeferred.prototype.reject=function(reason){if(!this.aje()){return;}this.BC(reason);};PromiseDeferred.prototype.XG=function(ae){this.fj=PromiseDeferred.States.Fulfilled;this.L=ae;this.ajz();};PromiseDeferred.prototype.ajz=function(){var callback;while(this.Qj.length>0){callback=this.Qj.shift();(function(np,L){setTimeout(function(){np(L);},0);})(callback,this.L);}};PromiseDeferred.prototype.ais=function(){var callback;while(this.RO.length>0){callback=this.RO.shift();(function(np,L){setTimeout(function(){np(L);},0);})(callback,this.eS);}};function Ws(cY,ae){if(cY===ae){cY.BC(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ae&&ae.Wx&&cY.acW&&cY.acW===ae){cY.BC(new TypeError("A Promise cannot be resolved with a value that is itself."));return;}if(ae&&ae.Wx&&ae.Wx==="PCCViewer.Promise"){ae.then(function(aow){cY.XG(aow);},function(aoS){cY.BC(aoS);});}else if(ae!==null&&(typeof ae==='object'||typeof ae==='function')){var VY;try{VY=ae.then;}catch(e){cY.BC(e);return;}if(typeof VY==='function'){var Hd=true;var aoB=function(fv){if(Hd){Ws(cY,fv);Hd=false;}};var aoh=function(H){if(Hd){cY.BC(H);Hd=false;}};try{VY.call(ae,aoB,aoh);}catch(e){if(Hd){cY.BC(e);}}}else{cY.XG(ae);}}else{cY.XG(ae);}};PromiseDeferred.prototype.BC=function(reason){this.fj=PromiseDeferred.States.Rejected;this.eS=reason;this.ais();};PromiseDeferred.prototype.aje=function(){return this.fj===PromiseDeferred.States.Pending;};PromiseDeferred.States={Pending:"Pending",Fulfilled:"Fulfilled",Rejected:"Rejected"};PCCViewer.Deferred=function(){var St=new PromiseDeferred();function Promise(cY){this.then=function(onFulfilled,onRejected){return new Promise(cY.then(onFulfilled,onRejected));};this.Wx="PCCViewer.Promise";cY.acW=this;};var promise=new Promise(St);return{getPromise:function(){return promise;},resolve:function(value){St.resolve(value);},reject:function(reason){St.reject(reason);}};};PCCViewer.Promise={all:function(promises){var i,aw=new PCCViewer.Deferred(),Sn=aw.getPromise();if(Object.prototype.toString.call(promises)!=='[object Array]'){throw new TypeError("The 'promises' argument must be an array.");}function createPushFunction(promise){return function(results){return wrapWithPromise(promise).then(function(value){results.push(value);return results;});};};function wrapWithPromise(value){var aw=new PCCViewer.Deferred();aw.resolve(value);return aw.getPromise();};aw.resolve([]);for(i=0;i<promises.length;i++){Sn=Sn.then(createPushFunction(promises[i]));}return Sn;}};if(typeof exports!=='undefined'&&module.exports){module.exports.Deferred=PCCViewer.Deferred;}})();(function(PCCViewer){function alC(message,value){var err=new Error('PCC Range Error: '+message);err.value=value;return err;};function arm(avv){var bK=[];var agh=function(n){return!(isNaN(+n));};var aaV=avv.split(',');var RD,QO;var QJ=0;var PJ=0;for(var F=0;F<aaV.length;F++){var LF=aaV[F].split('-');var GB=LF[0].replace(/\s+/g,'');if(GB.length===0){continue;}var LM=GB;if(LF[1]!==undefined&&LF[1]!==""){LM=LF[1].replace(/\s+/g,'');}GB= +(GB);LM= +(LM);if(agh(GB)===true){QJ=parseInt(GB);}if(agh(LM)===true){PJ=parseInt(LM);}if(QJ<PJ){RD=QJ;QO=PJ;}else{RD=PJ;QO=QJ;}if(LF.length>1){for(var bh=RD;bh<=QO;bh++){bK.push(bh);}}else{bK.push(RD);}}bK.sort(function(a,b){return a-b;});for(F=bK.length-1;F>0;F--){if(bK[F-1]===bK[F]){bK.splice(F,1);}}return bK;};var alternateObjectURL=function(blob,str){blob.data=str;var type=blob.type,data_URI_header;if(type===null){type="application/octet-stream";}data_URI_header="data:"+type;if(blob.encoding==="base64"){return data_URI_header+";base64,"+blob.data;}else if(blob.encoding==="URI"){return data_URI_header+","+decodeURIComponent(blob.data);}if(btoa){return data_URI_header+";base64,"+btoa(blob.data);}else{return data_URI_header+","+encodeURIComponent(blob.data);}};PCCViewer.Util={save:function(filename,stringValue){if('Blob'in window){var blob=new Blob([stringValue],{'type':'text/plain;charset=utf-8'});if(window.navigator.msSaveBlob){window.navigator.msSaveBlob(blob,filename);}else if(window.saveAs){window.saveAs(blob,filename);}else if(window.URL&&window.URL.createObjectURL){var a=document.createElement('a');a.href=URL.createObjectURL(blob);a.target='_blank';a.download=filename;a.style.display='none';document.body.appendChild(a);a.click();document.body.removeChild(a);}else{var objectURL=alternateObjectURL(blob,stringValue);window.open(objectURL);}}else{if(document.execCommand){var oWin=window.open('about:blank','_blank');oWin.document.write(stringValue);oWin.document.close();oWin.document.execCommand('SaveAs',true,filename+'.txt');oWin.close();}}},calculateNonOverlappingSelections:function(selections,backgroundColor){var hk;if(!(selections instanceof Array)){hk=[selections];}else{hk=selections;}IPCC.bb.forEach(hk,function(dr){IPCC.bU.os(dr.startIndex,'selection.startIndex',0,Number.MAX_VALUE);IPCC.bU.os(dr.length,'selection.length',1,Number.MAX_VALUE);IPCC.bU.fp(dr.color,'selection.color');IPCC.bU.os(dr.opacity,'selection.opacity',0,255);});IPCC.bU.fp(backgroundColor,'backgroundColor');var aAw=IPCC.bb.aaA(hk);return IPCC.bb.map(aAw,function(aS){aS.length=aS.endIndex-aS.startIndex+1;return aS;});},layerColors:function(colors,backgroundColor){var Rs;if(!(colors instanceof Array)){Rs=[colors];}else{Rs=colors;}IPCC.bb.forEach(Rs,function(dr){IPCC.bU.fp(dr.color,'selection.color');IPCC.bU.os(dr.opacity,'selection.opacity',0,255);});IPCC.bU.fp(backgroundColor,'backgroundColor');return IPCC.bb.ahp(Rs,backgroundColor);},validatePageRange:function(pageRange,options){if(pageRange&&typeof pageRange!=='string'){return false;}else{try{PCCViewer.Util.convertPageRangeToArray(pageRange,options);}catch(e){return false;}return true;}},convertPageRangeToArray:function(pageRange,options){options=options||{};var lowerLimit=options.lowerLimit||1,upperLimit=options.upperLimit||Number.MAX_VALUE,allowEmpty=options.allowEmpty||false;if(pageRange!=='all'&&pageRange.match(/[^0-9\-\,\s]/g)){throw alC('Illegal page range value',pageRange);}var cQ=[];if(pageRange==='all'){while(upperLimit>=lowerLimit){cQ.unshift(upperLimit--);}}else{cQ=arm(pageRange);if((cQ.length===0&& !allowEmpty)||cQ[0]<lowerLimit||cQ[cQ.length-1]>upperLimit){throw alC('Pages are out of range',cQ.join(', '));}}return cQ;}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ObservableCollection=function(){var Bn=[];var qF={};PCCViewer.EventEmitter.extend(qF);qF.Si=function(Fx,cs){var C=this;return setTimeout(function(){C.trigger(Fx,cs);},0);};this.add=function(item){Bn.push(item);qF.Si(this.EventType.ItemAdded,{item:item,count:Bn.length});return this;};this.remove=function(item){var C=this;this.forEach(function(e,idx){if(e===item){Bn.splice(idx,1);qF.Si(C.EventType.ItemRemoved,{item:item,count:Bn.length});}});return this;};this.removeAll=function(){Bn=[];qF.Si(this.EventType.ItemRemoved,{count:Bn.length});return this;};this.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.bb.forEach(this.toArray(),iterator,thisArg);return this;};this.toArray=function(){return[].concat(Bn);};this.on=function(eventType,handler){qF.on.apply(qF,arguments);return this;};this.off=function(eventType,handler){qF.off.apply(qF,arguments);return this;};};PCCViewer.ObservableCollection.prototype.EventType={ItemAdded:"ItemAdded",ItemRemoved:"ItemRemoved"};})(PCCViewer||{});var PCCViewer=window.PCCViewer||{};(function(){"use strict";PCCViewer.Data=(function(){function getData(key){return this.cj.get_data(key);};function setData(key,value){this.cj.set_data(key,value);return this;};function getDataKeys(){return this.cj.get_dataKeys();};return{extend:function(o){o.getData=getData;o.setData=setData;o.getDataKeys=getDataKeys;},qw:function(ge,rf){if(typeof ge.getData!=="function"||typeof ge.setData!=="function"||typeof ge.getDataKeys!=="function"||typeof rf.getData!=="function"||typeof rf.setData!=="function"||typeof rf.getDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the Data Mixin.");}var tc=ge.getDataKeys(),i,length=tc.length;for(i=0;i<length;i++){var aI=tc[i];rf.setData(aI,ge.getData(aI));}}};})();PCCViewer.SessionData=(function(){function getSessionData(key){return this.CL.get_data(key);};function setSessionData(key,value){this.CL.set_data(key,value);return this;};function getSessionDataKeys(){return this.CL.get_dataKeys();};return{extend:function(o){o.getSessionData=getSessionData;o.setSessionData=setSessionData;o.getSessionDataKeys=getSessionDataKeys;},aDe:function(ge,rf){if(typeof ge.getSessionData!=="function"||typeof ge.setSessionData!=="function"||typeof ge.getSessionDataKeys!=="function"||typeof rf.getSessionData!=="function"||typeof rf.setSessionData!=="function"||typeof rf.getSessionDataKeys!=="function"){throw new Error("Arguments `_source` and `_destination` must be extended with the SessionData Mixin.");}var tc=ge.getSessionDataKeys(),i,length=tc.length;for(i=0;i<length;i++){var aI=tc[i];rf.setSessionData(aI,ge.getSessionData(aI));}}};})();})();(function(undefined){'use strict';function Mark(parameters){this.bI=0;this.cD=undefined;this.Ig=false;this.oW=PCCViewer.Mark.InteractionMode.Full;this.gX=true;if(parameters.uid&&parameters.viewerControl){(function(ay,mY){IPCC.bb.forEach(ay,function validateMark(nn){if(nn.getUid()===mY){throw new Error('Uid '+mY+' already exists in the document and cannot be duplicated.');}});})(parameters.viewerControl.getAllMarks(),parameters.uid);}var mY=parameters.uid||IPCC.bb.adU();if(parameters.igMark&&parameters.igMark instanceof IPCC.Web.UI.Mark){this.h=parameters.igMark;this.cD=this.h.get_markID().toString();this.cj=this.h.get_data();}else{this.cj=new IPCC.Web.UI.Data();}PCCViewer.Data.extend(this);this.CL=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);if(parameters.pageNumber!==undefined){IPCC.bU.iV(parameters.pageNumber,'pageNumber');this.bI=parameters.pageNumber;}if(parameters.id!==undefined){IPCC.bU.iG(parameters.id,'id');this.cD=parameters.id;}if(parameters.type&&parameters.type==='PlaceSignature'&&parameters.Ig){this.aE=parameters.type;this.Ig=true;}else if(parameters.type!==undefined){IPCC.bU.iG(parameters.type,'type');var HC=Pd(parameters.type,PCCViewer.Mark.Type);if(HC===null){throw new RangeError("The value of mark type was invalid.");}this.aE=HC;}if('dK'in parameters){this.dK=parameters.dK;}if('aF'in parameters){this.aF=parameters.aF;}addPropertiesToMark(this);addMethodsToMark(this);this.getUid=function(){return mY;};if(Object.defineProperties&&Object.defineProperty){Object.defineProperty(this,'uid',{value:mY,enumerable:true,writable:false});}};PCCViewer.Mark=Mark;PCCViewer.Mark.prototype.getType=function(){return this.aE;};PCCViewer.Mark.prototype.getId=function(){return this.cD;};PCCViewer.Mark.prototype.getPageNumber=function(){return this.bI;};PCCViewer.Mark.prototype.getConversation=function(){if(!this.cK){this.cK=new PCCViewer.Conversation(this);}return this.cK;};PCCViewer.Mark.prototype.getBoundingRectangle=function(){if(this.h){var ar=this.h.get_boundingRectangle();if(ar instanceof IPCC.Web.UI.Rectangle){this.qD={width:ar.width,height:ar.height,x:ar.x,y:ar.y};}}return this.qD;};PCCViewer.Mark.prototype.getInteractionMode=function(){if(this.h){switch(this.h.get_interactionMode()){case IPCC.Web.UI.MarkInteractionMode.SelectionDisabled:return PCCViewer.Mark.InteractionMode.SelectionDisabled;case IPCC.Web.UI.MarkInteractionMode.Full:return PCCViewer.Mark.InteractionMode.Full;default:return PCCViewer.Mark.InteractionMode.Full;}}return this.oW;};PCCViewer.Mark.prototype.setInteractionMode=function(interactionMode){var oW=Pd(interactionMode,PCCViewer.Mark.InteractionMode),Xa;switch(oW){case PCCViewer.Mark.InteractionMode.SelectionDisabled:Xa=IPCC.Web.UI.MarkInteractionMode.SelectionDisabled;break;case PCCViewer.Mark.InteractionMode.Full:Xa=IPCC.Web.UI.MarkInteractionMode.Full;break;default:throw PCCViewer.Error("InvalidArgument","The specified interactionMode is not valid.");}if(this.h){this.h.set_interactionMode(Xa);}this.oW=oW;return this;};PCCViewer.Mark.prototype.reset=function(){var fk=new Mark({type:this.aE,Ig:this.Ig});this.cj={};if(this.setBorderColor&&fk.getBorderColor){this.setBorderColor(fk.getBorderColor());}if(this.setBorderThickness&&fk.getBorderThickness){this.setBorderThickness(fk.getBorderThickness());}if(this.setColor&&fk.getColor){this.setColor(fk.getColor());}if(this.setEndHeadType&&fk.getEndHeadType){this.setEndHeadType(fk.getEndHeadType());}if(this.setEndPoint&&fk.getEndPoint){this.setEndPoint(fk.getEndPoint());}if(this.setFillColor&&fk.getFillColor){this.setFillColor(fk.getFillColor());}if(this.setFontColor&&fk.getFontColor){this.setFontColor(fk.getFontColor());}if(this.setFontName&&fk.getFontName){this.setFontName(fk.getFontName());}if(this.setFontSize&&fk.getFontSize){this.setFontSize(fk.getFontSize());}if(this.setFontStyle&&fk.getFontStyle){this.setFontStyle(fk.getFontStyle());}if(this.setHorizontalAlignment&&fk.getHorizontalAlignment){this.setHorizontalAlignment(fk.getHorizontalAlignment());}if(this.setLabel&&fk.getLabel){this.setLabel(fk.getLabel());}if(this.setPosition&&this.h&&fk.getPosition){this.setPosition(fk.getPosition());}if(this.setReason&&fk.setReason){this.setReason(fk.getReason());}if(this.setOpacity&&fk.getOpacity){this.setOpacity(fk.getOpacity());}if(this.setRectangle&&fk.getRectangle){this.setRectangle(fk.getRectangle());}if(this.setStartPoint&&fk.getStartPoint){this.setStartPoint(fk.getStartPoint());}if(this.setText&&fk.getText){this.setText(fk.getText());}if(this.setThickness&&fk.getThickness){this.setThickness(fk.getThickness());}if(this.setPath&&fk.getPath){this.setPath(fk.getPath());}if(this.setHref&&fk.getHref){this.setHref(fk.getHref());}if(this.setImage&&fk.getImage){this.setImage(fk.getImage());}if(this.setInteractionMode&&fk.getInteractionMode){this.setInteractionMode(fk.getInteractionMode());}};if(Object.defineProperties){Object.defineProperties(PCCViewer.Mark.prototype,{"type":{enumerable:true,get:function(){return this.getType();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"id":{enumerable:true,get:function(){return this.getId();}},"conversation":{enumerable:true,get:function(){return this.getConversation();}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}},"interactionMode":{enumerable:true,get:function(){return this.getInteractionMode();},set:function(){return this.setInteractionMode();}}});}PCCViewer.Mark.Type={LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",TextRedaction:"TextRedaction",StampRedaction:"StampRedaction",FreehandAnnotation:"FreehandAnnotation",FreehandSignature:"FreehandSignature",TextSignature:"TextSignature",TextInputSignature:"TextInputSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.Mark.LineHeadType={None:"None",FilledTriangle:"FilledTriangle"};PCCViewer.Mark.FontStyles={Bold:"Bold",Italic:"Italic",Strikeout:"Strikeout",Underline:"Underline"};PCCViewer.Mark.InteractionMode={Full:"Full",SelectionDisabled:"SelectionDisabled"};PCCViewer.Mark.HorizontalAlignment={Center:"Center",Left:"Left",Right:"Right"};function Pd(XH,aE){var Yp=XH.toLowerCase();for(var standardType in aE){if(aE.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Yp){return standardType;}}return null;};function addMethodsToMark(J){function Jm(J){J.highlightText=function(highlights){if(!this.h){throw new Error("It is invalid to highlight text on this mark.");}var mU;if(highlights!==null&&typeof highlights!=="undefined"){if(Object.prototype.toString.call(highlights)!=='[object Array]'){mU=[highlights];}else{mU=highlights;}for(var i=0;i<mU.length;i++){aqf(mU[i]);}}else{mU=[];}var aE=J.getType();switch(aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:J.h.selectText(mU);break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:var C=this;var Ob=[];var uu=false,Ro=0,PK,Eo;var afw=function(HV,aoP,hk){var xH;var Sk= -1,MB=[];var Ay=(HV.ao+HV.cF);if(uu===true&&PK>=0&&Eo>=0){if(HV.aH-1===PK){xH=0;if(Ro<=Ay){MB.push({startIndex:xH,length:Ro,color:hk[Eo].color,opacity:(hk[Eo].opacity)?hk[Eo].opacity:127});uu=false;Ro=0;PK= -1;Eo= -1;}}}for(var ba=0;ba<hk.length;ba++){xH=HV.ao+hk[ba].startIndex-aoP;if(xH<0){continue;}if(Array.prototype.indexOf){Sk=Ob.indexOf(ba);}else{Sk=IPCC.Web.hh(Ob,ba);}var db=127;if(Sk=== -1){if(xH+hk[ba].length<=Ay){if(hk[ba].opacity){db=hk[ba].opacity;}MB.push({startIndex:xH,length:hk[ba].length,color:hk[ba].color,opacity:db});Ob.push(ba);C.La.push(hk[ba]);}else{var Zu=Ay-xH;if(Zu>0){Ro=hk[ba].length-Zu;db=127;if(hk[ba].opacity){db=hk[ba].opacity;}MB.push({startIndex:xH,length:Zu,color:hk[ba].color,opacity:db});Ob.push(ba);C.La.push(hk[ba]);uu=true;Eo=ba;PK=HV.aH;}}}}return MB;};this.La=[];var fN=afw(this.h,0,mU);J.clearHighlights();if(fN.length>0){C.h.selectText(fN);}fN=[];var lg=this.h.cF;if(this.bW&&this.bW.length){for(var F=0;F<this.bW.length;F++){fN=[];fN=afw(this.bW[F],lg,mU);lg+=this.bW[F].cF;if(fN.length>0){this.bW[F].selectText(fN);}}}break;}return this;};function aqf(LX){IPCC.bU.os(LX.startIndex,'highlight.startIndex',0,J.getText().length);IPCC.bU.os(LX.length,'highlight.length',1,Number.MAX_VALUE);IPCC.bU.fp(LX.color,'highlight.color');if(LX.opacity){IPCC.bU.os(LX.opacity,"highlight.opacity",0,255);}};J.clearHighlights=function(){if(this.h){if(!this.h){throw new Error("It is invalid to clear highlights on this mark.");}}var aE=J.getType();switch(aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:J.h.selectText();break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:this.h.selectText();if(this.bW&&this.bW.length){for(var F=0;F<this.bW.length;F++){this.bW[F].selectText();}}break;}return this;};};var aE=J.getType();switch(aE){case PCCViewer.Mark.Type.TextAnnotation:Jm(J);break;case PCCViewer.Mark.Type.TextRedaction:Jm(J);break;case PCCViewer.Mark.Type.HighlightAnnotation:Jm(J);break;case PCCViewer.Mark.Type.TextSelectionRedaction:Jm(J);break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:Jm(J);break;default:break;}};function addPropertiesToMark(J){J.qD={x:0,y:0,width:0,height:0};var aE=J.getType();switch(aE){case PCCViewer.Mark.Type.LineAnnotation:J.fp='#18385F';J.hx=IPCC.Web.UI.LineStyle.Solid;J.rH=6;J.db=255;J.RQ={x:0,y:0};J.Ay={x:0,y:0};J.mF="None";break;case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:J.cW='#FB0404';J.db=255;J.sI='#000000';J.qs=4;J.V={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.RectangleRedaction:J.eS="";J.V={x:0,y:0,width:0,height:0};J.ps=true;if(J.h){J.h.kV(J.ps);J.h.set_fillColor('#000000');}break;case PCCViewer.Mark.Type.TransparentRectangleRedaction:J.V={x:0,y:0,width:0,height:0};J.ps=true;if(J.h){J.h.kV(J.ps);J.h.set_fillColor('#FFFF00');J.h.set_opacity(127);J.h.set_lineWidth(1);J.h.set_lineColor('#FFFF00');}break;case PCCViewer.Mark.Type.TextAnnotation:J.al='';J.cW='#FFFFFF';J.db=127;J.sI='#000000';J.qs=4;J.kg='#000000';J.gn="Arial";J.cS=12;J.ee=[];J.ys="Left";J.V={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:J.wV="Approved";J.V={x:0,y:0,width:0,height:0};if(aE===PCCViewer.Mark.Type.StampRedaction){J.ps=true;if(J.h){J.h.kV(J.ps);J.h.set_fillColor('#000000');}}else{J.fp="#000000";}break;case PCCViewer.Mark.Type.HighlightAnnotation:J.cW="#FFFF00";J.al='';J.cu='';if(J.h){if(J.h.cu){J.al=J.h.cu;}}J.di={startIndex:0,length:0};J.La=[];break;case PCCViewer.Mark.Type.TextSelectionRedaction:J.eS="";J.al='';J.di={startIndex:0,length:0};if(J.h){J.h.set_fillColor('#000000');if(J.h.cu){J.al=J.h.cu;}}J.La=[];break;case PCCViewer.Mark.Type.TextHyperlinkAnnotation:J.qn=null;J.al='';if(J.h){if(J.h.cu){J.al=J.h.cu;}}J.di={startIndex:0,length:0};J.La=[];break;case PCCViewer.Mark.Type.TextRedaction:J.al='';J.kg='#000000';J.gn="Arial";J.cS=12;J.V={x:0,y:0,width:0,height:0};J.ps=true;if(J.h){J.h.kV(J.ps);J.h.set_fillColor('#ffffff');}break;case PCCViewer.Mark.Type.FreehandAnnotation:J.db=255;case PCCViewer.Mark.Type.FreehandSignature:J.V={x:0,y:0,width:0,height:0};J.rH=4;J.fp='#000000';J.dR='M0,0';break;case PCCViewer.Mark.Type.TextSignature:J.al="John Doe";J.V={x:0,y:0,width:0,height:0};J.fp="#000000";if(J.h){J.fp=J.h.cW||'#000000';J.h.kV(J.ps);J.h.set_fillColor(J.fp);}J.gn="";break;case PCCViewer.Mark.Type.TextInputSignature:J.al="";J.V={x:0,y:0,width:0,height:0};J.kg="#000000";if(J.h){J.kg=J.h.get_textColor()||'#000000';J.h.kV(false);}J.gn="Courier New";break;case 'PlaceSignature':J.mh=undefined;J.V={x:0,y:0,width:0,height:0};break;case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:J.aQ="";J.oZ="";J.V={x:0,y:0,width:0,height:0};if(J.h&&aE===PCCViewer.Mark.Type.ImageStampRedaction){J.ps=true;J.h.kV(J.ps);}break;case PCCViewer.Mark.Type.PolylineAnnotation:J.fp='#000000';J.hx=IPCC.Web.UI.LineStyle.Solid;J.rH=2;J.db=255;J.bv=[];J.bv[0]={x:0,y:0};break;}function getSignature(){return this.mh||undefined;};function setSignature(signature){if(typeof signature==='undefined'){this.mh=undefined;return;}else if(typeof signature!=='object'){throw new Error("The parameter `signature` is not an Object.");}if(!signature.path&& !signature.text){throw new Error("The parameter `signature` should have at least one of these properties: text, path");}else{if(signature.path){if(signature.path.length<1){throw new Error("The property `signature.path` cannot be empty.");}else if(signature.path.match(/[^MLC0-9,.\s]/)){throw new Error("The property `signature.path` has invalid characters.");}}else if(signature.text){if(signature.text.length<1){signature.text='';}}}this.mh=signature;return this;};if(J.mh||J.aE==='PlaceSignature'){J.getSignature=getSignature;J.setSignature=setSignature;if(Object.defineProperties){Object.defineProperties(J,{"signature":{enumerable:true,get:function(){return this.getSignature();},set:function(value){return this.setSignature(value);}}});}}function getColor(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.fp=this.h.get_lineColor()||this.fp;break;case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.TextSignature:this.fp=this.h.get_fillColor()||this.fp;break;}}return this.fp;};function setColor(value){IPCC.bU.fp(value,'color');this.fp=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:this.h.set_lineColor(value);break;case PCCViewer.Mark.Type.StampAnnotation:this.h.set_fillColor(value);break;case PCCViewer.Mark.Type.TextSignature:this.h.set_textColor(value);this.h.set_fillColor(value);break;}}return this;};if(J.fp!==undefined){J.getColor=getColor;J.setColor=setColor;if(Object.defineProperties){Object.defineProperties(J,{"color":{enumerable:true,get:function(){return this.getColor();},set:function(value){return this.setColor(value);}}});}}function getFillColor(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:this.cW=this.h.get_fillColor()||this.cW;break;}}return this.cW;};function setFillColor(value){if(this.aE===PCCViewer.Mark.Type.HighlightAnnotation){IPCC.bU.fp(value,'fillColor');}else{IPCC.bU.UU(value,'fillColor');}this.cW=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_fillColor(value);break;case PCCViewer.Mark.Type.HighlightAnnotation:this.h.set_fillColor(value);if(this.bW&&this.bW.length){for(var F=0;F<this.bW.length;F++){this.bW[F].set_fillColor(value);}}break;}}return this;};if(J.cW!==undefined){J.getFillColor=getFillColor;J.setFillColor=setFillColor;if(Object.defineProperties){Object.defineProperties(J,{"fillColor":{enumerable:true,get:function(){return this.getFillColor();},set:function(value){return this.setFillColor(value);}}});}}function getImage(){var retVal={dataUrl:this.aQ,id:this.oZ};return retVal;};function setImage(params){IPCC.bU.iG(params.dataUrl,'string');IPCC.bU.iG(params.id,'string');this.aQ=params.dataUrl;this.oZ=params.id;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:this.h.set_image(params.dataUrl);this.h.oZ=params.id;break;}}return this;};if(J.aQ!==undefined){J.getImage=getImage;J.setImage=setImage;if(Object.defineProperties){Object.defineProperties(J,{"image":{enumerable:true,get:function(){return this.getImage();},set:function(params){return this.setImage(params);}}});}}function getBorderColor(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.sI=this.h.get_lineColor()||this.sI;break;}}return this.sI;};function setBorderColor(value){IPCC.bU.UU(value,'borderColor');this.sI=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_lineColor(value);break;}}return this;};if(J.sI!==undefined){J.getBorderColor=getBorderColor;J.setBorderColor=setBorderColor;if(Object.defineProperties){Object.defineProperties(J,{"borderColor":{enumerable:true,get:function(){return this.getBorderColor();},set:function(value){return this.setBorderColor(value);}}});}}function getOpacity(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.db=this.h.get_opacity()||this.db;break;}}return this.db;};function setOpacity(value){IPCC.bU.os(value,'opacity',0,255);this.db=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.h.set_opacity(value);break;}}return this;};if(J.db!==undefined&&J.db>=0){J.getOpacity=getOpacity;J.setOpacity=setOpacity;if(Object.defineProperties){Object.defineProperties(J,{"opacity":{enumerable:true,get:function(){return this.getOpacity();},set:function(value){return this.setOpacity(value);}}});}}function getThickness(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.rH=this.h.get_lineWidth()||this.rH;break;}}return this.rH;};function setThickness(value){IPCC.bU.jS(value,'thickness',1,50);this.rH=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.PolylineAnnotation:this.h.set_lineWidth(value);break;}}return this;};if(J.rH){J.getThickness=getThickness;J.setThickness=setThickness;if(Object.defineProperties){Object.defineProperties(J,{"thickness":{enumerable:true,get:function(){return this.getThickness();},set:function(value){return this.setThickness(value);}}});}}function getBorderThickness(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.qs=this.h.get_lineWidth()||this.qs;break;}}return this.qs;};function setBorderThickness(value){IPCC.bU.jS(value,'borderThickness',1,50);this.qs=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:this.h.set_lineWidth(value);break;}}return this;};if(J.qs!==undefined){J.getBorderThickness=getBorderThickness;J.setBorderThickness=setBorderThickness;if(Object.defineProperties){Object.defineProperties(J,{"borderThickness":{enumerable:true,get:function(){return this.getBorderThickness();},set:function(value){return this.setBorderThickness(value);}}});}}function getVisible(){if(this.h){this.gX=this.h.get_visible();}return this.gX;};function setVisible(value){if(value!==true&&value!==false){throw new Error("The parameter value is invalid. The parameter must be boolean true or false.");}this.gX=value;if(this.h){this.h.set_visible(value);}var F;switch(this.aE){case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:case PCCViewer.Mark.Type.HighlightAnnotation:if(this.bW&&this.bW.length){for(F=0;F<this.bW.length;F++){this.bW[F].set_visible(value);}}if(this.aE===PCCViewer.Mark.Type.TextSelectionRedaction){var eh=this.h;for(F=0;F<this.h.cl.length;F++){eh.cl[F].set_visible(value);}if(eh.cI){IPCC.bb.forEach(this.bW,function(h){for(F=0;F<h.cl.length;F++){h.cl[F].set_visible(value);}});}}break;}return this;};if(J.gX!==undefined){J.getVisible=getVisible;J.setVisible=setVisible;if(Object.defineProperties){Object.defineProperties(J,{"visible":{enumerable:true,get:function(){return this.getVisible();},set:function(value){return this.setVisible(value);}}});}}function getStartPoint(){if(this.h&&this.h!==null){var bv=this.h.get_points();if(bv.get_length()>0){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:var aT=bv.getPoint(0);if(aT){this.RQ={x:aT.x,y:aT.y};}break;}}}return this.RQ;};function setStartPoint(value){IPCC.bU.iV(value.x,'startPoint'+'.x');IPCC.bU.iV(value.y,'startPoint'+'.y');if(this.h&&this.h!==null){var bv=this.h.get_points();switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:bv.setPoint(0,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.RQ=value;return this;};if(J.RQ){J.getStartPoint=getStartPoint;J.setStartPoint=setStartPoint;if(Object.defineProperties){Object.defineProperties(J,{"startPoint":{enumerable:true,get:function(){return this.getStartPoint();},set:function(value){return this.setStartPoint(value);}}});}}function getEndPoint(){if(this.h&&this.h!==null){var bv=this.h.get_points();if(bv.get_length()>0){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:var aT=bv.getPoint(1);if(aT){this.Ay={x:aT.x,y:aT.y};}break;}}}return this.Ay;};function setEndPoint(value){IPCC.bU.iV(value.x,'endPoint'+'.x');IPCC.bU.iV(value.y,'endPoint'+'.y');if(this.h&&this.h!==null){var bv=this.h.get_points();switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:bv.setPoint(1,new IPCC.Web.UI.Point(value.x,value.y));break;}}this.Ay=value;return this;};if(J.Ay){J.getEndPoint=getEndPoint;J.setEndPoint=setEndPoint;if(Object.defineProperties){Object.defineProperties(J,{"endPoint":{enumerable:true,get:function(){return this.getEndPoint();},set:function(value){return this.setEndPoint(value);}}});}}function getEndHeadType(){if(this.h&&this.h!==null){var Co;switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:Co=this.h.get_endHeadType();switch(Co){case IPCC.Web.UI.LineHeadType.None:this.mF=PCCViewer.Mark.LineHeadType.None;break;case IPCC.Web.UI.LineHeadType.Solid:this.mF=PCCViewer.Mark.LineHeadType.FilledTriangle;break;}break;}}return this.mF;};function setEndHeadType(value){var Co;switch(value){case PCCViewer.Mark.LineHeadType.None:Co=IPCC.Web.UI.LineHeadType.None;break;case PCCViewer.Mark.LineHeadType.FilledTriangle:Co=IPCC.Web.UI.LineHeadType.Solid;break;default:throw "The specified value is not a valid line head type.";}if(this.h&&this.h!==null){switch(this.aE){case PCCViewer.Mark.Type.LineAnnotation:this.h.set_endHeadType(Co);break;}}this.mF=value;return this;};if(J.mF){J.getEndHeadType=getEndHeadType;J.setEndHeadType=setEndHeadType;if(Object.defineProperties){Object.defineProperties(J,{"endHeadType":{enumerable:true,get:function(){return this.getEndHeadType();},set:function(value){return this.setEndHeadType(value);}}});}}function getPoints(){if(this.h&&this.h!==null){var Iq=this.h.get_points();var cT=Iq.get_length();var afD=[];var aas=function(aup,bh){afD.push(aup.getPoint(bh));};if(cT>1){switch(this.aE){case PCCViewer.Mark.Type.PolylineAnnotation:for(var F=0;F<cT;F++){aas(Iq,F);}this.bv=afD;break;}}}return this.bv.slice();};function setPoints(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}if(value.length<=1){return;}for(var ba=0;ba<value.length;ba++){IPCC.bU.aT(value[ba],'PolylinePoint');}if(this.h&&this.h!==null){var Iq=this.h.get_points();var aAG=function(bh){Iq.addPoint(new IPCC.Web.UI.Point(value[bh].x,value[bh].y));};switch(this.aE){case PCCViewer.Mark.Type.PolylineAnnotation:Iq.removeAllPoints();for(var F=0;F<value.length;F++){aAG(F);}}}return this;};if(J.bv){J.getPoints=getPoints;J.setPoints=setPoints;if(Object.defineProperties){Object.defineProperties(J,{"points":{enumerable:true,get:function(){return this.getPoints();},set:function(value){return this.setPoints(value);}}});}}function getRectangle(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var ar=this.h.get_rectangle();if(ar instanceof IPCC.Web.UI.Rectangle){this.V={width:ar.width,height:ar.height,x:ar.x,y:ar.y};}break;}}return this.V;};function setRectangle(value){IPCC.bU.iV(value.x,'rectangle'+'.x');IPCC.bU.iV(value.y,'rectangle'+'.y');IPCC.bU.iV(value.width,'rectangle'+'.width');IPCC.bU.iV(value.height,'rectangle'+'.height');if(this.h&&this.h!==null){switch(this.aE){case PCCViewer.Mark.Type.RectangleAnnotation:case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TransparentRectangleRedaction:case PCCViewer.Mark.Type.EllipseAnnotation:case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:case PCCViewer.Mark.Type.FreehandAnnotation:case PCCViewer.Mark.Type.FreehandSignature:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:case PCCViewer.Mark.Type.ImageStampAnnotation:case PCCViewer.Mark.Type.ImageStampRedaction:var ar=new IPCC.Web.UI.Rectangle(value.x,value.y,value.width,value.height);this.h.set_rectangle(ar);break;}}this.V=value;return this;};if(J.V){J.getRectangle=getRectangle;J.setRectangle=setRectangle;if(Object.defineProperties){Object.defineProperties(J,{"rectangle":{enumerable:true,get:function(){return this.getRectangle();},set:function(value){return this.setRectangle(value);}}});}}function getPosition(){var dm=0;if(this.h.cu){dm=this.h.cu.length;}else if(this.h){dm=IPCC.bb.reduce([this.h].concat(this.bW||[]),function(cT,h){return cT+h.get_textLength();},0);}return this.h?{startIndex:this.h.ao,length:dm}:this.di;};function setPosition(value){IPCC.bU.iV(value.startIndex,'position.startIndex');IPCC.bU.iV(value.length,'position.length');if(value.startIndex<0){throw new Error("The start index must be 0 or greater.");}if(value.length<0){throw new Error("The length must be 0 or greater.");}if(this.h===undefined||this.h===null){throw new Error("The mark must be on a page.");}var bw;var bM;var aH=this.bI-1;var vo= -value.startIndex;var nU=[];var cu="";var ds;while(true){if(aH>=this.dK.get_length()){throw new Error("The specified length is out of range.");}bw=this.dK.getPage(aH);if(bw.dJ()&&bw.dJ().Ai()&&bw.dJ().nm()===true){var adt=vo;var VT=bw.dJ().EG();vo+=VT.length;if(vo<0||(vo===0&&value.length!==0)){throw new Error("The specified start index is out of range for the specified page.");}var aaR=0;if(aH===this.bI-1){aaR=value.startIndex;}if(vo>=value.length){ds=value.startIndex+value.length-1;if(adt>=0){ds=value.length-1-adt;}nU.push({pageIndex:aH,endIndex:ds});cu+=VT.substring(aaR,ds+1);break;}else{ds=bw.dJ().EG().length-1;nU.push({pageIndex:aH,endIndex:ds});cu+=VT.substring(aaR,ds+1);}}else{throw new Error("The text has not been retrieved for this page.");}aH++;}this.cI=IPCC.Do();var F=0;if(this.bW){if(this.h){this.h.cI=this.cI;bM=this.aF.hu(this.dK.getPage(this.h.aH));if(this.h.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction){for(var SP=this.h.cl.length-1;SP>=0;SP--){bM.removeMark(this.h.cl[SP]);this.h.cl.pop();}}}for(F=this.bW.length-1;F>=0;F--){var lX=this.bW[F];bM=this.aF.hu(this.dK.getPage(lX.aH));bM.removeMark(lX);this.bW.splice(F,1);}}else{this.bW=[];}HN.call(this,nU,ds,cu,value);this.di=value;return this;};function HN(nU,ds,cu,value,ZG){var F,aH,bw,bM;ZG=ZG||{};var cl;this.bW=this.bW||[];var aca=(this.h.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction)?apO:aqN;for(F=0;F<nU.length;F++){aH=nU[F].pageIndex;bw=this.dK.getPage(aH);var amZ=bw.dJ().ey();bM=this.aF.hu(bw);var eh;var ao=0;ds=nU[F].endIndex;if(F===0){ao=value.startIndex;}aH=nU[F].pageIndex;cl=ZG[aH]||IPCC.bb.Oo(amZ,ao,ds);if(F===0){eh=aca(this.h,ao,ds-ao+1,cu,cl,aH,this.cI,this.h.get_type(),bM);this.h.jH=true;}else{eh=aca(null,ao,ds-ao+1,cu,cl,aH,this.cI,this.h.get_type(),bM);this.bW.push(eh);bM.addMark(eh);eh.set_selected(this.h.get_selected());if(this.getFillColor){eh.set_fillColor(this.h.get_fillColor());}if(this.getHref){eh.set_href(this.h.get_href());}if(this.getReason){eh.set_text(this.h.get_text());}}if(F===nU.length-1){eh.km=true;}}};if(J.di){J.getPosition=getPosition;J.setPosition=setPosition;J.HN=HN;if(Object.defineProperties){Object.defineProperties(J,{"position":{enumerable:true,get:function(){return this.getPosition();},set:function(value){return this.setPosition(value);}}});}}function aqN(J,ao,dm,cu,cl,aH,kK,aC,bM){if(!J){J=new IPCC.Web.UI.Mark(aC);}J.ao=ao;J.cF=dm;J.mC='y';J.cI=kK;J.cu=cu;J.cl=cl||[];J.aH=aH;var Sy=IPCC.bb.reduce(J.cl,function(Iv,ar){if(!Iv){return ar.clone();}else{return Iv.union(ar);}},null);J.set_rectangle(Sy);return J;};function apO(J,ao,dm,cu,cl,aH,kK,aC,bM){if(!J){J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);}J.ao=ao;J.cF=dm;J.cI=kK;J.cu=cu;J.aH=aH;J.cl=IPCC.bb.map(cl,function(ar){var xP=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);xP.set_rectangle(ar);xP.kV(true);xP.set_fillColor('#000000');xP.set_text(J.al);xP.set_lineWidth(0);xP.cI=kK;bM.addMark(xP);return xP;});var Sy=IPCC.bb.reduce(cl,function(Iv,ar){if(!Iv){return ar.clone();}else{return Iv.union(ar);}},null);J.set_rectangle(Sy);return J;};function getText(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.al=(typeof this.h.get_text()==="string")?this.h.get_text():this.al;break;case PCCViewer.Mark.Type.HighlightAnnotation:case PCCViewer.Mark.Type.TextSelectionRedaction:case PCCViewer.Mark.Type.TextHyperlinkAnnotation:if(J.h.cu){this.al=J.h.cu;}break;}}return this.al;};function setText(value){IPCC.bU.iG(value,'text');this.al=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_text(value);break;}}return this;};if(J.al!==undefined){J.getText=getText;var aC=J.getType();if(aC!==PCCViewer.Mark.Type.HighlightAnnotation&&aC!==PCCViewer.Mark.Type.TextSelectionRedaction&&aC!==PCCViewer.Mark.Type.TextHyperlinkAnnotation){J.setText=setText;}if(Object.defineProperties){Object.defineProperties(J,{"text":{enumerable:true,get:function(){return this.getText();},set:function(value){return this.setText(value);}}});}}function getFontColor(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.kg=this.h.get_textColor()||this.kg;break;}}return this.kg;};function setFontColor(value){IPCC.bU.fp(value,'fontColor');this.kg=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_textColor(value);break;}}return this;};if(J.kg){J.getFontColor=getFontColor;J.setFontColor=setFontColor;if(Object.defineProperties){Object.defineProperties(J,{"fontColor":{enumerable:true,get:function(){return this.getFontColor();},set:function(value){return this.setFontColor(value);}}});}}function getFontName(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.gn=this.h.get_fontName()||this.gn;break;}}return this.gn;};function setFontName(value){IPCC.bU.iG(value,'fontName');this.gn=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:case PCCViewer.Mark.Type.TextSignature:case PCCViewer.Mark.Type.TextInputSignature:this.h.set_fontName(value);break;}}return this;};if(J.gn!==undefined){J.getFontName=getFontName;J.setFontName=setFontName;if(Object.defineProperties){Object.defineProperties(J,{"fontName":{enumerable:true,get:function(){return this.getFontName();},set:function(value){return this.setFontName(value);}}});}}function getFontSize(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.cS=this.h.get_fontSize()||this.cS;break;}}return this.cS;};function setFontSize(value){IPCC.bU.jS(value,'fontSize',0.1,288);this.cS=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:this.h.set_fontSize(value);break;}}return this;};if(J.cS){J.getFontSize=getFontSize;J.setFontSize=setFontSize;if(Object.defineProperties){Object.defineProperties(J,{"fontSize":{enumerable:true,get:function(){return this.getFontSize();},set:function(value){return this.setFontSize(value);}}});}}function getHorizontalAlignment(){if(this.h){var sf;switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:sf=this.h.get_textHorizontalAlignment();if(sf){if(sf===IPCC.Web.UI.HorizontalAlignment.Center){this.ys="Center";}else if(sf===IPCC.Web.UI.HorizontalAlignment.Left){this.ys="Left";}else if(sf===IPCC.Web.UI.HorizontalAlignment.Right){this.ys="Right";}}break;}}return this.ys;};function setHorizontalAlignment(value){IPCC.bU.iG(value,'horizontalAlignment');var sf;var tp=Pd(value,PCCViewer.Mark.HorizontalAlignment);if(tp==="Center"){sf=IPCC.Web.UI.HorizontalAlignment.Center;}else if(tp==="Left"){sf=IPCC.Web.UI.HorizontalAlignment.Left;}else if(tp==="Right"){sf=IPCC.Web.UI.HorizontalAlignment.Right;}else{throw "Invalid value found for the Text horizontalAlignment.";}J.ys=tp;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:if(sf!==undefined){this.h.set_textHorizontalAlignment(sf);this.ys=tp;}break;}}return this;};if(J.ys){J.getHorizontalAlignment=getHorizontalAlignment;J.setHorizontalAlignment=setHorizontalAlignment;if(Object.defineProperties){Object.defineProperties(J,{"horizontalAlignment":{enumerable:true,get:function(){return this.getHorizontalAlignment();},set:function(value){return this.setHorizontalAlignment(value);}}});}}function aoq(YD){var zC=[];for(var F=0;F<YD.length;F++){switch(YD[F]){case "Bold":zC.push(IPCC.Web.UI.FontStyle.Bold);break;case "Italic":zC.push(IPCC.Web.UI.FontStyle.Italic);break;case "Strikeout":zC.push(IPCC.Web.UI.FontStyle.Strikeout);break;case "Underline":zC.push(IPCC.Web.UI.FontStyle.Underline);break;default:throw Error("An unknown font style was encountered: "+YD[F]);}}if(zC.length===0){zC.push(IPCC.Web.UI.FontStyle.Regular);}return zC;};function getFontStyle(){if(this.h){var qX=[];switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var tJ=this.h.get_fontStyle();if(tJ&IPCC.Web.UI.FontStyle.Bold){qX.push("Bold");}if(tJ&IPCC.Web.UI.FontStyle.Italic){qX.push("Italic");}if(tJ&IPCC.Web.UI.FontStyle.Strikeout){qX.push("Strikeout");}if(tJ&IPCC.Web.UI.FontStyle.Underline){qX.push("Underline");}if(qX.length>0){this.ee=qX;}break;}}return this.ee;};function setFontStyle(value){if(!(value instanceof Array)){throw "invalid parameter. The parameter should be an array.";}var Ri,F,aaM=[];for(F=0;F<value.length;F++){Ri=Pd(value[F],PCCViewer.Mark.FontStyles);if(Ri===null){throw new RangeError("The value of font styles "+value[F]+" is invalid.");}else{IPCC.bU.iG(Ri,'fontStyle');aaM.push(Ri);}}this.ee=aaM;var tJ=[];tJ=aoq(this.ee);var bA=this;function aqs(cg){setTimeout(function(){bA.h.set_fontStyle(cg);},2);};if(this.h){switch(this.aE){case PCCViewer.Mark.Type.TextAnnotation:case PCCViewer.Mark.Type.TextRedaction:var aeq=tJ[0];for(F=1;F<tJ.length;F++){aeq|=tJ[F];}aqs(aeq);break;}}return this;};if(J.ee){J.getFontStyle=getFontStyle;J.setFontStyle=setFontStyle;if(Object.defineProperties){Object.defineProperties(J,{"fontStyle":{enumerable:true,get:function(){return this.getFontStyle();},set:function(value){return this.setFontStyle(value);}}});}}function getLabel(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.wV=this.h.get_text()||this.wV;break;}}return this.wV;};function setLabel(value){IPCC.bU.iG(value,'label');this.wV=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.StampAnnotation:case PCCViewer.Mark.Type.StampRedaction:this.h.set_text(value);break;}}return this;};if(typeof J.wV!=='undefined'){J.getLabel=getLabel;J.setLabel=setLabel;if(Object.defineProperties){Object.defineProperties(J,{"label":{enumerable:true,get:function(){return this.getLabel();},set:function(value){return this.setLabel(value);}}});}}function getReason(){if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleRedaction:case PCCViewer.Mark.Type.TextSelectionRedaction:this.eS=this.h.get_text()||this.eS;break;}}return this.eS;};function setReason(value){IPCC.bU.iG(value,'text');this.eS=value;if(this.h){switch(this.aE){case PCCViewer.Mark.Type.RectangleRedaction:this.h.set_text(value);break;case PCCViewer.Mark.Type.TextSelectionRedaction:this.h.set_text(value);if(this.bW&&this.bW.length){for(var F=0;F<this.bW.length;F++){this.bW[F].set_text(value);}}break;}}return this;};if(typeof J.eS!=='undefined'){J.getReason=getReason;J.setReason=setReason;if(Object.defineProperties){Object.defineProperties(J,{"reason":{enumerable:true,get:function(){return this.getReason();},set:function(value){return this.setReason(value);}}});}}function getPath(){if(this.h){return this.h.get_pathString();}else{return this.dR;}};function setPath(path){if(path.match(/[^MLC0-9.,\s]/)){throw new Error("The path string contains illegal characters.");}var wh=IPCC.bb.aaX(path);this.dR=path;if(this.h){this.h.set_pathString(path);this.h.set_pathWidth(wh.width);this.h.set_pathHeight(wh.height);}return this;};if(J.dR){J.setPath=setPath;J.getPath=getPath;if(Object.defineProperties){Object.defineProperties(J,{"path":{enumerable:true,get:getPath,set:setPath}});}}function getHref(){if(this.h){return this.h.get_href();}else{return this.qn;}};function setHref(href){if(href!==null){var aE=typeof href;if(aE!=="undefined"&&aE!=="number"&&aE!=="string"){throw new Error("`href` can only be set to a value that is a Number, String, null, or undefined.");}}this.qn=href;if(this.h){this.h.set_href(href);}if(this.bW){IPCC.bb.forEach(this.bW,function(h){h.set_href(href);});}return this;};if(typeof J.qn!=='undefined'){J.setHref=setHref;J.getHref=getHref;if(Object.defineProperties){Object.defineProperties(J,{"href":{enumerable:true,get:getHref,set:setHref}});}}}})();(function(undefined){'use strict';function MouseTool(name,type){this.ct=name;var HC=arE(type);if(HC===null){throw new RangeError("The value of type was invalid.");}this.aE=HC;addPropertiesToMouseTool(this);};MouseTool.prototype.getName=function(){return this.ct;};MouseTool.prototype.getType=function(){return this.aE;};if(Object.defineProperties){Object.defineProperties(MouseTool.prototype,{"name":{enumerable:true,get:function(){return this.getName();}},"type":{enumerable:true,get:function(){return this.getType();}}});}function arE(XH){var Yp=XH.toLowerCase();for(var standardType in PCCViewer.MouseTool.Type){if(PCCViewer.MouseTool.Type.hasOwnProperty(standardType)&&standardType.toLowerCase&&standardType.toLowerCase()===Yp){return standardType;}}return null;};function addPropertiesToMouseTool(mouseTool){var aE=mouseTool.getType();switch(aE){case PCCViewer.MouseTool.Type.Magnifier:break;case PCCViewer.MouseTool.Type.SelectToZoom:break;case PCCViewer.MouseTool.Type.Pan:mouseTool.zl=false;break;case PCCViewer.MouseTool.Type.PanAndEdit:mouseTool.zl=true;break;case PCCViewer.MouseTool.Type.SelectText:break;case PCCViewer.MouseTool.Type.EditMarks:break;case PCCViewer.MouseTool.Type.LineAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.LineAnnotation});break;case PCCViewer.MouseTool.Type.RectangleAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleAnnotation});break;case PCCViewer.MouseTool.Type.EllipseAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.EllipseAnnotation});break;case PCCViewer.MouseTool.Type.TextAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextAnnotation});break;case PCCViewer.MouseTool.Type.StampAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampAnnotation});break;case PCCViewer.MouseTool.Type.HighlightAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.HighlightAnnotation});break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextHyperlinkAnnotation});break;case PCCViewer.MouseTool.Type.FreehandAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.FreehandAnnotation});break;case PCCViewer.MouseTool.Type.RectangleRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.RectangleRedaction});break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TransparentRectangleRedaction});break;case PCCViewer.MouseTool.Type.TextRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextRedaction});break;case PCCViewer.MouseTool.Type.TextInputSignature:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextInputSignature});break;case PCCViewer.MouseTool.Type.StampRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.StampRedaction});break;case PCCViewer.MouseTool.Type.PlaceSignature:mouseTool.aK=new PCCViewer.Mark({type:'PlaceSignature',Ig:true});break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.TextSelectionRedaction});break;case PCCViewer.MouseTool.Type.ImageStampAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampAnnotation});break;case PCCViewer.MouseTool.Type.ImageStampRedaction:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.ImageStampRedaction});break;case PCCViewer.MouseTool.Type.PolylineAnnotation:mouseTool.aK=new PCCViewer.Mark({type:PCCViewer.Mark.Type.PolylineAnnotation});break;}if(mouseTool.aK){mouseTool.getTemplateMark=function(){return this.aK;};if(Object.defineProperties){Object.defineProperties(mouseTool,{"templateMark":{enumerable:true,get:mouseTool.getTemplateMark}});}}};MouseTool.prototype.reset=function(){if(this.aK){this.aK.reset();}};PCCViewer.MouseTools={Oh:{},createMouseTool:function(name,type){var BQ=name.toLowerCase();var existingTool=this.Oh[BQ];if(existingTool){if(existingTool.type.toLowerCase()!==type.toLowerCase()){throw new Error("If calling createMouseTool and providing the name of a mouse tool that already exists, then the type must be the same type as the existing mouse tool.");}existingTool.reset();}else{this.Oh[BQ]=new MouseTool(name,type);}return this.Oh[BQ];},getMouseTool:function(name){if(name&&name.toLowerCase){var BQ=name.toLowerCase();return this.Oh[BQ];}return undefined;}};PCCViewer.MouseTool=MouseTool;PCCViewer.MouseTool.Type={Magnifier:"Magnifier",SelectToZoom:"SelectToZoom",Pan:"Pan",PanAndEdit:"PanAndEdit",SelectText:"SelectText",EditMarks:"EditMarks",LineAnnotation:"LineAnnotation",RectangleAnnotation:"RectangleAnnotation",EllipseAnnotation:"EllipseAnnotation",TextAnnotation:"TextAnnotation",StampAnnotation:"StampAnnotation",HighlightAnnotation:"HighlightAnnotation",TextHyperlinkAnnotation:"TextHyperlinkAnnotation",FreehandAnnotation:"FreehandAnnotation",RectangleRedaction:"RectangleRedaction",TransparentRectangleRedaction:"TransparentRectangleRedaction",TextRedaction:"TextRedaction",TextInputSignature:"TextInputSignature",StampRedaction:"StampRedaction",PlaceSignature:"PlaceSignature",TextSelectionRedaction:"TextSelectionRedaction",ImageStampAnnotation:"ImageStampAnnotation",ImageStampRedaction:"ImageStampRedaction",PolylineAnnotation:"PolylineAnnotation"};PCCViewer.MouseTools.createMouseTool("AccusoftMagnifier",PCCViewer.MouseTool.Type.Magnifier);PCCViewer.MouseTools.createMouseTool("AccusoftSelectToZoom",PCCViewer.MouseTool.Type.SelectToZoom);PCCViewer.MouseTools.createMouseTool("AccusoftPan",PCCViewer.MouseTool.Type.Pan);PCCViewer.MouseTools.createMouseTool("AccusoftPanAndEdit",PCCViewer.MouseTool.Type.PanAndEdit);PCCViewer.MouseTools.createMouseTool("AccusoftSelectText",PCCViewer.MouseTool.Type.SelectText);PCCViewer.MouseTools.createMouseTool("AccusoftEditMarks",PCCViewer.MouseTool.Type.EditMarks);PCCViewer.MouseTools.createMouseTool("AccusoftLineAnnotation",PCCViewer.MouseTool.Type.LineAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftArrowAnnotation",PCCViewer.MouseTool.Type.LineAnnotation).getTemplateMark().setEndHeadType("FilledTriangle");PCCViewer.MouseTools.createMouseTool("AccusoftRectangleAnnotation",PCCViewer.MouseTool.Type.RectangleAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftEllipseAnnotation",PCCViewer.MouseTool.Type.EllipseAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextAnnotation",PCCViewer.MouseTool.Type.TextAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftStampAnnotation",PCCViewer.MouseTool.Type.StampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftHighlightAnnotation",PCCViewer.MouseTool.Type.HighlightAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftTextHyperlinkAnnotation",PCCViewer.MouseTool.Type.TextHyperlinkAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftFreehandAnnotation",PCCViewer.MouseTool.Type.FreehandAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftPlaceSignature",PCCViewer.MouseTool.Type.PlaceSignature);PCCViewer.MouseTools.createMouseTool("AccusoftTextSelectionRedaction",PCCViewer.MouseTool.Type.TextSelectionRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftRectangleRedaction",PCCViewer.MouseTool.Type.RectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTransparentRectangleRedaction",PCCViewer.MouseTool.Type.TransparentRectangleRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextRedaction",PCCViewer.MouseTool.Type.TextRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftTextInputSignature",PCCViewer.MouseTool.Type.TextInputSignature);PCCViewer.MouseTools.createMouseTool("AccusoftStampRedaction",PCCViewer.MouseTool.Type.StampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampAnnotation",PCCViewer.MouseTool.Type.ImageStampAnnotation);PCCViewer.MouseTools.createMouseTool("AccusoftImageStampRedaction",PCCViewer.MouseTool.Type.ImageStampRedaction);PCCViewer.MouseTools.createMouseTool("AccusoftPolylineAnnotation",PCCViewer.MouseTool.Type.PolylineAnnotation);})();var PCCViewer=window.PCCViewer||{};(function(undefined){"use strict";function ViewerControl(element,options){if(!(this instanceof ViewerControl)){return new ViewerControl(element,options);}if(!IPCC.bb.vJ(element)){throw new Error("The 'element' argument is required.");}if(!options.documentID){throw new Error("A valid value for 'options.documentID' is required");}if(!options.imageHandlerUrl){throw new Error("A valid value for 'options.imageHandlerUrl' is required");}var C=this;IPCC.bb.NM(element);var mp=document.createElement('div');mp.className='pccViewerControl';mp.id='pccViewerControl-'+IPCC.Do();element.appendChild(mp);this.az=mp;this.gP=element;var uh=document.createElement('div');uh.className='pccPageListLoading';mp.appendChild(uh);this.uh=uh;PCCViewer.EventEmitter.extend(this);this.KS=false;this.bp=PCCViewer.zR.uu({},ViewerControl.Kw,options);this.bp.language=PCCViewer.zR.uu({},ViewerControl.apa,(options.language?options.language:{}));if(options.language){PCCViewer.Language.initializeData(options.language);}if(this.bp.pageLayout.toLowerCase()==="vertical"){this.bp.pageLayout=IPCC.PageLayout.VerticalScrollDirection;}else if(this.bp.pageLayout.toLowerCase()==="horizontal"){this.bp.pageLayout=IPCC.PageLayout.HorizontalScrollDirection;}else{throw new Error("The value of 'options.pageLayout' is invalid.");}if(this.bp.viewMode.toLowerCase()==="document"){this.bp.viewMode=IPCC.ViewMode.Document;}else if(this.bp.viewMode.toLowerCase()==="equalwidthpages"){this.bp.viewMode=IPCC.ViewMode.EqualWidthPages;}else if(this.bp.viewMode.toLowerCase()==="equalfitpages"){this.bp.viewMode=IPCC.ViewMode.EqualFitPages;}else if(this.bp.viewMode.toLowerCase()==="singlepage"){this.bp.viewMode=IPCC.ViewMode.SinglePage;}else{throw new Error("The value of 'options.viewMode' is invalid.");}if(this.bp.redactionViewMode){if(this.bp.redactionViewMode.toLowerCase()==="draft"){this.bp.redactionViewMode=PCCViewer.RedactionViewMode.Draft;}else if(this.bp.redactionViewMode.toLowerCase()==="normal"){this.bp.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}}else{this.bp.redactionViewMode=PCCViewer.RedactionViewMode.Normal;}var jg=this.bp.pageRotation%360;if(jg!==0){var AU=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jg||AU.indexOf(jg)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}else{if(!jg||IPCC.Web.hh(AU,jg)=== -1){throw new Error("The value of 'options.pageRotation' is invalid.");}}}this.bp.pageRotation=jg;if(this.bp.markHandleMode.toLowerCase()==="hidesidehandleswhenclose"){this.bp.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;}else if(this.bp.markHandleMode.toLowerCase()==="hidecornerhandleswhenclose"){this.bp.markHandleMode=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;}else{throw new Error("The value of 'options.markHandleMode' is invalid.");}if(isNaN(this.bp.serviceResponseTimeout)||typeof this.bp.serviceResponseTimeout!=='number'||this.bp.serviceResponseTimeout<0){throw new Error("The value of 'options.serviceResponseTimeout' is invalid.");}if(typeof this.bp.debug!=='boolean'){throw new Error("The value of 'options.debug' is invalid.");}this.jR={};this.dc="";this.eB=1;this.aF=undefined;this.akq=new PCCViewer.Deferred();this.BG=this.akq.getPromise();this.eW=false;this.aG=undefined;this.Ps=0;this.dK=undefined;this.dq=PCCViewer.MouseTools.getMouseTool("AccusoftPanAndEdit");this.pZ=false;this.zb=false;this.Go=false;this.DK=[];this.NY=new PCCViewer.Deferred();this.alK=this.NY.getPromise();this.xE=[];this.cP={};this.Vd=[];this.Hj=[];this.bN=null;this.IG={};this.hg=null;this.rj=new PCCViewer.MarkupLayerCollection(this);this.xq=new PCCViewer.MarkupLayer(this);this.rj.addItem(this.xq);this.tK=true;setTimeout(function(){C.avK(mp,C.bp);},0);this.zT=null;this.dN=null;this.XE=false;this.RX=false;this.KB= -1;this.WI={};this.avM=this.bp.printTemplate||(this.bp.template?this.bp.template.print:"");this.kD=null;this.xk=null;this.mV=undefined;this.qk=function(cK,fj,ajq){var dz=document.createElement('div'),aX=dz.style;aX.position='absolute';if(fj.isSelected){aX.backgroundColor='white';}else{aX.backgroundColor='lightgray';}aX.left='10px';aX.right='0';aX.textAlign='left';IPCC.bb.forEach(cK.getComments(),function(oP,F){var Ur=document.createElement('div'),Pp=Ur.style;Pp.position='relative';Pp.padding='5px';Pp.border='1px solid gray';if(F>0){Pp.borderTop='none';}Ur.appendChild(document.createTextNode(oP.getText()));dz.appendChild(Ur);});return dz;};return C;};PCCViewer.ViewerControl=ViewerControl;ViewerControl.Kw={encryption:false,viewMode:"Document",debug:false,pageLayout:"Vertical",resourcePath:"img",serviceResponseTimeout:60*1000,printTemplate:"",pageRotation:0,markHandleMode:"HideSideHandlesWhenClose",debugErrorLevel:IPCC.Web.UI.DebugErrorLevel.Detailed,maxPrefetch:3,displayPagesWhenScrolling:true,maxOutOfViewDisplay:0,scrollDisplayThreshold:0.5,requireRequestsOptimize:true,loadingContent:"",redactionViewMode:"Normal"};ViewerControl.apa={pageLoadFailed:"Page Load Failed",pageLoadFailedRetry:"Retry"};ViewerControl.prototype.avK=function(element,options){if(this.KS){return;}var C=this;var ahr=function(aH){if(C.bp.viewMode===IPCC.ViewMode.SinglePage||C.KS){return;}var uo=C.az.childNodes[0].childNodes[0].childNodes[0].childNodes,F=0;for(F;F<uo.length;F+=1){if(F===aH){if(document.documentMode===8){uo[F].style.outline='2px solid #aaa';}else{uo[F].style.boxShadow='0 0 4px 1px rgba(0,0,0,.4)';}}else{if(document.documentMode===8){uo[F].style.outline='';}else{if(uo[F].style.boxShadow){uo[F].style.boxShadow='';}}}}};var alp=function(){if(C.uh.parentNode){C.uh.parentNode.removeChild(C.uh);}C.aF.remove_pageOpenFailed(VO);C.aF.remove_pageDisplayed(alp);var ZM=arguments[1];setTimeout(function(){C.trigger("PageDisplayed",{pageNumber:(ZM.pageIndex+1)});ahr(ZM.pageIndex);},10);if(ZM.pageIndex!==0){return;}var aN=new XMLHttpRequest(),aU;function lN(){if(C.KS){return;}if(aN.readyState===4){var iJ=aN.status;if(iJ===200){if(typeof JSON!=='undefined'){aU=JSON.parse(aN.responseText);}else{aU=IPCC.cJ.pu(aN.responseText);}if(aU.pageCountConfidence<100){var dc;if(!(/^[\x00-\x7F]*$/.test(rz))){dc=C.bp.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rz+'&DesiredPageCountConfidence=100';}else{dc=C.bp.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.bp.documentID)+'&DesiredPageCountConfidence=100';}aN.open('GET',dc,true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=lN;aN.send();C.eB=aU.pageCount;C.aG.eB=aU.pageCount;C.Go=true;setTimeout(function(){C.trigger("EstimatedPageCountReady",{pageCount:aU.pageCount});},10);UV();}else{if(C.eB>1){C.aG.eB=aU.pageCount;setTimeout(function(){var F;if(aU.pageCount<C.eB){for(F=C.eB-1;F>=aU.pageCount;F--){C.dK.removePage(F);}}else if(aU.pageCount>C.eB){for(F=C.eB;F<aU.pageCount;F++){var TJ=new IPCC.Web.UI.ImGearPage({pageNumber:F});C.dK.addPage(TJ);}}C.eB=aU.pageCount;if(C.eW===true){C.pZ=true;C.zb=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:aU.pageCount});},30);}},30);}else{C.eB=aU.pageCount;C.aG.eB=aU.pageCount;if(C.eW===true){UV(function(){C.pZ=true;C.zb=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:aU.pageCount});},0);});}}}}else if((iJ<200)||(iJ>=300)){var ZY="None",ahL,ZZ;var ajy=aN.getResponseHeader('Accusoft-Status-Message');if(ajy){ZY=ajy;ZZ=aN.getResponseHeader('Accusoft-Status-Number');if(IPCC.Web.wj(ZZ)){ahL=parseInt(ZZ,10);}}else if(aN.statusText){ZY=aN.statusText;}setTimeout(function(){C.trigger("PageLoadFailed",{statusCode:iJ,errorMessage:ZY,accusoftErrorNumber:ahL});},1);throw("Unable to obtain document information from the server");}}};var rz=IPCC.ht.so(C.bp.documentID);if(!rz||rz===""){throw("Invaqlid encoded Identifier");}if(!(/^[\x00-\x7F]*$/.test(rz))){C.dc=C.bp.imageHandlerUrl+'/Document/q/Attributes?DocumentID=e'+rz+'&DesiredPageCountConfidence=50';}else{C.dc=C.bp.imageHandlerUrl+'/Document/q/Attributes?DocumentID=u'+encodeURIComponent(C.bp.documentID)+'&DesiredPageCountConfidence=50';}aN.open('GET',C.dc,true);aN.setRequestHeader('Content-Type','application/json');aN.onreadystatechange=lN;aN.send();};function UV(qx){qx=qx||function(){};var akN=C.eB;function ald(){C.aF.remove_allPagesAdded(ald);qx();};if(akN>1){C.aF.add_allPagesAdded(ald);if(!C.aiQ){C.aF.add_currentPageChanged(function(){if(arguments<2){throw("Controls currentPageChanged event did not provide any expected information");}var cs=arguments[1];setTimeout(function(){C.trigger('PageChanged',{pageNumber:cs.pageIndex+1});ahr(cs.pageIndex);},0);});C.aF.add_pageDisplayed(function(){if(arguments<2){throw("Controls pageDisplayed event did not provide any expected information");}var cs=arguments[1];if(C.kD){C.kD();C.kD=null;if(C.hg){C.hg.resolve();}C.hg=null;}setTimeout(function(){C.trigger('PageDisplayed',{pageNumber:cs.pageIndex+1});},0);setTimeout(function(){C.Zp(cs.pageIndex+1,C.KB);},10);});C.aF.add_pageOpenFailed(function(){akb(arguments);});C.aiQ=true;}for(var F=C.Ps;F<akN;F++){C.dK.addPage(new IPCC.Web.UI.ImGearPage({pageNumber:F}));C.Ps++;}}else{qx();}};var axa=function(cs){var ax=document.getElementById(cs.pageNodeID),aS=document.createElement('div'),zj=document.createElement('button'),afc='pccPageLoadFailRetry',abZ=function(){C.aF.CI(cs.pageIndex);},alU=PCCViewer.Language.data.pageLoadFailed,ane=PCCViewer.Language.data.pageLoadFailedRetry;if(ax===null){return;}zj.id=afc;zj.innerHTML=ane;aS.className='pccPageLoadFail';aS.innerHTML=alU+'<br>';aS.appendChild(zj);ax.appendChild(aS);zj=document.getElementById(afc);if(!zj.addEventListener){zj.attachEvent('onclick',abZ);}else{zj.addEventListener('click',abZ,false);}};function akb(Dn){if(Dn<2){throw("controls PageOpenFailed event did not provide any expected information");}var aif,ajl,cs=Dn[1];if(Dn[1].exception.customErrorCode!==undefined){ajl=Dn[1].exception.customErrorCode;}if(Dn[1].exception.message!==undefined){aif=Dn[1].exception.message;}setTimeout(function(){C.trigger('PageLoadFailed',{statusCode:cs.exception.statusCode,pageNumber:cs.pageIndex+1,errorMessage:aif,accusoftErrorNumber:ajl});axa(cs);},0);};function VO(){C.aF.remove_pageOpenFailed(VO);akb(arguments);setTimeout(UV,30);};function aly(){C.aF.remove_pageOpened(aly);C.eW=true;var bA=C;setTimeout(function(){C.trigger("ViewerReady",{});if(bA.pZ===true&&bA.zb===false){bA.zb=true;setTimeout(function(){C.trigger("PageCountReady",{pageCount:bA.getPageCount()});},10);}},10);C.setCurrentMouseTool("AccusoftPanAndEdit");};var atc=function(bz,R){if(R.containsText===true){C.NY.resolve(true);}var zJ= -1;if(Array.prototype.indexOf){zJ=(C.xE.indexOf(R.pageIndex)>=0);}else{zJ=(IPCC.Web.hh(C.xE,R.pageIndex)>=0);}if(zJ===false){C.xE.push(R.pageIndex);if(C.xE.length===C.eB){C.NY.resolve(false);}}setTimeout(function(){C.trigger("PageTextReady",{pageNumber:R.pageIndex+1});},0);};var ass=function(bz,R){var zJ= -1;if(Array.prototype.indexOf){zJ=(C.xE.indexOf(R.pageIndex)>=0);}else{zJ=(IPCC.Web.hh(C.xE,R.pageIndex)>=0);}if(zJ===false){C.xE.push(R.pageIndex);if(C.xE.length===C.eB){C.NY.resolve(false);}}};function apR(sender,eventArgs){if(!eventArgs.text||(eventArgs.text.length===0)){return;}var ke=[];for(var i=0;i<eventArgs.pageNumbers.length;i++){ke.push(eventArgs.pageNumbers[i]+1);}var lk=[],vo= -eventArgs.startIndex,ao,ds,hM,cl,j,k;for(j=0;j<ke.length;j++){hM=C.dK.kX(ke[j]-1).dJ().ey();vo+=hM.fb();ao=0;if(j===0){ao=eventArgs.startIndex;}if(vo>=eventArgs.text.length){ds=vo-eventArgs.text.length-1;}else{ds=hM.fb()-1;}cl=IPCC.bb.Oo(hM,ao,ds);for(k=0;k<cl.length;k++){lk.push({x:cl[k].x,y:cl[k].y,width:cl[k].width,height:cl[k].height,pageNumber:ke[j]});}}C.bN={pageNumber:ke[0],length:eventArgs.text.length,text:eventArgs.text,startIndex:eventArgs.startIndex,rectangles:lk};var J,abz={selectedText:eventArgs.text,pageNumbers:ke,clientX:eventArgs.clientX,clientY:eventArgs.clientY,handleClientX:eventArgs.handleClientX,handleClientY:eventArgs.handleClientY,textSelection:C.bN};function asN(){var wX=C.ij;C.agj=true;C.ij=function(sender,args){C.ij=wX;setTimeout(function(){C.trigger(PCCViewer.EventType.MarkCreated,{mark:J,pageNumber:ke[0],clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};};if(eventArgs.previousFirstMark){J=C.cP[eventArgs.previousFirstMark.get_markID()];C.aF.remove_markRemoved(C.Bd);C.aF.remove_markSelectionChanged(C.Cc);if(eventArgs.pageNumbers[0]!==eventArgs.previousFirstMark.aH){var avG=J.h.Yv;var ZB;if(J.getReason){ZB=J.h.get_text();}var Yz;if(J.getFillColor){Yz=J.h.get_fillColor();}var Yq;if(J.getHref){Yq=J.h.get_href();}var ayn=new PCCViewer.Conversation(J);var bM=C.aF.hu(C.dK.getPage(J.h.aH));bM.removeMark(J.h);for(var F=J.bW.length-1;F>=0;F--){var lX=J.bW[F];bM=C.aF.hu(C.dK.getPage(lX.aH));bM.removeMark(lX);J.bW.splice(F,1);}J.h=new IPCC.Web.UI.Mark(eventArgs.previousFirstMark.get_type());J.h.aH=eventArgs.pageNumbers[0];J.bI=eventArgs.pageNumbers[0]+1;J.h.jH=true;J.h.Yv=avG;var wX=C.ij;C.ij=null;C.aF.remove_markChanged(C.pB);bM=C.aF.hu(C.dK.getPage(J.h.aH));bM.addMark(J.h);if(ZB){J.h.set_text(ZB);}if(Yz){J.h.set_fillColor(Yz);}if(Yq){J.h.set_href(Yq);}J.cK=new PCCViewer.Conversation(J);PCCViewer.Conversation.sj(ayn,J.cK);C.aF.add_markChanged(C.pB);C.ij=wX;}J.h.set_selected(true);J.h.set_visible(true);J.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});C.aF.add_markRemoved(C.Bd);C.aF.add_markSelectionChanged(C.Cc);C.qb(J,eventArgs.pageNumbers[0]);return;}var Eb=null;switch(eventArgs.mouseTool){case IPCC.Web.UI.MouseTool.CreateHighlightTextMark:Eb='HighlightAnnotation';break;case IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction:Eb='TextSelectionRedaction';break;case IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark:Eb='TextHyperlinkAnnotation';break;case IPCC.Web.UI.MouseTool.SelectText:apM(eventArgs.text);C.IG[ke[0]]='selectText';break;}var dq=PCCViewer.MouseTools.getMouseTool(C.getCurrentMouseTool());var aK=(dq&&dq.getTemplateMark)?dq.getTemplateMark():undefined;var aoY=aK?aK.getType():"";if(Eb){asN();C.trigger(PCCViewer.EventType.TextSelected,abz);J=C.addMark(ke[0],Eb);if(C.tK){C.xq.addMarks(J);}J.h.jH=true;J.setPosition({startIndex:eventArgs.startIndex,length:eventArgs.text.length});if(aoY===Eb){if(aK.getFillColor){J.setFillColor(aK.getFillColor());}if(aK.getReason){J.setReason(aK.getReason());}if(aK.getHref){J.setHref(aK.getHref());}}return;}setTimeout(function(){C.trigger(PCCViewer.EventType.TextSelected,abz);},0);};function aoV(){var ax=C.az,aS=document.createElement('div');aS.className='pccCopyText';ax.appendChild(aS);C.NA=aS;};function apM(al){var uO,aDj=al.split('\n'),KT=document.createDocumentFragment(),Fm,kG;uO=document.createTextNode(al);KT.appendChild(uO);IPCC.bb.NM(C.NA);C.NA.appendChild(KT);if(document.body.createTextRange){Fm=document.body.createTextRange();Fm.moveToElementText(C.NA);Fm.select();}else if(window.getSelection){kG=window.getSelection();Fm=document.createRange();Fm.selectNodeContents(C.NA);kG.removeAllRanges();kG.addRange(Fm);}};this.aG=new IPCC.Web.UI.ImGearDocument({documentIdentifier:this.bp.documentID,imageServicePath:this.bp.imageHandlerUrl});var TJ=new IPCC.Web.UI.ImGearPage({pageNumber:0});this.aG.get_pages().addPage(TJ);this.dK=this.aG.get_pages();this.aF=IPCC.initializePageListPlugin(element,options);this.aF.get_documents().addDocument(this.aG);this.Ps=1;this.akq.resolve(this.aF);this.aF.add_pageDisplayed(alp);this.aF.add_pageOpenFailed(VO);this.aF.add_pageOpened(aly);this.aF.add_textPageReady(atc);this.aF.add_textExtractionFailed(ass);this.aF.set_conversationDOMFactory(function(h,fj,ajq){var J=C.cP[h.get_markID()];if(J){return C.qk(J.getConversation(),fj,ajq);}});aoV();this.aF.add_selectTextMouseToolCompleted(apR);this.aF.add_propertyChanged(function(Bp,bS){var proprtyName=bS.aCB();if(proprtyName==="mouseTool"){setTimeout(function(){C.trigger(PCCViewer.EventType.MouseToolChanged,{mouseToolName:C.dq.getName()});},0);}});this.aF.add_markAdded(function(sender,eventArgs){if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&C.cP[eventArgs.mark.get_markID()]===undefined&&eventArgs.mark.cI!==undefined){C.qb(eventArgs.mark,eventArgs.pageIndex);}if(C.ij){var aC=eventArgs.mark.get_type();if(aC!==IPCC.Web.UI.MarkType.Highlight&& !(aC===IPCC.Web.UI.MarkType.RectangleRedaction&&eventArgs.mark.cI!==undefined)){C.ij(sender,eventArgs);}}});this.aF.add_markCreating(function(sender,eventArgs){if(C.Hg){C.Hg(sender,eventArgs);}});this.aF.BM(function(sender,eventArgs){var EP=0;var AK=0;var acw=0;var vH=0;var wT=0;var Ns=0;var anJ=C.dq.getName().toLowerCase(),aox=C.dq.getType();if(aox===PCCViewer.MouseTool.Type.PlaceSignature){var dq=C.dq;var aK=dq.getTemplateMark(),mh=aK.getSignature(),abg=aK.getRectangle(),J,V={};if(!mh){return;}C.requestPageAttributes(eventArgs.pageIndex+1).then(function(attributes){var wh;if(attributes.width>0){AK=abg.width||(attributes.width/5);}if(mh.path&&mh.path.length>0){wh=IPCC.bb.aaX(mh.path);V={x:0,y:0,width:wh.width,height:wh.height};J=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.FreehandSignature);J.setPath(mh.path);J.setThickness(mh.thickness||4);}if(mh.text&&mh.text.length){wh=IPCC.bb.uE(mh.text,mh.fontName);J=C.addMark(eventArgs.pageIndex+1,PCCViewer.Mark.Type.TextSignature);V={x:0,y:0,width:wh.width,height:wh.height};J.setText(mh.text);J.setFontName(mh.fontName);}acw=(V.width/AK);EP=abg.height||(V.height/acw);vH=(eventArgs.imagePoint.x-(AK/2));wT=(eventArgs.imagePoint.y-(EP/2));if(vH<=0){vH=0;}if(wT<=0){wT=0;}if((vH+AK)>=attributes.width){Ns=(vH+AK)-attributes.width;vH=vH-Ns;}if((wT+EP)>=attributes.height){Ns=(wT+EP)-attributes.height;wT=wT-Ns;}V={x:vH,y:wT,width:AK,height:EP};J.setRectangle({x:vH,y:wT,width:AK,height:EP});PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());});C.setCurrentMouseTool(anJ);}});this.aF.By(function(sender,eventArgs){var bN=null,eA=null,J=null,iH=null,yG=false,MK=eventArgs.upTarget.type,ZI=false;if(eventArgs.domEvent.ctrlKey===true||eventArgs.domEvent.shiftKey===true){ZI=true;}if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&eventArgs.upTarget.pageIndex===eventArgs.downTarget.pageIndex||eventArgs.upTarget.type==='comments'&&eventArgs.downTarget.element===eventArgs.upTarget.element){yG=true;if(eventArgs.upTarget.type==='page'&&eventArgs.downTarget.type==='page'&&ZI===false){C.deselectAllMarks();}}else if(eventArgs.upMark&&typeof eventArgs.downMark!=='undefined'){if((eventArgs.upMark.get_type()===IPCC.Web.UI.MarkType.DocumentHyperlink)&&(eventArgs.upMark===eventArgs.downMark)){iH=C.azH(eventArgs.upMark);yG=iH!==null;MK="documentHyperlink";}else{J=C.cP[eventArgs.upMark.get_markID()];if(J===undefined){for(var kJ in C.cP){if(C.cP.hasOwnProperty(kJ)){if(C.cP[kJ].h.cI===eventArgs.upMark.cI&&C.cP[kJ].h.cI===eventArgs.downMark.cI){J=C.cP[kJ];eventArgs.pageIndex=J.bI-1;yG=true;if(ZI===false){C.deselectAllMarks();J.h.set_selected(true);}break;}}}}else if(typeof eventArgs.downMark!=='undefined'&&typeof eventArgs.upMark!=='undefined'&&eventArgs.downMark.iL()===eventArgs.upMark.iL()){yG=true;}if(J===undefined){if(C.dN&&C.IG[eventArgs.upTarget.pageIndex+1]==='search'){var gR=C.dN.getResults();for(var F=0;F<gR.length;F++){if(gR[F].bI===eventArgs.upTarget.pageIndex+1&&typeof eventArgs.downMark.ao!=='undefined'&&typeof eventArgs.upMark.ao!=='undefined'&&typeof eventArgs.downMark.cF!=='undefined'&&typeof eventArgs.upMark.cF!=='undefined'&&eventArgs.downMark.ao>=gR[F].getStartIndexInPage()&&eventArgs.downMark.ao+eventArgs.downMark.cF<=gR[F].getStartIndexInPage()+gR[F].getText().length&&eventArgs.upMark.ao>=gR[F].getStartIndexInPage()&&eventArgs.upMark.ao+eventArgs.upMark.cF<=gR[F].getStartIndexInPage()+gR[F].getText().length){MK='searchResult';eA=gR[F];eventArgs.upTarget.pageIndex=eA.bI-1;yG=true;break;}}}}if(yG===false&&J===undefined&&C.IG[eventArgs.upTarget.pageIndex+1]==='selectText'&&typeof eventArgs.downMark.ao!=='undefined'&&typeof eventArgs.upMark.ao!=='undefined'&&eventArgs.downMark.ao>=C.bN.startIndex&&eventArgs.downMark.ao+eventArgs.downMark.cF<=C.bN.startIndex+C.bN.length&&eventArgs.upMark.ao>=C.bN.startIndex&&eventArgs.upMark.ao+eventArgs.upMark.cF<=C.bN.startIndex+C.bN.length){MK='textSelection';bN=C.bN;yG=true;}}}function MouseEvent(au){var C=this;for(var i in eventArgs.originalEvent){if(i){C[i]=eventArgs.originalEvent[i];}}};var anw=new MouseEvent(eventArgs.originalEvent);setTimeout(function(){var ayb=(isNaN(eventArgs.upTarget.pageIndex))?null:eventArgs.upTarget.pageIndex+1;var R={pageNumber:ayb,targetType:MK,textSelection:bN,searchResult:eA,mark:J,originalEvent:anw,hyperlink:iH,clientX:eventArgs.clientX,clientY:eventArgs.clientY};if(yG===true){C.trigger('Click',R);}},0);});this.aF.add_hyperlinkPageReady(function(sender,eventArgs){var aH=eventArgs.pageIndex,bw=C.dK.getPage(aH),GT=bw.get_hyperlinkPage().JT(),xK=C.Vd[aH]=[];GT.nl(function(BZ){xK.push(new PCCViewer.DocumentHyperlink({bI:aH+1,BZ:BZ}));});if(!C.Hj[aH]){C.Hj[aH]=new PCCViewer.Deferred();}C.Hj[aH].resolve(xK);});this.qb=function(J,jA){var TU=false;function WB(){var oc=false;var dE=C.aF.get_displayedPages();for(var F=0;F<dE.get_length();F++){var bw=dE.getPage(F);if(bw.get_pageNumber()===jA){oc=true;break;}}return oc;};function aqJ(dS){if(C.aF){C.aF.dF(dS);}};if(WB()){if(Array.prototype.indexOf){if(IPCC.Web.hh(C.DK,jA)>=0){TU=true;}}else{if(IPCC.Web.hh(C.DK,jA)>=0){TU=true;}}if(!TU){C.DK.push(jA);setTimeout(function(){var cT=C.DK.length;if(cT>0){for(var F=0;F<cT;F++){aqJ(C.DK[F]);}C.DK.splice(0,cT);}},10);}}};var Hb={FreehandSignature:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},FreehandAnnotation:{lineColor:'color',lineWidth:'thickness',pathWidth:false,pathHeight:false},LineAnnotation:{lineColor:'color',lineWidth:'thickness'},PolylineAnnotation:{lineColor:'color',lineWidth:'thickness'},TextSignature:{textColor:false,fillColor:'color'},TextInputSignature:{lineVisible:false},StampAnnotation:{text:'label',fillColor:'color'},StampRedaction:{text:'label'},RectangleRedaction:{text:'reason'},TextRedaction:{opacity:false},HighlightAnnotation:{rectangle:'position'},TextSelectionRedaction:{rectangle:'position',text:'reason'},TextHyperlinkAnnotation:{rectangle:'position'}};var Pn={lineColor:"borderColor",lineWidth:"borderThickness",pathString:"path",textColor:"fontColor",textHorizontalAlignment:"horizontalAlignment"};this.pB=function(bz,R){var J=C.cP[R.mark.get_markID()];var aE;if(J){aE=J.aE;}if(aE&&Hb[aE]&&Hb[aE][R.propertyName]===false){return;}var dQ;if(aE){dQ=Hb[aE]&&Hb[aE][R.propertyName]?Hb[aE][R.propertyName]:Pn[R.propertyName]?Pn[R.propertyName]:R.propertyName;}else{dQ=Pn[R.propertyName]?Pn[R.propertyName]:R.propertyName;}if(R.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||R.mark.get_type()===IPCC.Web.UI.MarkType.Highlight||R.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHighlightAnnotation||R.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||(R.mark.get_type()===IPCC.Web.UI.MarkType.RectangleRedaction&&R.mark.cI!==undefined)){if(J){setTimeout(function(){C.trigger('MarkChanged',{mark:J,pageNumber:R.pageIndex+1,propertyName:dQ});},0);}else{for(var kJ in C.cP){if(C.cP.hasOwnProperty(kJ)){J=C.cP[kJ];if(J.cI===R.mark.cI){break;}}}}C.qb(J,R.pageIndex);}else if(J&&R.mark.get_type()===IPCC.Web.UI.MarkType.Polyline&&dQ==='points'){if(J.XI){clearTimeout(J.XI);}J.XI=setTimeout(function(){J.XI=undefined;C.qb(J,R.pageIndex);C.trigger('MarkChanged',{mark:J,pageNumber:R.pageIndex+1,propertyName:dQ});},1);}else if(J){C.qb(J,R.pageIndex);setTimeout(function(){C.trigger('MarkChanged',{mark:J,pageNumber:R.pageIndex+1,propertyName:dQ});},0);}if(J&&J.type===PCCViewer.Mark.Type.TextRedaction){J.h.set_opacity(0);}if(J&&J.aE===PCCViewer.Mark.Type.TextInputSignature){J.h.set_lineVisible(false);}};this.aF.add_markChanged(C.pB);this.aF.add_markReordered(function(sender,eventArgs){var J=C.cP[eventArgs.mark.get_markID()];setTimeout(function(){C.trigger('MarkReordered',{mark:J,pageNumber:eventArgs.pageIndex+1,index:eventArgs.zIndex,oldIndex:eventArgs.oldZIndex});},0);});this.Cc=function(sender,eventArgs){if(eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText){var J;for(var NL in C.cP){if(C.cP.hasOwnProperty(NL)){J=C.cP[NL];if(J.h.cI===eventArgs.mark.cI){J.h.set_selected(eventArgs.mark.get_selected());C.qb(J.h,J.h.aH);for(var F=0;F<J.bW.length;F++){J.bW[F].set_selected(eventArgs.mark.get_selected());C.qb(J.bW[F],J.bW[F].aH);}}}}}setTimeout(function(){C.trigger('MarkSelectionChanged',{pageNumber:eventArgs.pageIndex+1});},0);};this.aF.add_markSelectionChanged(C.Cc);this.aF.add_markTextSelectionChanged(function(sender,eventArgs){C.qb(eventArgs.mark,eventArgs.pageIndex);});this.Bd=function(sender,eventArgs){var J;if(eventArgs.mark){J=C.cP[eventArgs.mark.get_markID()];if((eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.HighlightText||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextSelectionRedaction||eventArgs.mark.get_type()===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)&&J===undefined&&eventArgs.mark.cI!==undefined){C.qb(eventArgs.mark,eventArgs.pageIndex);}else if(J){setTimeout(function(){C.trigger('MarkRemoved',{mark:J,pageNumber:eventArgs.pageIndex});},0);}}};this.aF.add_markRemoved(C.Bd);this.aF.add_commentAdding(function(sender,eventArgs){var J=C.cP[eventArgs.mark.get_markID()];if(eventArgs.comment.Kt.jt===undefined){eventArgs.comment.Kt.jt=C.getActiveMarkupLayer();}});this.aF.add_commentAdded(function(sender,eventArgs){var J=C.cP[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentCreated,{conversation:J.getConversation(),comment:eventArgs.comment.Kt});});this.aF.add_commentRemoved(function(sender,eventArgs){var J=C.cP[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentRemoved,{conversation:J.getConversation(),comment:eventArgs.comment.Kt});});this.aF.add_commentChanged(function(sender,eventArgs){var J=C.cP[eventArgs.mark.get_markID()];C.trigger(PCCViewer.EventType.CommentChanged,{conversation:J.getConversation(),comment:eventArgs.comment.Kt});});this.aF.add_scaleChanged(function(sender,eventArgs){var eE;switch(eventArgs.fitType){case 0:eE=PCCViewer.FitType.FullWidth;break;case 1:eE=PCCViewer.FitType.ShrinkToWidth;break;case 2:eE=PCCViewer.FitType.ActualSize;break;case 3:eE=PCCViewer.FitType.FullHeight;break;case 4:eE=PCCViewer.FitType.FullPage;break;default:break;}C.trigger(PCCViewer.EventType.ScaleChanged,{scaleType:eventArgs.scaleType,trigger:eventArgs.scaleTrigger,fitType:eE,scaleFactor:eventArgs.scaleFactor});});};PCCViewer.ViewerControl.prototype.getPageCount=function(){return this.eB;};PCCViewer.ViewerControl.prototype.getPageNumber=function(){return(this.aF)?(this.aF.ahq().get_pageNumber()+1):1;};PCCViewer.ViewerControl.prototype.setPageNumber=function(pageNumber){var bI;if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bI=Number(pageNumber);}}if(parseInt(bI,10)!==bI){throw new Error("The 'pageNumber' value "+bI+" is not an integer page number.");}if(bI<1||bI>this.getPageCount()|| !isFinite(bI)){throw "The parameter pageNumber is out of range.";}if(this.getPageNumber()===bI){return this;}if(this.aF){this.aF.scrollToPage(bI-1);}return this;};PCCViewer.ViewerControl.prototype.changeToFirstPage=function(){if(this.aF){if(this.Go||this.pZ){this.aF.scrollToFirstPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToLastPage=function(){if(this.aF){if(this.Go||this.pZ){this.aF.scrollToLastPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToNextPage=function(){if(this.aF){if(this.Go||this.pZ){this.aF.scrollToNextPage();}}return this;};PCCViewer.ViewerControl.prototype.changeToPrevPage=function(){if(this.aF){if(this.Go||this.pZ){this.aF.scrollToPreviousPage();}}return this;};PCCViewer.ViewerControl.prototype.scrollBy=function(offsetX,offsetY){if(!this.eW){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}var C=this;if(typeof offsetX==='number'&&typeof offsetY==='number'){C.aF.scrollBy(offsetX,offsetY);}else{if(isNaN(+offsetX)||isNaN(+offsetY)){throw new PCCViewer.Error('InvalidArgument','Please provide integer values for offsetX and offsetY properties.');}else{C.aF.scrollBy(Number(+offsetX),Number(+offsetY));}}return this;};PCCViewer.ViewerControl.prototype.scrollTo=function(target){if(!this.eW){throw new Error("The method scrollTo requires the viewer to be in a 'ViewerReady' state.");}if(this.hg){this.hg.reject(new PCCViewer.Error("Error","The scrollTo method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hg=null;this.kD=null;}var C=this;var Ir=function(){C.aF.scrollConversationIntoView(target.getMark().h.get_conversation());if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};var wc=function(ev){if(ev.target.xk===target){C.off(PCCViewer.EventType.CommentCreated,wc);C.xk=null;C.scrollTo(target);}else if(ev.target.xk===null){C.off(PCCViewer.EventType.CommentCreated,wc);}if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};var Ij=function(bI,il){C.aF.scrollRegionIntoView(bI-1,il);if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};amL(C,target,wc,Ir,Ij);return this;};PCCViewer.ViewerControl.prototype.scrollToAsync=function(target){if(this.hg){this.hg.reject(new PCCViewer.Error("Error","The scrollToAsync method was called before this scrollToAsync method completed scrolling, so scrolling for this scrollToAsync method has been cancelled."));this.hg=null;this.kD=null;}var aw=PCCViewer.Deferred();var cY=aw.getPromise();var C=this;C.hg=aw;try{var Ir=function(){C.aF.scrollConversationIntoView(target.getMark().h.get_conversation());if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};var wc=function(ev){if(ev.target.xk===target){C.off(PCCViewer.EventType.CommentCreated,wc);C.xk=null;C.scrollTo(target);}else if(ev.target.xk===null){C.off(PCCViewer.EventType.CommentCreated,wc);}if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};var Ij=function(bI,il){C.aF.scrollRegionIntoView(bI-1,il);if(C.hg){C.hg.resolve();}C.hg=null;C.kD=null;};if(amL(C,target,wc,Ir,Ij)===true){aw.resolve();}}catch(e){C.hg=null;C.kD=null;aw.reject(new PCCViewer.Error("Error",e));}return cY;};function amL(df,dA,wc,Ir,Ij){var il,bI,ar;df.xk=null;if(dA instanceof PCCViewer.Conversation){if(df.cP[dA.getMark().getId()]===undefined){throw new Error("The parameter target is a conversation of a mark unknown to the viewer control.");}var aem=df.aF.scrollConversationIntoView(dA.getMark().h.get_conversation());if(aem==="PageOutOfView"){df.kD=Ir;df.setPageNumber(dA.getMark().getPageNumber());return false;}else if(aem==="ConversationDivDoesNotExist"&&dA.getMark().h.get_conversation().get_length()>0){df.xk=dA;df.on(PCCViewer.EventType.CommentCreated,wc);return false;}else{df.kD=null;return true;}}else if(dA instanceof PCCViewer.SearchResult){if(dA.NB!==df.aG.get_documentIdentifier()){throw new Error("The parameter target is a SearchResult that was not created using the current document viewing session.");}ar=dA.getBoundingRectangle();il=new IPCC.Web.UI.Rectangle(ar.x,ar.y,ar.width,ar.height);bI=dA.getPageNumber();}else if(dA instanceof PCCViewer.Mark){if(df.cP[dA.getId()]===undefined){throw new Error("The parameter target is a mark unknown to the viewer control.");}ar=dA.getBoundingRectangle();il=new IPCC.Web.UI.Rectangle(ar.x,ar.y,ar.width,ar.height);bI=dA.getPageNumber();}else if(dA!==undefined&&dA!==null){if(typeof dA.x==='number'&&typeof dA.y==='number'){il=new IPCC.Web.UI.Rectangle(+dA.x,+dA.y,0,0);}else{if(isNaN(+dA.x)||isNaN(+dA.y)){throw new Error('The parameter target does not contain a valid x and y values.');}else{il=new IPCC.Web.UI.Rectangle(Number(+dA.x),Number(+dA.y),0,0);}}if(dA.width){if(typeof dA.width==='number'){il.width=dA.width;}else{if(isNaN(+dA.width)){throw new Error('The parameter target does not contain a valid width value.');}else{il.width=Number(+dA.width);}}}if(dA.height){if(typeof dA.height==='number'){il.height=dA.height;}else{if(isNaN(+dA.height)){throw new Error('The parameter target does not contain a valid height value.');}else{il.height=Number(+dA.height);}}}if(typeof dA.pageNumber==='number'){bI= +dA.pageNumber;}else{if(isNaN(+dA.pageNumber)){throw new Error('The parameter target does not contain a valid pageNumber value.');}else{bI=Number(+dA.pageNumber);}}}else{throw new Error('The target parameter must be a Mark, SearchResult, or Point.');}if(bI<1||bI>df.getPageCount()|| !isFinite(bI)){throw new RangeError("The parameter pageNumber is out of range.");}if(df.aF.scrollRegionIntoView(bI-1,il)===false){df.kD=function(){Ij(bI,il);};df.setPageNumber(bI);return false;}else{df.kD=null;return true;}};PCCViewer.ViewerControl.prototype.rotatePage=function(degreesClockwise){if(!this.eW){throw "The method rotatePage requires the viewer to be in a 'ViewerReady' state.";}if(BJ(this.getPageNumber()-1,this)===false){this.aF.dF(this.getPageNumber()-1);}var jg=degreesClockwise%360,C=this;if(jg!==0){var AU=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jg||AU.indexOf(jg)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jg||IPCC.Web.hh(AU,jg)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aF.rotate(jg);}setTimeout(function(){C.trigger("PageRotated",{degreesClockwise:jg,pageNumber:(C.getPageNumber())});},0);return this;};PCCViewer.ViewerControl.prototype.rotateDocument=function(degreesClockwise){if(!this.eW){throw "The method rotateDocument requires the viewer to be in a 'ViewerReady' state.";}if(BJ(this.getPageNumber()-1,this)===false){this.aF.dF(this.getPageNumber()-1);}var jg=degreesClockwise%360,C=this;if(jg!==0){var AU=[90,180,270,-90,-180,-270];if(Array.prototype.indexOf){if(!jg||AU.indexOf(jg)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}else{if(!jg||IPCC.Web.hh(AU,jg)=== -1){throw new RangeError("The value of degreesClockwise ("+degreesClockwise+") is not valid.");}}this.aF.acq(jg);}setTimeout(function(){C.trigger("DocumentRotated",{degreesClockwise:jg});},0);return this;};PCCViewer.ViewerControl.prototype.getScaleFactor=function(){if(!this.eW){throw "The getScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.aF.get_scaleFactor();};PCCViewer.ViewerControl.prototype.setScaleFactor=function(scaleFactor){if(!this.eW){throw "The setScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+scaleFactor)||(+scaleFactor<this.getMinScaleFactor())||(+scaleFactor>this.getMaxScaleFactor())){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('scaleFactor',scaleFactor,'The value must be a number between the values returned by the getMinScaleFactor and getMaxScaleFactor methods.');}this.aF.set_scaleFactor(+scaleFactor);return this;};PCCViewer.ViewerControl.prototype.getMinScaleFactor=function(){if(!this.eW){throw "The getMinScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.aF.getMinMaxZoom().minFactor;};PCCViewer.ViewerControl.prototype.getMaxScaleFactor=function(){if(!this.eW){throw "The getMaxScaleFactor method requires the viewer to be in a 'ViewerReady' state.";}return this.aF.getMinMaxZoom().maxFactor;};PCCViewer.ViewerControl.prototype.zoomIn=function(zoomFactor){if(!this.eW){throw "The zoomIn method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aF){this.aF.zoomIn(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.zoomOut=function(zoomFactor){if(!this.eW){throw "The zoomOut method requires the viewer to be in a 'ViewerReady' state.";}if(isNaN(+zoomFactor)||(+zoomFactor<1.01)||(+zoomFactor>20)){throw new IPCC.Web.UI.ImGearArgumentOutOfRangeException('zoomFactor',zoomFactor,'The value must be a number between 1.01 and 20 inclusive.');}if(this.aF){this.aF.zoomOut(+zoomFactor);}return this;};PCCViewer.ViewerControl.prototype.getViewMode=function(){var oS;if(this.aF&&this.aF.get_viewMode){oS=this.aF.get_viewMode();}else{oS=this.bp.viewMode;}if(oS===IPCC.ViewMode.EqualWidthPages){return PCCViewer.ViewMode.EqualWidthPages;}else if(oS===IPCC.ViewMode.EqualFitPages){return PCCViewer.ViewMode.EqualFitPages;}else if(oS===IPCC.ViewMode.SinglePage){return PCCViewer.ViewMode.SinglePage;}else{return PCCViewer.ViewMode.Document;}};PCCViewer.ViewerControl.prototype.setViewMode=function(viewMode){var oS;switch(viewMode){case PCCViewer.ViewMode.Document:oS=IPCC.ViewMode.Document;break;case PCCViewer.ViewMode.EqualWidthPages:oS=IPCC.ViewMode.EqualWidthPages;break;case PCCViewer.ViewMode.EqualFitPages:oS=IPCC.ViewMode.EqualFitPages;break;case PCCViewer.ViewMode.SinglePage:oS=IPCC.ViewMode.SinglePage;break;default:throw new RangeError("The value of viewMode is not a supported value.");}if(this.aF&&this.aF.set_viewMode){var Kv=this.aF.get_viewMode();if(Kv!==oS){if(Kv===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed from SinglePage to another view mode after initializing the viewer.");}else if(oS===IPCC.ViewMode.SinglePage){throw new Error("The view mode may not be changed to SinglePage after initializing the viewer. Please use the viewMode viewer parameter instead.");}this.aF.set_viewMode(oS);}}else{this.bp.viewMode=oS;}return this;};PCCViewer.ViewerControl.prototype.getPageLayout=function(){var Aa;if(this.aF&&this.aF.get_pageLayout){Aa=this.aF.get_pageLayout();}else{Aa=this.bp.pageLayout;}if(Aa===IPCC.PageLayout.HorizontalScrollDirection){return PCCViewer.PageLayout.Horizontal;}else{return PCCViewer.PageLayout.Vertical;}};PCCViewer.ViewerControl.prototype.setPageLayout=function(pageLayout){var Aa;if(this.bp.viewMode!==IPCC.ViewMode.SinglePage){switch(pageLayout){case PCCViewer.PageLayout.Vertical:Aa=IPCC.PageLayout.VerticalScrollDirection;break;case PCCViewer.PageLayout.Horizontal:if(this.aF&&this.aF.closeCommentsPanel){this.aF.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);}Aa=IPCC.PageLayout.HorizontalScrollDirection;break;default:throw new RangeError("The value of pageLayout is not a supported value.");}}if(this.aF&&this.aF.set_pageLayout){this.aF.set_pageLayout(Aa);}else{this.bp.pageLayout=Aa;}return this;};PCCViewer.ViewerControl.prototype.getAtMaxScale=function(){if(!this.eW){throw "The getAtMaxScale method requires the viewer to be in a 'ViewerReady' state.";}return this.aF.getMinMaxZoom().atMax;};PCCViewer.ViewerControl.prototype.getAtMinScale=function(){if(!this.eW){throw "The getAtMinScale method requires the viewer to be in a 'ViewerReady' state.";}return this.aF.getMinMaxZoom().atMin;};PCCViewer.ViewerControl.prototype.fitContent=function(fitType){if(!this.eW){throw "The fitContent method requires the viewer to be in a 'ViewerReady' state.";}var Eq;switch(fitType){case PCCViewer.FitType.FullWidth:Eq=IPCC.FitType.FitToWidth;break;case PCCViewer.FitType.ShrinkToWidth:Eq=IPCC.FitType.ShrinkToWidth;break;case PCCViewer.FitType.ActualSize:if(this.getViewMode()===PCCViewer.ViewMode.EqualWidthPages||this.getViewMode()===PCCViewer.ViewMode.EqualFitPages){throw new Error("Fitting content actual size is not supported when in EqualFitPages view mode.");}Eq=IPCC.FitType.ActualSize;break;case PCCViewer.FitType.FullHeight:Eq=IPCC.FitType.FitToHeight;break;case PCCViewer.FitType.FullPage:Eq=IPCC.FitType.BestFit;break;default:throw new RangeError("The value of fitType is not a supported value.");}this.BG.then(function(Bp){Bp.fitPages(Eq);});return this;};PCCViewer.ViewerControl.prototype.getPageRotation=function(pageNumber){if(!this.eW){throw new Error("The method getPageRotation requires the viewer to be in a 'ViewerReady' state.");}var bI;if(arguments.length>0){if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw new Error("The parameter pageNumber is not a number.");}else{bI=Number(pageNumber);}}if(parseInt(bI,10)!==bI){throw new Error("The 'pageNumber' value "+bI+" is not an integer page number.");}if(bI<1||bI>this.getPageCount()|| !isFinite(bI)){throw new Error("The parameter pageNumber is out of range.");}return this.aF.aaK(bI-1);}else{return this.aF.aaK();}};PCCViewer.ViewerControl.prototype.search=function(searchQuery){if(this.zb===false){throw "The search method requires PagecountReady event to be triggered.";}PCCViewer.SearchTask.prototype.adE(searchQuery);if(!this.aG.aiA()){this.aG.Kf(0,this.aG.eB-1,this.aG.eB);}else{this.RX=true;}this.zT=null;this.WI={};this.aF.clearAllSelectedText();var fo=new PCCViewer.Search();searchQuery=fo.ajQ(searchQuery);if(this.XE===false){this.dN=fo._search(searchQuery,this.RX,this.aG);this.XE=true;}else{throw new Error("You cannot run multiple searches concurrently. Retry after the current search is completed.");}var bA=this;this.dN.on('PartialSearchResultsAvailable',function(bS){var Iz=[];var WL={};Iz=bS.partialSearchResults;var aU=Iz[0];WL.ao=aU.getId();aU=Iz[Iz.length-1];WL.ds=aU.getId();bA.WI[aU.getPageNumber()]=WL;var dE=bA.aF.get_displayedPages();for(var F=0;F<dE.get_length();F++){var bw=dE.getPage(F);if(bw.get_pageNumber()+1===aU.getPageNumber()){bA.ahg(bw.get_pageNumber(),Iz);}}});this.dN.on('SearchCompleted',function(bS){bA.XE=false;});this.trigger('SearchPerformed',{searchRequest:this.dN});return this.dN;};PCCViewer.ViewerControl.prototype.getSearchRequest=function(){return this.dN;};PCCViewer.ViewerControl.prototype.clearSearch=function(){if(!this.eW){throw "The clearSearch method requires the viewer to be in a 'ViewerReady' state.";}var C=this;if(this.getSelectedSearchResult()){this.zT=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);}this.aF.clearAllSelectedText();this.dN=null;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchCleared,{});},0);return this;};PCCViewer.ViewerControl.prototype.validateSearch=function(gM){var gb={errorsExist:false},searchTermObj,VQ,F,ba,aik,KR,Va;if(typeof gM!=='object'&&typeof gM!=='string'){gb.errorsExist=true;gb.summaryMsg="Search query must be either an object or string.";return gb;}if(typeof gM==='string'&&gM.length<0){gb.errorsExist=true;gb.summaryMsg="Search term must contain at least 3 characters.";return gb;}else if(typeof gM==='string'){return gb;}if(!gM.hasOwnProperty('searchTerms')){gb.errorsExist=true;gb.summaryMsg="Search options must have a 'searchTerms' key.";return gb;}if(Object.prototype.toString.call(gM.searchTerms)!=='[object Array]'){gb.errorsExist=true;gb.summaryMsg="Search terms value must be an array.";return gb;}if(!gM.searchTerms.length){gb.errorsExist=true;gb.summaryMsg="Search terms array must contain at least one value.";return gb;}gb.searchTerms=[];for(F=0;F<gM.searchTerms.length;F++){searchTermObj=gM.searchTerms[F];KR=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('matchCase'))?searchTermObj.matchingOptions.matchCase:false;if(typeof searchTermObj.searchTerm==='undefined'||typeof searchTermObj.searchTerm!=='string'||(searchTermObj.searchTermIsRegex===true&& !avu(searchTermObj.searchTerm,KR))){gb.errorsExist=true;gb.searchTerms.push({isValid:false,message:"Search term must be a string containing either plain text or a valid regular expression."});continue;}aik=(typeof searchTermObj.matchingOptions!=='undefined'&&searchTermObj.matchingOptions.hasOwnProperty('exactPhrase'))?searchTermObj.matchingOptions.exactPhrase:false;if(aik){if(searchTermObj.searchTerm.length<0){gb.errorsExist=true;gb.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});continue;}}else{VQ=searchTermObj.searchTerm.split(' ');for(ba=0;ba<VQ.length;ba++){Va=VQ[ba].replace(/^\s+|\s+$/g,'');if(Va.length>0&&Va.length<0){gb.errorsExist=true;gb.searchTerms.push({isValid:false,message:"Search term must contain at least 3 characters."});}}}if(gb.searchTerms.length!==F+1){gb.searchTerms.push({isValid:true,message:null});}}return gb;};var avu=function(TN,KR){var axM,SC,Oq;if(KR){SC='gm';}else{SC='igm';}if(!TN&&TN!==null){Oq=false;}else{try{axM=new RegExp(TN,SC);Oq=true;}catch(err){Oq=false;}}return Oq;};PCCViewer.ViewerControl.prototype.getDownloadDocumentURL=function(){var dc;if(!(/^[\x00-\x7F]*$/.test(this.aG))){dc=this.bp.imageHandlerUrl+'/SaveDocument/q?DocumentID=e'+this.bp.documentID+'/SourceFile';}else{dc=this.bp.imageHandlerUrl+'/SaveDocument/q?DocumentID=u'+encodeURIComponent(this.bp.documentID);}return dc;};PCCViewer.ViewerControl.prototype.setRedactionViewMode=function(redactionViewMode){var NN,Uo;switch(redactionViewMode){case PCCViewer.RedactionViewMode.Draft:NN=true;Uo=PCCViewer.RedactionViewMode.Draft;break;case PCCViewer.RedactionViewMode.Normal:NN=false;Uo=PCCViewer.RedactionViewMode.Normal;break;default:throw new RangeError("The value of RedactionViewMode is not a supported value.");}if(this.aF&&this.aF.set_redactionDraftMode){var apl=this.aF.get_redactionDraftMode();if(apl!==NN){this.aF.set_redactionDraftMode(NN);}}else{this.bp.redactionViewMode=Uo;}return this;};PCCViewer.ViewerControl.prototype.getRedactionViewMode=function(){var aki;if(this.aF&&this.aF.get_redactionDraftMode){aki=this.aF.get_redactionDraftMode();if(aki===true){return PCCViewer.RedactionViewMode.Draft;}else{return PCCViewer.RedactionViewMode.Normal;}}else{return this.bp.redactionViewMode;}};PCCViewer.ViewerControl.prototype.convertToRedaction=function(searchResult){var eA=searchResult;if(this.eW===false){throw "The convertToRedaction method can not be used until 'ViewerReady' state is reached.";}if(eA instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eA instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eA.NB!==this.aG.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var C=this;var lU=eA.getStartIndexInPage();var fe=eA.getStartIndexInPage()+eA.getText().length;var kK=IPCC.Do();var bw=C.dK.getPage(eA.getPageNumber()-1);var bM=C.aF.hu(bw);var fr=bw.dJ().ey();var eh=anA(bM,fr,lU,fe,kK,eA.getPageNumber()-1);var J=new PCCViewer.Mark({type:'TextSelectionRedaction',igMark:eh,pageNumber:eA.getPageNumber()});J.h=eh;J.bW=[];this.cP[eh.get_markID()]=J;var wX=C.ij;C.ij=function(sender,eventArgs){if(C.tK){C.xq.addMarks(J);}setTimeout(function(){C.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bM.addMark(eh);C.ij=wX;C.aF.display(eA.getPageNumber()-1);return J;};var anA=function(bM,fr,lU,fe,kK,aks){var eh=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.TextSelectionRedaction);eh.cI=kK;eh.aH=aks;var J=null;var mf={hd:Number.MAX_VALUE,gO:0,_top:Number.MAX_VALUE,iT:0};for(var ba=lU;ba<fe;ba++){var dV=fr.lf(ba);if(J){var xn=J.get_rectangle();if(Math.abs(dV.bQ.y-xn.y)<1&&Math.abs(dV.bQ.height-xn.height)<1&&dV.bQ.x+dV.bQ.width>=xn.x+xn.width){J.set_rectangle(new IPCC.Web.UI.Rectangle(xn.x,xn.y,dV.bQ.x+dV.bQ.width-xn.x,xn.height));}else{ahK(bM,eh,J,mf);J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);J.set_rectangle(dV.bQ);J.kV(true);J.set_fillColor('#000000');J.set_text(eh.al);J.set_lineWidth(0);J.cI=kK;}}else{J=new IPCC.Web.UI.Mark(IPCC.Web.UI.MarkType.RectangleRedaction);J.set_rectangle(dV.bQ);J.kV(true);J.set_fillColor('#000000');J.set_text(eh.al);J.set_lineWidth(0);J.cI=kK;}J.aH=aks;}if(J!==null){ahK(bM,eh,J,mf);}eh.set_rectangle(new IPCC.Web.UI.Rectangle(mf.hd,mf._top,mf.gO-mf.hd,mf.iT-mf._top));return eh;};var ahK=function(bM,eh,J,mf){var V=J.get_rectangle();if(V.x<mf.hd){mf.hd=V.x;}if(V.y<mf._top){mf._top=V.y;}if(V.x+V.width>mf.gO){mf.gO=V.x+V.width;}if(V.y+V.height>mf.iT){mf.iT=V.y+V.height;}bM.addMark(J);eh.cl.push(J);};PCCViewer.ViewerControl.prototype.convertToHighlight=function(searchResult){var eA=searchResult;if(this.eW===false){throw "The convertToHighlight method can not be used until 'ViewerReady' state is reached.";}if(eA instanceof Array){throw new Error("Argument for this method cannot be an array.");}if(eA instanceof PCCViewer.SearchResult===false){throw new Error("The argument is not an instance of SearchResult.");}if(eA.NB!==this.aG.get_documentIdentifier()){throw new Error("The SearchResult argument was not created using the current document viewing session.");}var eh;var aiB;var bM;var aU=eA;var lU=aU.getStartIndexInPage();var fe=aU.getStartIndexInPage()+aU.getText().length;var kK=IPCC.Do();var C=this;var J;bM=this.aF.hu(this.dK.getPage(aU.getPageNumber()-1));eh=aic(IPCC.Web.UI.MarkType.HighlightText,aU,lU,kK);J=new PCCViewer.Mark({type:'HighlightAnnotation',igMark:eh,pageNumber:aU.getPageNumber()});for(lU;lU<fe;lU++){aiB=aic(IPCC.Web.UI.MarkType.Highlight,aU,lU,kK);bM.addMark(aiB);}this.cP[eh.get_markID()]=J;var wX=this.ij;this.ij=function(sender,eventArgs){if(C.tK){C.xq.addMarks(J);}setTimeout(function(){C.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};bM.addMark(eh);C.ij=wX;this.aF.display(aU.getPageNumber()-1);J.fillColor=aU.getHighlightColor();return J;};var aic=function(aC,aU,avR,kK){var J=new IPCC.Web.UI.Mark(aC);if(aC===IPCC.Web.UI.MarkType.HighlightText){J.cu=aU.getText();}J.ao=avR;J.set_rectangle({x:0,y:0,width:0,height:0});J.cF=aU.getText().length;J.aEq=aU.getStartIndexInPage()+aU.getText().length;J.db=127;J.cW=aU.getHighlightColor();J.mC='y';J.cI=kK;return J;};PCCViewer.ViewerControl.prototype.ahg=function(aH,gR){var aU={};for(var ba=0;ba<gR.length;ba++){aU=gR[ba];this.aF.selectText(aU.getPageNumber()-1,aU.getStartIndexInPage(),aU.getText().length,aU.getHighlightColor());}this.aF.display(aU.getPageNumber()-1);this.IG[aU.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.Zp=function(aH,searchResult){var aU={};if(this.dN===null||typeof this.dN.getResults!=='function'){return;}var gR=this.dN.getResults();this.aF.clearSelectedText(aH-1);var abN=this.WI[aH];if(!abN){return;}for(var ba=abN.ao;ba<abN.ds+1;ba++){aU=gR[ba];if(aU.getPageNumber()===aH){this.aF.selectText(aU.getPageNumber()-1,aU.getStartIndexInPage(),aU.getText().length,aU.getHighlightColor());if(searchResult===aU.getId()){this.aF.selectText(aU.getPageNumber()-1,aU.getStartIndexInPage(),aU.getText().length,aU.getHighlightColor());}}}this.aF.display(aU.getPageNumber()-1);this.IG[aU.getPageNumber()]='search';};PCCViewer.ViewerControl.prototype.setSelectedSearchResult=function(searchResult,scrollTo){if(!this.eW){throw "The setSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}if(searchResult===null){this.KB= -1;}else{if(!(searchResult instanceof PCCViewer.SearchResult)){throw "The parameter searchResult is not an instance of PCCViewer.SearchResult.";}if(!this.dN){throw "There is no current SearchRequest object available.";}var aad=this.dN.getResults();if(aad[searchResult.getId()].CJ!==searchResult.CJ){throw "The parameter searchResult is not current. There is a newer version of search result available.";}aad=null;this.KB=searchResult.getId();if(scrollTo){var ar=searchResult.getBoundingRectangle();var il=new IPCC.Web.UI.Rectangle(ar.x,ar.y,ar.width,ar.height);if(this.aF.scrollRegionIntoView(searchResult.getPageNumber()-1,il)===false){this.kD=function(){C.aF.scrollRegionIntoView(searchResult.getPageNumber()-1,il);};this.setPageNumber(searchResult.getPageNumber());}else{this.kD=null;}}}var axQ=searchResult!==null?searchResult.getPageNumber(): -1;if(this.zT&&this.zT.getPageNumber()!==axQ){this.Zp(this.zT.getPageNumber(),this.KB);}if(searchResult){this.Zp(searchResult.getPageNumber(),this.KB);}this.zT=searchResult;var C=this;setTimeout(function(){C.trigger(PCCViewer.EventType.SearchResultSelectionChanged,{});},0);return this;};PCCViewer.ViewerControl.prototype.clearSelectedSearchResult=function(){if(!this.eW){throw "The clearSelectedSearchResult method requires the viewer to be in a 'ViewerReady' state.";}this.setSelectedSearchResult(null);return this;};PCCViewer.ViewerControl.prototype.getSelectedSearchResult=function(){return this.zT;};PCCViewer.ViewerControl.prototype.requestPageText=function(pageNumber){var bI;var aw=PCCViewer.Deferred();var cY=aw.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bI=parseInt(pageNumber,10);}}if(bI<1||bI>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.BG.then(function(Bp){var bw=C.dK.getPage(bI-1);if(bw.dJ()&&bw.dJ().Ai()){if(bw.dJ().nm()===true){var al=bw.dJ().EG();aw.resolve(al);}else{aw.resolve("");}}else{var Hi=function(bz,cs){if(cs.containsText===true){var al=bw.dJ().EG();aw.resolve(al);}else{aw.resolve("");}bw.xD(Hi);bw.AX(Fq);};var Fq=function(bz,cs){if(cs.exception&&cs.exception.message){aw.reject(new PCCViewer.Error("TextExtractionFailed",cs.exception.message));}else{aw.reject(new PCCViewer.Error("TextExtractionFailed","Text extraction failed."));}bw.xD(Hi);bw.AX(Fq);};bw.tL(Hi);bw.Cu(Fq);bw.Aq();}});}catch(e){aw.reject(new PCCViewer.Error("Error",e));}return cY;};PCCViewer.ViewerControl.prototype.isPageTextReady=function(pageNumber){IPCC.bU.os(pageNumber,"pageNumber",1,this.getPageCount());var bw;return(this.aF&&this.dK&&(bw=this.dK.getPage(pageNumber-1))&&bw.dJ()&&bw.dJ().Ai())===true;};PCCViewer.ViewerControl.prototype.documentHasText=function(){return this.alK;};PCCViewer.ViewerControl.prototype.requestPageAttributes=function(pageNumber){var bI;var aw=PCCViewer.Deferred();var cY=aw.getPromise();var C=this;try{if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bI=parseInt(pageNumber,10);}}if(bI<1||bI>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}this.BG.then(function(Bp){var bw=C.dK.getPage(bI-1);if(bw.lG()>0||bw.nh()>0){aw.resolve({'width':bw.lG(),'height':bw.nh()});}else{var AP=function(aa,dj){aw.resolve({'width':aa,'height':dj});};var AD=function(errorMessage){aw.reject(new PCCViewer.Error("RequestPageAttributesFailed",errorMessage));};Bp.requestPageAttributes(bw,AP,AD);}});}catch(e){aw.reject(new PCCViewer.Error("Error",e));}return cY;};PCCViewer.ViewerControl.prototype.destroy=function(){if(!this.KS){if(this.aF&&typeof this.aF.dispose==="function"){this.aF.dispose();}this.dc="";this.eB=0;delete this.aF;this.aG=undefined;this.Ps=0;this.dK=undefined;this.aiQ=false;if(this.gP){IPCC.bb.NM(this.gP);this.gP=this.az=undefined;}this.pZ=false;this.zb=false;this.Go=false;this.aF=undefined;this.eW=false;this.KS=true;this.trigger=function Un(){};this.jR=undefined;this.jR={};}};PCCViewer.ViewerControl.prototype.getMarkById=function(markId){var C=this;if(!isNaN(markId)){markId=parseInt(markId,10);}else{throw "The parameter, markId, contains a value that is not a number.";}if(C.cP[markId]){return C.cP[markId];}else{return null;}};PCCViewer.ViewerControl.prototype.getMarksByType=function(markType){var Zm=[];if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}alA(markType);if(!this.aF){return Zm;}var F=0;var dm=this.dK.get_length();var C=this;function aoc(h){var J=C.cP[h.get_markID()];if(J&&J.getType().toLowerCase()===markType.toLowerCase()){Zm.push(J);}};for(F=0;F<dm;F++){var bM=this.aF.hu(this.dK.getPage(F));if(bM){bM.forEachMark(aoc);}}return Zm;};PCCViewer.ViewerControl.prototype.getAllMarks=function(){var EK=[];if(!this.aF){return EK;}var dm=this.dK.get_length();var C=this;var F=0;var J;function My(h){var J=C.cP[h.get_markID()];if(typeof J!=='undefined'){EK.push(J);}};for(F=0;F<dm;F++){var bM=this.aF.hu(this.dK.getPage(F));if(bM){bM.forEachMark(My);}}return EK;};function alA(markType){var gE;switch(markType.toLowerCase()){case "lineannotation":gE=IPCC.Web.UI.MarkType.Line;break;case "rectangleannotation":gE=IPCC.Web.UI.MarkType.Rectangle;break;case "ellipseannotation":gE=IPCC.Web.UI.MarkType.Ellipse;break;case "textannotation":gE=IPCC.Web.UI.MarkType.Text;break;case "stampannotation":gE=IPCC.Web.UI.MarkType.Stamp;break;case "highlightannotation":gE=IPCC.Web.UI.MarkType.HighlightText;break;case "texthyperlinkannotation":gE=IPCC.Web.UI.MarkType.TextHyperlinkAnnotation;break;case "freehandannotation":gE=IPCC.Web.UI.MarkType.Freehand;break;case "rectangleredaction":gE=IPCC.Web.UI.MarkType.RectangleRedaction;break;case "transparentrectangleredaction":gE=IPCC.Web.UI.MarkType.Rectangle;break;case "textredaction":gE=IPCC.Web.UI.MarkType.Text;break;case "stampredaction":gE=IPCC.Web.UI.MarkType.Stamp;break;case "freehandsignature":gE=IPCC.Web.UI.MarkType.SignaturePath;break;case "textsignature":gE=IPCC.Web.UI.MarkType.SignatureText;break;case "textinputsignature":gE=IPCC.Web.UI.MarkType.TextLine;break;case "textselectionredaction":gE=IPCC.Web.UI.MarkType.TextSelectionRedaction;break;case "imagestampannotation":gE=IPCC.Web.UI.MarkType.ImageStampAnnotation;break;case "imagestampredaction":gE=IPCC.Web.UI.MarkType.ImageStampRedaction;break;case "polylineannotation":gE=IPCC.Web.UI.MarkType.Polyline;break;default:throw "The parameter, markType, does not specify a valid mark type.";}return gE;};PCCViewer.ViewerControl.prototype.addMark=function(pageNumber,markType){if(this.eW===false){throw "The method addMark is not available until 'ViewerReady' state is reached.";}var bI;if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter, pageNumber, contains a value that is not a number.";}else{bI=parseInt(pageNumber,10);}}if(bI<1||bI>this.dK.get_length()|| !isFinite(bI)){throw "The specified page is out of range.";}if(typeof markType!=="string"){throw "The parameter, markType, is not a String.";}return this.aeD(bI,markType);};PCCViewer.ViewerControl.prototype.aeD=function(bI,aC,bp){var C=this;bp=bp||{};var gE=alA(aC);var h=new IPCC.Web.UI.Mark(gE);var UF={type:aC,igMark:h,pageNumber:bI,uid:bp.uid,viewerControl:this};if(aC.toLowerCase()==="highlightannotation"||aC.toLowerCase()==="textselectionredaction"||aC.toLowerCase()==="texthyperlinkannotation"){UF.dK=C.dK;UF.aF=C.aF;}var J=new PCCViewer.Mark(UF);if(C.agj===true){C.agj=false;}else{var wX=C.ij;C.ij=function(sender,eventArgs){C.ij=wX;if(C.tK){C.xq.addMarks(J);}setTimeout(function(){C.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});},0);};}var bM=this.aF.hu(this.dK.getPage(bI-1));bM.addMark(h);C.cP[h.get_markID()]=J;C.qb(J,bI-1);return J;};PCCViewer.ViewerControl.prototype.deleteMarks=function(marks){var C=this;var F=0;var J;if(!this.eW){throw "The method deleteMarks can not be used until 'ViewerReady' state is reached.";}function Hl(pE){var aH=pE.getPageNumber()-1;var cI='';var aE='';var Is=aH;var bM=C.aF.hu(C.dK.getPage(aH));bM.removeMark(pE.h);if(C.cP[pE.getId()]){cI=pE.h.cI;aE=pE.getType();delete C.cP[pE.getId()];}var So=aE.toLowerCase();if((So==='highlightannotation'||So==='textselectionredaction'||So==='texthyperlinkannotation')&&(pE.bW&&pE.bW.length)){for(var F=0;F<pE.bW.length;F++){var lX=pE.bW[F];bM=C.aF.hu(C.dK.getPage(lX.aH));bM.removeMark(lX);C.qb(lX,lX.aH);}}C.rj.forEach(function(gJ){if(gJ.hasMark(pE.getId())){gJ.removeMarks(pE);}});};if(marks instanceof Array){for(F=0;F<marks.length;F++){J=marks[F];if(!(J instanceof PCCViewer.Mark)){throw "The parameter, marks, contains an item that is not a Mark.";}if(!(C.cP[J.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}}for(F=0;F<marks.length;F++){Hl(marks[F]);C.qb(marks[F],marks[F].getPageNumber()-1);}}else{if(marks instanceof PCCViewer.Mark){if(!(C.cP[marks.getId()])){throw "The parameter, marks, contains a Mark that is not on the document.";}Hl(marks);C.qb(marks,marks.getPageNumber()-1);}else{throw "The parameter, marks, is not an Array of Marks or a single Mark.";}}return this;};PCCViewer.ViewerControl.prototype.deleteAllMarks=function(){var EK=this.getAllMarks();if(EK.length>0){return this.deleteMarks(EK);}return this;};PCCViewer.ViewerControl.prototype.hideMarks=function(marks){amB(this,marks,false,'hideMarks');return this;};PCCViewer.ViewerControl.prototype.showMarks=function(marks){amB(this,marks,true,'showMarks');return this;};function amB(df,ay,IB,ayD){var F=0;var J;if(!df.eW){throw new PCCViewer.Error("InvalidArgument","The method "+ayD+" can not be used until 'ViewerReady' state is reached.");}if(ay instanceof Array){for(F=0;F<ay.length;F++){J=ay[F];if(!(J instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}if(!(df.cP[J.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}}for(F=0;F<ay.length;F++){ay[F].setVisible(IB);}}else{if(ay instanceof PCCViewer.Mark){if(!(df.cP[ay.getId()])){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ay.setVisible(IB);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}}};function BJ(atG,nu){var oc=false;var dE=nu.aF.get_displayedPages();for(var F=0;F<dE.get_length();F++){var bw=dE.getPage(F);if(bw.get_pageNumber()===atG){oc=true;break;}}return oc;};PCCViewer.ViewerControl.prototype.moveMarkToFront=function(mark){var bM;var jA;if(!this.eW){throw "The method moveMarkToFront is not available until ViewerReady state is reached.";}if(mark instanceof PCCViewer.Mark){jA=mark.getPageNumber();if(mark.getPageNumber()>0){bM=this.aF.hu(this.dK.getPage(jA-1));}else{throw "The mark object has not been added to any page yet";}}else{throw "The parameter, mark object is not a PCCViewer.Mark object";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bM){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveToFront();if(BJ(jA-1,this)===true){var nu=this;setTimeout(function(){nu.aF.dF(jA-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkToBack=function(mark){var bM;var jA;if(!this.eW){throw "The method moveMarkToBack is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}jA=mark.getPageNumber();if(jA>=1){bM=this.aF.hu(this.dK.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark may be a templateMark or has not been initialized";}if(bM){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveToBack();if(BJ(jA-1,this)===true){var nu=this;setTimeout(function(){nu.aF.dF(jA-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkForward=function(mark){var bM,jA;if(!this.eW){throw "The method moveMarkForward is not available until 'ViewerReady' state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}jA=mark.getPageNumber();if(jA>=1){bM=this.aF.hu(this.dK.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bM){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveForward();if(BJ(jA-1,this)===true){var nu=this;setTimeout(function(){nu.aF.dF(jA-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.moveMarkBackward=function(mark){var bM,jA;if(!this.eW){throw "The method moveMarkBackward is not available until ViewerReady state is reached.";}if(!(mark instanceof PCCViewer.Mark)){throw "The parameter, mark object is not a PCCViewer.Mark object";}jA=mark.getPageNumber();if(jA>=1){bM=this.aF.hu(this.dK.getPage(mark.getPageNumber()-1));}else{throw "The mark object has not been added to any page yet";}if(!mark.h){throw "The parameter, mark object is probably a templateMark or has not been initialized";}if(bM){if(mark.h instanceof IPCC.Web.UI.Mark){mark.h.moveBackward();if(BJ(jA-1,this)===true){var nu=this;setTimeout(function(){nu.aF.dF(jA-1);},1);}}else{throw "The mark object has not been initialized yet";}}return this;};PCCViewer.ViewerControl.prototype.getSelectedMarks=function(){var ay=[];var Ru=[];if(this.eW===false){return ay;}var dm=this.dK.get_length(),bM,fc;var C=this;function aoM(Qb){if(Qb){var ZF=Qb.get_type();if(ZF===IPCC.Web.UI.MarkType.HighlightText||ZF===IPCC.Web.UI.MarkType.TextSelectionRedaction||ZF===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){for(var kJ in C.cP){if(C.cP.hasOwnProperty(kJ)){fc=C.cP[kJ];if(Qb.cI===fc.h.cI){for(var F=0;F<Ru.length;F++){if(fc.h.cI===Ru[F]){return;}}Ru.push(fc.h.cI);break;}}}}else{fc=C.cP[Qb.get_markID()];}if(fc&&fc instanceof PCCViewer.Mark){ay.push(fc);}else{return ay;}}};for(var F=0;F<dm;F++){bM=this.aF.hu(this.dK.getPage(F));if(bM){bM.get_selectedMarks().forEach(aoM,{});}}return ay;};function akO(ay,arn,nu){var fc,F;function WB(dS){var oc=false;var dE=nu.aF.get_displayedPages();for(var F=0;F<dE.get_length();F++){var bw=dE.getPage(F);if(bw.get_pageNumber()===dS){oc=true;break;}}return oc;};if(!ay.length){return;}for(F=0;F<ay.length;F++){if(ay[F]instanceof PCCViewer.Mark){fc=nu.cP[parseInt(ay[F].getId(),10)];if(fc&&fc instanceof PCCViewer.Mark){if(fc.h&&fc.h instanceof IPCC.Web.UI.Mark){if(fc.getId()!==fc.h.get_markID().toString()){throw "The mark ID does not match the ID of the mark loaded in the viewer";}}else{throw "The mark provided may not have been added to the document pages in the viewer";}}else{throw "The parameter, marks, contains a Mark that is not on the document.";}}else{throw "The mark provided in the position : "+(F+1)+" is invalid";}}var rd=[];var wP=false;for(F=0;F<ay.length;F++){fc=nu.cP[parseInt(ay[F].getId(),10)];wP=false;if(fc){if(fc.getId()===fc.h.get_markID().toString()){fc.h.set_selected(arn);if(Array.prototype.IndexOf){wP=(rd.IndexOf(fc.getPageNumber())>=0);}else{wP=(IPCC.Web.hh(rd,fc.getPageNumber())>=0);}}if(!wP){var dk=fc.getPageNumber();if(WB(dk-1)){rd.push(dk);}}}}if(rd.length>0){setTimeout(function(){for(F=0;F<rd.length;F++){nu.aF.dF(rd[F]-1);}},1);}};PCCViewer.ViewerControl.prototype.selectMarks=function(marks){if(this.eW===false){throw "The method selectMarks is not available until 'ViewerReady' state is reached.";}var ay=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ay.push(marks);}}else{ay=marks;}if(ay.length===0){return this;}akO(ay,true,this);return this;};PCCViewer.ViewerControl.prototype.deselectMarks=function(marks){if(this.eW===false){throw "The method deselectMarks is not available until 'ViewerReady' state is reached.";}var ay=[];if(marks===undefined){return this;}if(marks&& !(marks instanceof Array)){if(marks instanceof PCCViewer.Mark){ay.push(marks);}}else{ay=marks;}if(ay.length===0){return this;}akO(ay,false,this);return this;};PCCViewer.ViewerControl.prototype.deselectAllMarks=function(){var rd=[];var ay=this.getSelectedMarks();var wP=false,F,fc;for(F=0;F<ay.length;F++){fc=this.cP[parseInt(ay[F].getId(),10)];wP=false;if(fc){if(fc.getId()===fc.h.get_markID().toString()){fc.h.set_selected(false);if(Array.prototype.IndexOf){wP=(rd.IndexOf(fc.getPageNumber())>=0);}else{wP=(IPCC.Web.hh(rd,fc.getPageNumber())>=0);}}if(!wP){var dk=fc.getPageNumber();if(BJ(dk-1,this)===true){rd.push(dk);}}}}if(rd.length>0){var nu=this;setTimeout(function(){for(F=0;F<rd.length;F++){nu.aF.dF(rd[F]-1);}},1);}return this;};PCCViewer.ViewerControl.prototype.copyMarks=function(marks){var df=this,afS;if(marks instanceof PCCViewer.Mark){marks=[marks];}if(marks instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, is not an Array of Marks or a single Mark.");}var ay=[];IPCC.bb.forEach(marks,function(J){if(J instanceof PCCViewer.Mark){if(df.cP[J.getId()]===undefined){throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains a Mark that is not on the document.");}ay.push(J);}else{throw new PCCViewer.Error("InvalidArgument","The parameter, marks, contains an item that is not a Mark.");}});var uG=[];IPCC.bb.forEach(ay,function(J,bh){PCCViewer.en[J.getType()]({mark:J},function(cR,cj){cj.uid=undefined;uG[bh]=cj;});});this.tK=false;afS=df.deserializeMarks(uG);this.tK=true;return afS;};PCCViewer.ViewerControl.prototype.enterTextMarkEditingMode=function(J){var df=this,aF=this.aF;var acc=function(arp){var OI=false,dE=aF.get_displayedPages();for(var F=0;F<dE.get_length();F++){var bw=dE.getPage(F);if(bw.get_pageNumber()===arp){OI=true;}aF.pY(bw.get_pageNumber());}return OI;};if(typeof J==="undefined"||J===null){acc(-1);}else{if(this.eW===false){throw PCCViewer.Error("ViewerNotReady","The method selectMarks is not available until 'ViewerReady' state is reached.");}if(!(J instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The argument 'mark' must be an instance of PCCViewer.Mark.");}var acg=this.cP[parseInt(J.getId(),10)];if(!(acg&&acg instanceof PCCViewer.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark is not on the document.");}if(!(J.h&&J.h instanceof IPCC.Web.UI.Mark)){throw new PCCViewer.Error("InvalidArgument","The provided mark may not have been added to the document pages in the viewer");}if(J.getId()!==J.h.get_markID().toString()){throw new PCCViewer.Error("InvalidArgument","The mark ID does not match the ID of the mark loaded in the viewer");}var aC=J.getType();if(aC!==PCCViewer.Mark.Type.TextAnnotation&&aC!==PCCViewer.Mark.Type.TextRedaction&&aC!==PCCViewer.Mark.Type.TextInputSignature){throw new PCCViewer.Error("InvalidArgument","The mark type must be: 'TextAnnotation', 'TextRedaction', or 'TextInputSignature'.");}var OI=acc(J.getPageNumber()-1);if(OI){df.aF.xM(J.getPageNumber()-1,J.h);}}return this;};PCCViewer.ViewerControl.prototype.getCharacterIndex=function(sortableObject){if(this.eW===false){throw new Error("The getCharacterIndex method can not be used until 'ViewerReady' state is reached.");}var Kg= -1;var cb;var ar;var bI=0;if(sortableObject instanceof PCCViewer.Mark){if(sortableObject.getStartPoint){cb=sortableObject.getStartPoint();}else{ar=(sortableObject.h)?sortableObject.h.get_boundingRectangle():sortableObject.getRectangle();cb={x:ar.x,y:ar.y};}bI=sortableObject.getPageNumber();}else if(sortableObject instanceof PCCViewer.SearchResult){return sortableObject.startIndexInPage;}else if(sortableObject!==undefined&&sortableObject!==null){if(typeof sortableObject.x==='number'&&typeof sortableObject.y==='number'){cb={x: +sortableObject.x,y: +sortableObject.y};}else{if(isNaN(+sortableObject.x)||isNaN(+sortableObject.y)){throw new Error('The parameter sortableObject does not contain valid x and y values.');}else{cb={x:Number(+sortableObject.x),y:Number(+sortableObject.y)};}}if(typeof sortableObject.pageNumber==='number'){bI= +sortableObject.pageNumber;}else{if(isNaN(+sortableObject.pageNumber)){throw new Error('The parameter sortableObject does not contain a valid pageNumber value.');}else{bI=Number(+sortableObject.pageNumber);}}}else{throw new Error('The sortableObject parameter must be a Mark, SearchResult, or Point.');}if(bI<1||bI>this.getPageCount()|| !isFinite(bI)){throw new RangeError("The parameter pageNumber is out of range.");}if(!this.isPageTextReady(bI)){return-2;}var bw=this.dK.getPage(bI-1);var vq=bw.dJ().abn();var fr=bw.dJ().ey();function ajZ(bbox,point){if(point.x>bbox.x&&point.x<bbox.x+bbox.width&&point.y>bbox.y&&point.y<bbox.y+bbox.height){return true;}return false;};function ahz(dg,fl){var ae=Math.max(Math.min(fl.x,dg.x+dg.width),dg.x);var fv=Math.max(Math.min(fl.y,dg.y+dg.height),dg.y);return(fl.x-ae)*(fl.x-ae)+(fl.y-fv)*(fl.y-fv);};var Gd;var Oy=Number.MAX_VALUE;for(var F=0;F<vq.fb();F++){var hS=vq.aBB(F);if(ajZ(hS.fF(),cb)){for(var ba=hS.aiS();ba<hS.ahO();ba++){var Xm=fr.lf(ba);var ur=Xm.wd();if(ajZ(ur,cb)){return ba;}Gd=ahz(ur,cb);if(Gd<Oy){Kg=ba;Oy=Gd;}}return Kg;}Gd=ahz(hS.fF(),cb);if(Gd<Oy){if(hS.fF().y>cb.y){Kg=hS.aiS()-1;}else{Kg=hS.ahO();}Oy=Gd;}}return Kg;};PCCViewer.ViewerControl.prototype.getCurrentMouseTool=function(){return this.dq.getName();};PCCViewer.ViewerControl.prototype.setCurrentMouseTool=function(name){if(this.eW===false){throw "The method setCurrentMouseTool is not available until 'ViewerReady' state is reached.";}var BQ=name.toLowerCase();var dq=PCCViewer.MouseTools.getMouseTool(BQ);if(!dq){throw new Error("The name argument for setCurrentMouseTool(name) must be the name of a known mouse tool.");}var iR,lB;switch(dq.getType()){case PCCViewer.MouseTool.Type.Magnifier:iR=IPCC.Web.UI.MouseTool.Magnifier;break;case PCCViewer.MouseTool.Type.SelectToZoom:iR=IPCC.Web.UI.MouseTool.RectangleZoom;break;case PCCViewer.MouseTool.Type.PanAndEdit:case PCCViewer.MouseTool.Type.Pan:iR=IPCC.Web.UI.MouseTool.HandPan;break;case PCCViewer.MouseTool.Type.SelectText:iR=IPCC.Web.UI.MouseTool.SelectText;break;case PCCViewer.MouseTool.Type.EditMarks:iR=IPCC.Web.UI.MouseTool.EditMarks;break;case PCCViewer.MouseTool.Type.LineAnnotation:iR=IPCC.Web.UI.MouseTool.CreateLineMark;lB=asg(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleAnnotation:iR=IPCC.Web.UI.MouseTool.CreateRectangleMark;lB=amq(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.RectangleRedaction:iR=IPCC.Web.UI.MouseTool.CreateRectangleRedactionMark;lB=arg(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TransparentRectangleRedaction:iR=IPCC.Web.UI.MouseTool.CreateRectangleMark;lB=asI(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.EllipseAnnotation:iR=IPCC.Web.UI.MouseTool.CreateEllipseMark;lB=amq(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextAnnotation:iR=IPCC.Web.UI.MouseTool.CreateTextMark;lB=apI(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextRedaction:iR=IPCC.Web.UI.MouseTool.CreateTextMark;lB=ahe(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextInputSignature:iR=IPCC.Web.UI.MouseTool.CreateTextInputSignatureMark;lB=ahe(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.StampAnnotation:case PCCViewer.MouseTool.Type.StampRedaction:iR=IPCC.Web.UI.MouseTool.CreateStampMark;lB=aqQ(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.HighlightAnnotation:iR=IPCC.Web.UI.MouseTool.CreateHighlightTextMark;lB=Wl(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextHyperlinkAnnotation:iR=IPCC.Web.UI.MouseTool.CreateTextHyperlinkMark;lB=Wl(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.FreehandAnnotation:iR=IPCC.Web.UI.MouseTool.CreateFreehandMark;lB=aoI(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.TextSelectionRedaction:iR=IPCC.Web.UI.MouseTool.CreateTextSelectionRedaction;lB=Wl(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.PlaceSignature:var azC=this.bp.resourcePath+'/placeSignatureCursor.cur';this.aF.set_mouseTool(IPCC.Web.UI.MouseTool.None);this.aF.set_allowMarkEdits(false);this.aF.set_mouseCursor('url('+azC+'), pointer');this.dq=dq;return this;case PCCViewer.MouseTool.Type.ImageStampAnnotation:iR=IPCC.Web.UI.MouseTool.CreateImageStampAnnotationMark;lB=akE(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.ImageStampRedaction:iR=IPCC.Web.UI.MouseTool.CreateImageStampRedactionMark;lB=akE(dq.getTemplateMark());break;case PCCViewer.MouseTool.Type.PolylineAnnotation:iR=IPCC.Web.UI.MouseTool.CreatePolylineMark;lB=apF(dq.getTemplateMark());break;default:throw new Error("An unexpected error occurred. The MouseTool type is not known.");}this.dq=dq;if(lB){this.Hg=lB.onCreating;this.ij=lB.onAdded;}else{this.Hg=undefined;this.ij=undefined;}this.aF.set_mouseTool(iR);this.aF.set_allowMarkEdits((dq.getType()===PCCViewer.MouseTool.Type.PanAndEdit));return this;};function Vo(df,Ts,np){if(df.zb!==true){var ala=function(){df.off('PageCountReady',ala);Vo(df,Ts,np);};df.on('PageCountReady',ala);return;}var bA=df;var yK;var kc={},vE={},tC=[];var gk=bA.eB;var mv;var bp;if(Ts){bp=Ts;}var adn=[];var ZV=bA.aG.get_pages();var aBR=function(bw,done){var aDL=false;var kX=bw;var bI=bw.get_pageNumber();var eO=kX.get_pageWidth();var ck=kX.get_pageHeight();try{if(kX){var hu=bA.aF.hu(kX),FY=0,EU=0,eS="",aFA=false;var getArt=function getArt(){var ba,Zb;var Jc=hu.avw(bI,FY,EU,bp);if(Jc.kc){kc[bI]=Jc.kc;}else{var asv=aCt(bI,mv,EU,FY);kc[bI]=asv;}if(Jc.tC){for(ba=0;ba<Jc.tC.length;ba++){Zb=Jc.tC[ba];vE[Zb.bd.imageStampId]=Zb;}}done();};if(hu){if(!eO|| !ck){if(hu.get_markCount()>0){bw.requestPageAttributes(function(aa,dj){FY=aa;if(FY){kX.Jw(FY);}EU=dj;if(EU){kX.IK(EU);}getArt();},function(FZ){done(FZ);});}else{getArt();}}else{FY=eO;EU=ck;getArt();}}else{done(new Error("No art page was found"));}}}catch(ex){done(new Error("Error while saving annotation, error:"+ex.message));}};ZV.forEach(function(bw,cB,kF){adn.push(function(done){aBR(bw,done);});});var Xf=function(ax,bw){var Ah="";var F;if(!ax.hG){if(ax.toString()){return ax.toString();}else{return '<![CDATA[]]>';}}if((gk===1||bw===0||(bw>0&&ax.hG!=="documentAnnotations"&&ax.hG!=="pages"))&&ax.hG!=="highlights"){Ah='<'+ax.hG;for(var AA in ax.bd){if(ax.bd.hasOwnProperty(AA)){var bd=ax.bd[AA].toString();bd=bd.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');Ah=Ah+' '+AA+'="'+bd+'"';}}Ah+='>';}for(F=0;F<ax.cd.length;F++){Ah+=Xf(ax.cd[F],bw);}if(gk===1||(bw===gk-1)||(bw!==gk-1&&ax.hG!=="documentAnnotations"&&ax.hG!=="pages"&&ax.hG!=="highlights")){if(ax.hG!=="highlights"){Ah+='</'+ax.hG+'>';}else{Ah+='<'+ax.hG+' />';}}return Ah;};IPCC.bb.VZ(adn,function(cR){if(cR){np(cR);return;}yK='<?xml version="1.0"?>';for(var F=0;F<(bA.eB);F++){yK=yK+Xf(kc[F],F);}var stampImageXml='';for(var Gm in vE){if(vE.hasOwnProperty(Gm)){stampImageXml+=Xf(vE[Gm],1);}}if(stampImageXml.length){var stampImagesXml='<stampImages>'+stampImageXml+'</stampImages></documentAnnotations>';yK=yK.replace('</documentAnnotations>',stampImagesXml);}np(undefined,yK);});};PCCViewer.ViewerControl.prototype.saveMarkup=function(recordName,options){var aw=PCCViewer.Deferred();var cY=aw.getPromise();var bp;if(options){bp=options;}else{bp={includeAnnotations:true,includeRedactions:true,includeSignatures:false};}try{if(typeof recordName!=="string"){aw.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));return cY;}if(!aqM(recordName)){aw.reject(new PCCViewer.Error("InvalidCharactersFilename",'Invalid characters in the annotations filename.'));return cY;}var bA=this;this.BG.then(function(Bp){var De=recordName;Vo(bA,bp,function(err,yK){if(err){aw.reject(new PCCViewer.Error("Error",err));return cY;}var Rg=IPCC.ht.so(De);var url;if(!(/^[\x00-\x7F]*$/.test(bA.aG.get_documentIdentifier()))){url=bA.bp.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bA.bp.documentID+'&AnnotationID=e'+Rg;}else{url=bA.bp.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bA.bp.documentID)+'&AnnotationID=u'+encodeURIComponent(De);}var cG=new XMLHttpRequest();if(cG===null){aw.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));return cY;}var saveHandler=function(){if(cG.readyState===4){if(cG.status===200){aw.resolve(De);setTimeout(function(){bA.trigger('MarkupSaved',{name:De});},0);}else{aw.reject(new PCCViewer.Error("AjaxError","Status Code "+cG.status+" "+cG.statusText));return cY;}}};cG.open("POST",url,true);cG.setRequestHeader("Content-Type","application/xml");cG.onreadystatechange=saveHandler;cG.send(yK);});});}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return cY;};var aqM=function(recordName){return!/[\\\/:*?"<>|\x00-\x1f]/.test(recordName);};var Vk=function(kp){var ae=kp.firstChild;while(ae.nodeType!==1){ae=ae.nextSibling;}return ae;};var aCt=function(dk,mv,ck,eO){var kc={hG:'documentAnnotations',cd:[],bd:{}};var akD={hG:'pages',cd:[],bd:{}};kc.cd.push(akD);var mU={hG:'highlights',cd:[],bd:{}};var bw={hG:'page',cd:[],bd:{id:(dk+1).toString(),pageWidth:eO,pageHeight:ck}};kc.cd.push(mU);try{if(mv){var ae=mv.getElementsByTagName("documentAnnotations");if(ae.length>1){throw 'ERROR: Invalid PCC annotations XML';}var ME;var Gz;if(document.documentMode<9){var Tw=mv.firstChild.nodeName;if(Tw.toLowerCase()==='xml'){ME=mv.firstChild.nextSibling;}else{ME=mv.firstChild;}}else{ME=mv.firstChild;}var cQ=Vk(ME);if(cQ.nodeName!=='pages'){throw 'ERROR: Problem with pages node in the PCC annotations XML';}if(cQ.hasChildNodes()){var F;var kR=false;for(F=0;F<cQ.childNodes.length;F++){Gz=cQ.childNodes[F];if(Gz.nodeName!=='page'){continue;}var CN=Gz.getAttribute('id');kR=false;if(CN&&parseFloat(CN)===dk+1){kR=true;for(var ba=0;ba<Gz.childNodes.length;ba++){var ag=Gz.childNodes[ba];var aP={hG:'annotation',cd:[],bd:{}};if(ag.nodeName!=='annotation'){continue;}var Pq=Gz.childNodes[ba].attributes;if(Pq.length>0){for(var cc=0;cc<Pq.length;cc++){aP.bd[Pq[cc].name]=Pq[cc].value;}}if(ag.childNodes[0].data){aP.cd.push('<![CDATA['+ag.childNodes[0].data+']]>');}else{aP.cd.push('');}bw.cd.push(aP);}break;}}}}akD.cd.push(bw);return kc;}catch(e){throw(e.message);}};PCCViewer.ViewerControl.prototype.loadMarkup=function(recordName,options){var Ic=recordName;var aw=PCCViewer.Deferred(),cY=aw.getPromise(),bA=this;var bp=options||{};var wR=bp.retainExistingMarks;var jt=bp.markupLayer;var tw=bp.loadAsHidden;this.BG.then(function(Bp){var url,cG,Rg,aF=bA.aF,dK=bA.dK;if(typeof Ic!=="string"){aw.reject(new PCCViewer.Error("InvalidArgument","The parameter, recordName, is not a String."));}if(wR!==undefined){if(typeof wR!=='boolean'){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `retainExistingMarks` must be a boolean value if it is specified.'));}}if(jt!==undefined){if(!(jt instanceof PCCViewer.MarkupLayer)){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer if it is specified.'));}if(bA.rj.getItem(jt.getId())===undefined){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.'));}}var loadResponseHandler=function(){if(cG.readyState===4){if(cG.status===200){var Zj,Mp=cG.responseText,NF;if(Mp.indexOf('xml')=== -1){aw.reject(new PCCViewer.Error("InvalidAnnotationRecord","Did not receive valid annotation record from web server."));return;}Mp=Mp.replace(/(comment\s+text=")((?:.|[\r\n])*?)("\s+created=")/g,function(match,p1,p2,p3){return p1+IPCC.bb.ER(p2)+p3;});if(window.DOMParser){NF=function(xmlStr){return(new window.DOMParser()).parseFromString(xmlStr,"text/xml");};}else if(typeof window.ActiveXObject!=="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){NF=function(xmlStr){var xmlDoc=new window.ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlStr);return xmlDoc;};}else{NF=function(){return null;};}Zj=NF(Mp);var alu=Zj.getElementsByTagName('stampImage');var tC={};var aas=function(bh){J.bv.push(afJ.getPoint(bh));};for(var F=0;F<alu.length;F++){var SI=alu[F];tC[SI.getAttribute('imageStampId')]={imageStampId:SI.getAttribute('imageStampId'),base64format:SI.getAttribute('base64format')};}aF.set_annotationXmlDom(Zj,tC,wR===true,tw===true);if(wR!==true){bA.cP={};}var dm=bA.dK.get_length();var J;var aC,gE;var xI={};var HK=[];for(F=0;F<dm;F++){var bM=bA.aF.hu(bA.dK.getPage(F));if(bM){var Da={};var ba=0;for(ba=0;ba<bM.get_markCount();ba++){var h=bM.getMark(ba);if(bA.cP[h.get_markID()]!==undefined){continue;}gE=h.get_type();switch(gE){case IPCC.Web.UI.MarkType.Rectangle:if(h.hO()===true){if(h.get_opacity()===255){aC=PCCViewer.Mark.Type.RectangleRedaction;}else{aC=PCCViewer.Mark.Type.TransparentRectangleRedaction;}J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});}else{aC=PCCViewer.Mark.Type.RectangleAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.qs=h.get_lineWidth();J.cW=h.get_fillColor();J.sI=h.get_lineColor();J.db=h.get_opacity();}break;case IPCC.Web.UI.MarkType.Ellipse:aC=PCCViewer.Mark.Type.EllipseAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.qs=h.get_lineWidth();J.cW=h.get_fillColor();J.sI=h.get_lineColor();J.db=h.get_opacity();break;case IPCC.Web.UI.MarkType.Line:aC=PCCViewer.Mark.Type.LineAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.rH=h.get_lineWidth();J.fp=h.get_lineColor();J.db=h.get_opacity();if(h.get_endHeadType()===IPCC.Web.UI.LineHeadType.Solid){J.mF="FilledTriangle";}else{J.mF="None";}break;case IPCC.Web.UI.MarkType.Stamp:if(h.hO()===true){aC=PCCViewer.Mark.Type.StampRedaction;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});}else{aC=PCCViewer.Mark.Type.StampAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.fp=h.get_fillColor();}J.wV=h.get_text();break;case IPCC.Web.UI.MarkType.Text:if(h.hO()===true){aC=PCCViewer.Mark.Type.TextRedaction;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});}else{aC=PCCViewer.Mark.Type.TextAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.qs=h.get_lineWidth();J.cW=h.get_fillColor();J.sI=h.get_lineColor();J.db=h.get_opacity();}J.gn=h.get_fontName();J.kg=h.get_textColor();J.cS=h.get_fontSize();var ee=h.get_fontStyle();var Ka=[];if((ee&IPCC.Web.UI.FontStyle.Bold)===IPCC.Web.UI.FontStyle.Bold){Ka.push("Bold");}if((ee&IPCC.Web.UI.FontStyle.Italic)===IPCC.Web.UI.FontStyle.Italic){Ka.push("Italic");}if((ee&IPCC.Web.UI.FontStyle.Strikeout)===IPCC.Web.UI.FontStyle.Strikeout){Ka.push("Strikeout");}if((ee&IPCC.Web.UI.FontStyle.Underline)===IPCC.Web.UI.FontStyle.Underline){Ka.push("Underline");}J.ee=Ka;var tp;switch(h.get_textHorizontalAlignment()){case IPCC.Web.UI.HorizontalAlignment.Center:tp="center";break;case IPCC.Web.UI.HorizontalAlignment.Left:tp="left";break;case IPCC.Web.UI.HorizontalAlignment.Right:tp="right";break;}J.ys=tp;break;case IPCC.Web.UI.MarkType.HighlightText:case IPCC.Web.UI.MarkType.TextHyperlinkAnnotation:case IPCC.Web.UI.MarkType.TextSelectionRedaction:aC=(gE===IPCC.Web.UI.MarkType.HighlightText)?PCCViewer.Mark.Type.HighlightAnnotation:(gE===IPCC.Web.UI.MarkType.TextHyperlinkAnnotation)?PCCViewer.Mark.Type.TextHyperlinkAnnotation:PCCViewer.Mark.Type.TextSelectionRedaction;var Zr=h.cI;if(typeof xI[Zr]==='undefined'){J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,dK:dK,aF:aF,uid:h.bd.jX});J.bW=[];if(aC===PCCViewer.Mark.Type.HighlightAnnotation){J.cW=h.get_fillColor();}xI[Zr]=J;h.aH=F;h.jH=true;}else{h.aH=F;xI[Zr].bW.push(h);}break;case IPCC.Web.UI.MarkType.Freehand:aC=PCCViewer.Mark.Type.FreehandAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.rH=h.get_lineWidth();J.fp=h.get_lineColor();J.db=h.get_opacity();break;case IPCC.Web.UI.MarkType.SignaturePath:aC=PCCViewer.Mark.Type.FreehandSignature;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.rH=h.get_lineWidth();J.fp=h.get_lineColor();break;case IPCC.Web.UI.MarkType.SignatureText:aC=PCCViewer.Mark.Type.TextSignature;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.gn=h.get_fontName();J.fp=h.get_fillColor();J.al=h.get_text();break;case IPCC.Web.UI.MarkType.TextLine:aC=PCCViewer.Mark.Type.TextInputSignature;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.gn=h.get_fontName();J.kg=h.get_textColor();J.al=h.get_text();break;case IPCC.Web.UI.MarkType.RectangleRedaction:if(!h.cI){aC=PCCViewer.Mark.Type.RectangleRedaction;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,dK:dK,aF:aF,uid:h.bd.jX});J.qs=h.get_lineWidth();J.cW=h.get_fillColor();J.sI=h.get_lineColor();J.db=h.get_opacity();}else{if(Da[h.cI]===undefined){Da[h.cI]=[];}Da[h.cI].push(h);}break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:case IPCC.Web.UI.MarkType.ImageStampRedaction:aC=(gE===IPCC.Web.UI.MarkType.ImageStampAnnotation)?PCCViewer.Mark.Type.ImageStampAnnotation:PCCViewer.Mark.Type.ImageStampRedaction;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.setImage({dataUrl:h.get_image(),id:h.oZ});break;case IPCC.Web.UI.MarkType.Polyline:aC=PCCViewer.Mark.Type.PolylineAnnotation;J=new PCCViewer.Mark({type:aC,igMark:h,pageNumber:F+1,uid:h.bd.jX});J.rH=h.get_lineWidth();J.fp=h.get_lineColor();J.db=h.get_opacity();var afJ=h.get_points();J.bv=[];for(var aA=0;aA<afJ.get_length();aA++){aas(aA);}break;default:J=undefined;continue;}if(typeof J!=='undefined'&&gE!==IPCC.Web.UI.MarkType.HighlightText&& !(gE===IPCC.Web.UI.MarkType.RectangleRedaction&&h.cI!==undefined)&&gE!==IPCC.Web.UI.MarkType.TextSelectionRedaction&&gE!==IPCC.Web.UI.MarkType.TextHyperlinkAnnotation){bA.cP[h.get_markID()]=J;HK.push(J);}}for(var Oz in Da){if(Da.hasOwnProperty(Oz)&&xI[Oz]){var Fp=xI[Oz];var amV=Fp.h;if(Fp.bW&&Fp.bW.length>0){for(var NX=0;NX<Fp.bW.length;NX++){if(Fp.bW[NX].aH===F){amV=Fp.bW[NX];}}}var cl=Da[Oz];for(var Sh=0;Sh<cl.length;Sh++){amV.cl.push(cl[Sh]);}}}}}for(var pj in xI){if(xI.hasOwnProperty(pj)){var yM=xI[pj];bA.cP[yM.h.get_markID()]=yM;HK.push(yM);if(yM.bW&&yM.bW.length>0){yM.bW[yM.bW.length-1].km=true;}else{yM.h.km=true;}}}aw.resolve(Ic);if(jt!==undefined){jt.addMarks(HK);}else{bA.getActiveMarkupLayer().addMarks(HK);}bA.trigger('MarkupLoaded',{name:Ic,loadedMarks:HK});}else{aw.reject(new PCCViewer.Error("Error","Status Code "+cG.status+" "+cG.statusText));}}};Rg=IPCC.ht.so(Ic);if(!(/^[\x00-\x7F]*$/.test(bA.aG.get_documentIdentifier()))){url=bA.bp.imageHandlerUrl+'/Document/q/Art/q?DocumentID=e'+bA.bp.documentID+'&AnnotationID=e'+Rg;}else{url=bA.bp.imageHandlerUrl+'/Document/q/Art/q?DocumentID=u'+encodeURIComponent(bA.bp.documentID)+'&AnnotationID=u'+encodeURIComponent(Ic);}cG=new XMLHttpRequest();if(cG===null){aw.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}cG.open("GET",url,true);cG.setRequestHeader("Content-Type","application/x-www-form-urlencoded");cG.onreadystatechange=loadResponseHandler;cG.send();});return cY;};PCCViewer.ViewerControl.prototype.getSavedMarkupNames=function(){var aw=PCCViewer.Deferred();var cY=aw.getPromise();try{var F=0,Uq=0;var De='';var url=this.bp.imageHandlerUrl+'/AnnotationList/q/Art/q?DocumentID=u'+encodeURIComponent(this.bp.documentID)+'&AnnotationID=u'+encodeURIComponent(De);var cG;var abv=function(){var sb;if(typeof cG.responseText!=='unknown'&&cG.responseText.length>0){try{sb=JSON.parse(cG.responseText);}catch(e){}var Wb=[];if(cG.readyState===4){if(cG.status===200){for(F;F<sb.annotationFiles.length;F++){if(sb.annotationFiles[F].annotationLabel){Wb[Uq]={};Wb[Uq].name=sb.annotationFiles[F].annotationLabel;Uq++;}}aw.resolve(Wb);}else{aw.reject(new PCCViewer.Error("MarkupListFail","Unable to retrieve markup list from server."));}}}};cG=new XMLHttpRequest();if(cG===null){aw.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}cG.open("GET",url,true);cG.onreadystatechange=abv;cG.send();}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return cY;};PCCViewer.ViewerControl.prototype.getMarkupLayerCollection=function(){if(!this.rj){this.rj=new PCCViewer.MarkupLayerCollection(this);}return this.rj;};PCCViewer.ViewerControl.prototype.requestMarkupLayerNames=function(metadata){var aw=PCCViewer.Deferred(),cY=aw.getPromise(),dc,axS=function(obj){var parts=[];for(var key in obj){if(obj.hasOwnProperty(key)&&(typeof obj[key]==='string'||typeof obj[key]==='boolean'||typeof obj[key]==='number')){parts.push(encodeURIComponent(key)+'='+encodeURIComponent(obj[key]));}}return "?"+parts.join('&');};if(!(/^[\x00-\x7F]*$/.test(this.aG.get_documentIdentifier()))){dc=this.bp.imageHandlerUrl+'/MarkupLayers/e'+this.bp.documentID+'/';}else{dc=this.bp.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.bp.documentID)+'/';}if(metadata){var ayz=axS(metadata);dc+=ayz;}dc+='?nocache='+new Date().getTime();IPCC.bb.Lx({url:dc,method:'GET'}).then(function onResolve(lb){var auv=JSON.parse(lb);aw.resolve(auv);},function onReject(FZ){aw.reject(new PCCViewer.Error("Error",FZ.message));});return cY;};PCCViewer.ViewerControl.prototype.getActiveMarkupLayer=function(){return this.xq;};PCCViewer.ViewerControl.prototype.setActiveMarkupLayer=function(markupLayer){if(!(markupLayer instanceof PCCViewer.MarkupLayer)){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` must be an instance of PCCViewer.MarkupLayer.');}if(this.rj.getItem(markupLayer.getId())===undefined){throw new PCCViewer.Error('InvalidArgument','The parameter `markupLayer` is a markup layer unknown to the viewer.');}this.xq=markupLayer;};PCCViewer.ViewerControl.prototype.loadMarkupLayers=function(layerRecordIds,options){var YH,C=this;YH=new PCCViewer.LoadMarkupLayersRequest(layerRecordIds,this,options||{});function HI(){setTimeout(function(){YH.Ik();},20);};function Af(){C.off(PCCViewer.EventType.PageCountReady,Af);HI();};if(this.pZ===false){C.on(PCCViewer.EventType.PageCountReady,Af);}else{HI();}return YH;};PCCViewer.ViewerControl.prototype.saveMarkupLayer=function(id){var aw=PCCViewer.Deferred();var cY=aw.getPromise();var C=this;if(typeof id!=='string'|| !id){aw.reject(new PCCViewer.Error('InvalidArgument','The parameter `id` is not a string.'));return cY;}var gJ=this.rj?this.rj.getItem(id):undefined;if(!gJ){aw.reject(new PCCViewer.Error('UnknownLayerRecord','The layer record '+id+' is not known to ViewerControl'));return cY;}function arh(qx){var KP=gJ.getMarks();if(!KP.length){qx(undefined,[]);}else{C.serializeMarks(KP).then(function jf(ay){qx(undefined,IPCC.bb.map(ay,function(J){if(J.conversation&&J.conversation.comments){delete J.conversation.comments;}return J;}));},function _f(eS){qx(eS);});}};function aqp(qx){var KP=gJ.getMarks();var WY=function(fM,hI,mY){var QK=IPCC.bb.filter(hI,function(oP){return!oP.jt||oP.jt===gJ;});IPCC.bb.forEach(QK,function(cr){var bg=PCCViewer.en.Comment(cr);bg.markUid=mY;fM.push(bg);});return fM;};var SG=IPCC.bb.reduce(KP,function(fM,J){var cK=J.getConversation();var hI=cK.getComments();return hI.length?WY(fM,hI,J.getUid()):fM;},[]);qx(undefined,SG);};function aqh(qx){var aAo=IPCC.bb.reduce(C.rj.getAll(),function(fM,amr){return fM.concat(gJ===amr?[]:amr.getMarks());},[]);var WY=function(fM,hI,mY){var QK=IPCC.bb.filter(hI,function(oP){return oP.jt===gJ;});IPCC.bb.forEach(QK,function(oP){var bg=PCCViewer.en.Comment(oP);bg.markUid=mY;fM.push(bg);});return fM;};var SG=IPCC.bb.reduce(aAo,function(fM,J){var cK=J.getConversation();var hI=cK.getComments();return hI.length?WY(fM,hI,J.getUid()):fM;},[]);qx(undefined,SG);};var adj=[],aCk=function(rn){if(rn.markupLayer===gJ){adj.push({text:rn.text,data:rn.data,creationDateTime:rn.creationDateTime,markUid:rn.markUid});}};for(var acG in this.rj.jx){if(this.rj.jx.hasOwnProperty(acG)){IPCC.bb.forEach(this.rj.jx[acG],aCk);}}var Bz={layerRecordId:gJ.getRecordId(),name:gJ.getName(),originalXmlName:gJ.getOriginalXmlName(),comments:adj,data:PCCViewer.en.Data(gJ)};var xp;IPCC.bb.VZ([function(oJ){arh(function(cR,cj){if(cR&& !xp){xp=cR;}else{Bz.marks=cj;}oJ();});},function(oJ){aqp(function(cR,cj){if(cR&& !xp){xp=cR;}else{Bz.comments=Bz.comments.concat(cj);}oJ();});},function(oJ){aqh(function(cR,cj){if(cR&& !xp){xp=cR;}else{Bz.comments=Bz.comments.concat(cj);}oJ();});}],function(){if(!xp){arQ(Bz);}else{aw.reject(new PCCViewer.Error('SerializationError',xp.message));}});function arQ(aFu){var RJ,Qn={method:'POST',body:JSON.stringify(Bz),headers:{'Content-Type':'application/json'}};if(!(/^[\x00-\x7F]*$/.test(C.aG.get_documentIdentifier()))){RJ=C.bp.imageHandlerUrl+'/MarkupLayers/e'+C.bp.documentID+'/';}else{RJ=C.bp.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(C.bp.documentID)+'/';}if(gJ.getRecordId()){Qn.url=RJ+gJ.getRecordId();Qn.headers['X-HTTP-Method-Override']='PUT';}else{Qn.url=RJ;}IPCC.bb.Lx(Qn).then(anM,ark);};function anM(sF){if(sF&&typeof sF==='string'){var LO;try{LO=JSON.parse(sF);}catch(e){}if(LO&&LO.layerRecordId){gJ.Uf=LO.layerRecordId;}}aw.resolve({layerRecordId:gJ.getRecordId()});};function ark(eS){aw.reject(new PCCViewer.Error('AjaxError',eS.message||'An unknown server error occured.'));};return cY;};PCCViewer.ViewerControl.prototype.burnMarkup=function(burnOptions){var GD={burnSignatures:true,burnRedactions:true};var acy;if(burnOptions){GD.burnSignatures=(burnOptions.burnSignatures!==undefined)? ! !burnOptions.burnSignatures:true;GD.burnRedactions=(burnOptions.burnRedactions!==undefined)? ! !burnOptions.burnRedactions:true;if(typeof burnOptions.filename==='string'){GD.filename=burnOptions.filename;}}var apn={includeAnnotations:false,includeRedactions:GD.burnRedactions,includeSignatures:GD.burnSignatures,JN:true};var Ja=new PCCViewer.BurnRequest(GD),C=this;function akU(){Vo(C,apn,function(cR,acy){if(cR){setTimeout(function(){Ja.aBd(cR);},20);}else{Ja.aaF({aG:C.aG,bp:C.bp});Ja.aAQ(acy);setTimeout(function(){Ja.Ik();},20);}});};function Af(){C.off(PCCViewer.EventType.PageCountReady,Af);akU();};if(this.pZ===false){C.on(PCCViewer.EventType.PageCountReady,Af);}else{akU();}return Ja;};PCCViewer.ViewerControl.prototype.convertDocument=function(aoo){var Mg,C=this,Kw={targetExtension:'pdf',filename:'document'},bp={};PCCViewer.zR.uu(bp,Kw,aoo);Mg=new PCCViewer.ConversionRequest(bp);function HI(){Mg.aaF({aG:C.aG,bp:C.bp});setTimeout(function(){Mg.Ik(bp);},20);};function Af(){C.off(PCCViewer.EventType.PageCountReady,Af);HI();};if(this.pZ===false){C.on(PCCViewer.EventType.PageCountReady,Af);}else{HI();}return Mg;};function sA(){return function(sender,eventArgs){var C=this;var J=C.cP[eventArgs.mark.get_markID()];if(C.tK){C.xq.addMarks(J);}setTimeout(function(){if(J){C.trigger('MarkCreated',{mark:J,pageNumber:eventArgs.pageIndex+1,clientX:eventArgs.clientX,clientY:eventArgs.clientY});}},0);};};function asg(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setThickness(aK.getThickness());J.setColor(aK.getColor());J.setOpacity(aK.getOpacity());J.setEndHeadType(aK.getEndHeadType());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function amq(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setBorderThickness(aK.getBorderThickness());J.setFillColor(aK.getFillColor());J.setBorderColor(aK.getBorderColor());J.setOpacity(aK.getOpacity());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function asI(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;},onAdded:sA()};};function arg(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setReason(aK.getReason());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function apI(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setBorderThickness(aK.getBorderThickness());J.setFillColor(aK.getFillColor());J.setBorderColor(aK.getBorderColor());J.setOpacity(aK.getOpacity());J.setFontName(aK.getFontName());J.setFontColor(aK.getFontColor());J.setFontSize(aK.getFontSize());J.setFontStyle(aK.getFontStyle());J.setHorizontalAlignment(aK.getHorizontalAlignment());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function ahe(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setFontName(aK.getFontName());J.setFontColor(aK.getFontColor());J.setText(aK.getText());if(J.setFontSize){J.setFontSize(aK.getFontSize());}PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function aqQ(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;if(aK.getType()===PCCViewer.MouseTool.Type.StampAnnotation){J.setColor(aK.getColor());}J.setLabel(aK.getLabel());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};var aDY;function Wl(aK){return{onCreating:function(bz,R){},onAdded:sA()};};function aoI(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setThickness(aK.getThickness());J.setColor(aK.getColor());J.setOpacity(aK.getOpacity());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function akE(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setImage(aK.getImage());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};function apF(aK){return{onCreating:function(bz,R){var J=new PCCViewer.Mark({type:aK.getType(),igMark:R.mark,pageNumber:R.pageIndex+1});this.cP[R.mark.get_markID()]=J;J.setThickness(aK.getThickness());J.setColor(aK.getColor());J.setOpacity(aK.getOpacity());PCCViewer.Data.qw(aK,J);PCCViewer.Conversation.sj(aK.getConversation(),J.getConversation());},onAdded:sA()};};PCCViewer.ViewerControl.prototype.setMarkHandleMode=function(markHandleMode){var yJ;switch(markHandleMode){case PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose:yJ=IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose;break;case PCCViewer.MarkHandleMode.HideSideHandlesWhenClose:yJ=IPCC.Web.UI.MarkHandleMode.HideSideHandlesWhenClose;break;default:throw new RangeError("The value of markHandleMode is not a supported value.");}if(this.aF&&this.aF.set_markHandleMode){this.aF.set_markHandleMode(yJ);}else{this.bp.markHandleMode=yJ;}return this;};PCCViewer.ViewerControl.prototype.getMarkHandleMode=function(){var yJ;if(this.aF&&this.aF.get_markHandleMode){yJ=this.aF.get_markHandleMode();}else{yJ=this.bp.markHandleMode;}if(yJ===IPCC.Web.UI.MarkHandleMode.HideCornerHandlesWhenClose){return PCCViewer.MarkHandleMode.HideCornerHandlesWhenClose;}else{return PCCViewer.MarkHandleMode.HideSideHandlesWhenClose;}};PCCViewer.ViewerControl.prototype.setConversationDOMFactory=function(factoryFunction){if(typeof(factoryFunction)!=='function'){throw new Error("The parameter factoryFunction is not a function.");}this.qk=factoryFunction;return this;};PCCViewer.ViewerControl.prototype.getConversationDOMFactory=function(){return this.qk;};PCCViewer.ViewerControl.prototype.refreshConversations=function(conversations){var Uv,adF=(conversations===undefined);function ahn(cK,cB){throw new Error(cK+((cB!==undefined)?' (Array index '+cB+')':'')+' is not a valid PCCViewer.Conversation object.');};function asj(cK,cB){throw new Error(cK+((cB!==undefined)?' (Array index '+cB+')':'')+' is not a known conversation in this ViewerControl.');};if(conversations instanceof PCCViewer.Conversation){Uv=[conversations];}else if(conversations instanceof Array){Uv=conversations;}else if(!adF){ahn(conversations);}var agE=IPCC.bb.map(this.getAllMarks(),function(aS){return aS.getConversation();});var Zw=IPCC.bb.map(Uv||agE,function(aS,F){if(!(aS instanceof PCCViewer.Conversation)){ahn(aS,F);}if(!adF&& !IPCC.bb.inArray(agE,aS)){asj(aS,F);}return aS.getMark().cD;});this.aF.refreshConversations(Zw);return this;};PCCViewer.ViewerControl.prototype.openCommentsPanel=function(){if(this.eW===false){throw new Error("The method openCommentsPanel is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){throw new Error("The page layout must be set to vertical to use the comments panel.");}this.aF.openCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:true});},10);return this;};PCCViewer.ViewerControl.prototype.closeCommentsPanel=function(){if(this.eW===false){throw new Error("The method closeCommentsPanel is not available until 'ViewerReady' state is reached.");}this.aF.closeCommentsPanel();var C=this;setTimeout(function(){C.trigger("CommentsPanelToggled",{isOpen:false});},10);return this;};PCCViewer.ViewerControl.prototype.getIsCommentsPanelOpen=function(){if(this.eW===false){throw new Error("The method getIsCommentsPanelOpen is not available until 'ViewerReady' state is reached.");}if(this.getPageLayout()===PCCViewer.PageLayout.Horizontal){return false;}return this.aF.get_isCommentsPanelOpen();};PCCViewer.ViewerControl.prototype.setSelectedConversation=function(conversation){if(this.eW===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(conversation===null||conversation===undefined){this.aF.set_selectedConversation(undefined);return this;}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error("The parameter conversation is not an instance of PCCViewer.Conversation.");}var lX=conversation.getMark();if(lX){var yf=lX.h.get_conversation();this.aF.set_selectedConversation(yf);}else{throw new Error("The conversation is unknown to the viewer control.");}return this;};PCCViewer.ViewerControl.prototype.getSelectedConversation=function(){if(this.eW===false){return null;}var jo=this.aF.get_selectedConversation();if(jo){var lX=this.cP[jo.get_mark().get_markID()];if(lX){return lX.getConversation();}}return null;};PCCViewer.ViewerControl.prototype.clearMouseSelectedText=function(textSelection){if(!textSelection){throw new Error('textSelection is a required parameter');}else if(typeof textSelection.startIndex!=='number'||textSelection.startIndex<0){throw new Error('Start index value '+textSelection.startIndex+' is not a valid value.');}else if(typeof textSelection.pageNumber!=='number'||textSelection.pageNumber<1||textSelection.pageNumber>this.getPageCount()){throw new Error('Page number value '+textSelection.pageNumber+' is not a valid value.');}else if(typeof textSelection.length!=='number'||textSelection.length<1){throw new Error('Length value '+textSelection.pageNumber+' is not a valid value.');}var C=this,XP=C.dN;function akA(aH,lU,dm){var abw=[aH+1];var bw=C.dK.getPage(aH),ir=bw.dJ();if(ir.nm()){var al=ir.EG(),abe=al.substr(lU);if(abe.length>dm){return abw;}else{return abw.concat(akA(aH+1,0,dm-abe.length));}}else{return abw;}};this.aF.xm();if(XP&&XP.getResults().length){var cQ=akA(textSelection.pageNumber-1,textSelection.startIndex,textSelection.length),gR=XP.getResults(),agH=false,Qq={};if(gR.length){IPCC.bb.forEach(gR,function(aS){var alI=IPCC.bb.contains(cQ,aS.bI);if(alI){agH=true;Qq[aS.bI]=Qq[aS.bI]||[];Qq[aS.bI].push(aS);}});}if(agH){IPCC.bb.forEach(Qq,function(auY,bI){C.ahg(bI,auY);});}}return this;};PCCViewer.ViewerControl.prototype.convertPageToWindowCoordinates=function(pageNumber,points){if(this.eW===false){throw new Error("The method setSelectedConversation is not available until 'ViewerReady' state is reached.");}if(!pageNumber||typeof pageNumber!=='number'||pageNumber<1||pageNumber>this.getPageCount()){throw new PCCViewer.Error('InvalidArgument','pageNumber is not a known page number in the document');}var wj=function(n){return typeof n==='number'&& !isNaN(n);};var xV,adz=true;if(points&&points.constructor===Array){xV=points;}else{xV=[points];adz=false;}var aam=function(aT,cB,cg){throw new PCCViewer.Error('InvalidArgument',aT+' (Array index '+cB+') does not have a valid '+cg+' property');};if(xV.length===0|| !points){throw new PCCViewer.Error('InvalidArgument','At least one point is required');}IPCC.bb.forEach(xV,function(aT,cB){if(!wj(aT.x)){aam(aT,cB,'x');}if(!wj(aT.y)){aam(aT,cB,'y');}});var CY=this.aF.aAZ(pageNumber,xV);if(CY===null){return null;}else if(adz){return CY;}else{return CY[0];}};if(Object.defineProperties){Object.defineProperties(PCCViewer.ViewerControl.prototype,{"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();},set:function(value){return this.setPageNumber(value);}},"searchRequest":{enumerable:true,get:function(){return this.dN;}},"selectedSearchResult":{enumerable:true,get:function(){return this.getSelectedSearchResult();},set:function(val){return this.setSelectedSearchResult(val,true);}},"currentMouseTool":{enumerable:true,get:function(){return this.getCurrentMouseTool();},set:function(value){return this.setCurrentMouseTool(value);}},"atMaxScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMaxScale},"atMinScale":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getAtMinScale},"scaleFactor":{enumerable:true,get:function(){return this.getScaleFactor();},set:function(value){return this.setScaleFactor(value);}},"selectedMarks":{enumerable:true,get:PCCViewer.ViewerControl.prototype.getSelectedMarks},"viewMode":{enumerable:true,get:function(){return this.getViewMode();},set:function(value){return this.setViewMode(value);}},"isCommentsPanelOpen":{enumerable:true,get:function(){return this.getIsCommentsPanelOpen();}},"selectedConversation":{enumerable:true,get:function(){return this.getSelectedConversation();},set:function(conversation){return this.setSelectedConversation(conversation);}},"redactionViewMode":{enumerable:true,get:function(){return this.getRedactionViewMode();},set:function(value){return this.setRedactionViewMode(value);}},"markHandleMode":{enumerable:true,get:function(){return this.getMarkHandleMode();},set:function(value){return this.setMarkHandleMode(value);}}});}PCCViewer.FitType={FullWidth:"FullWidth",ShrinkToWidth:"ShrinkToWidth",ActualSize:"ActualSize",FullHeight:"FullHeight",FullPage:"FullPage"};PCCViewer.ViewMode={Document:"Document",EqualWidthPages:"EqualWidthPages",SinglePage:"SinglePage",EqualFitPages:"EqualFitPages"};PCCViewer.PageLayout={Horizontal:"Horizontal",Vertical:"Vertical"};PCCViewer.EventType={ViewerReady:"ViewerReady",PageCountReady:"PageCountReady",EstimatedPageCountReady:"EstimatedPageCountReady",PageChanged:"PageChanged",PageLoadFailed:"PageLoadFailed",PageDisplayed:"PageDisplayed",PageRotated:"PageRotated",DocumentRotated:"DocumentRotated",ScaleChanged:"ScaleChanged",DocumentPrinted:"DocumentPrinted",TextSelected:"TextSelected",MouseToolChanged:"MouseToolChanged",SearchPerformed:"SearchPerformed",PartialSearchResultsAvailable:"PartialSearchResultsAvailable",SearchCompleted:"SearchCompleted",SearchFailed:"SearchFailed",SearchCancelled:"SearchCancelled",SearchResultsAvailable:"SearchResultsAvailable",SearchCleared:"SearchCleared",SearchResultSelectionChanged:"SearchResultSelectionChanged",PrintRequested:"PrintRequested",MarkupLoaded:"MarkupLoaded",MarkupSaved:"MarkupSaved",MarkChanged:"MarkChanged",MarkCreated:"MarkCreated",MarkRemoved:"MarkRemoved",MarkReordered:"MarkReordered",MarkSelectionChanged:"MarkSelectionChanged",CommentsPanelToggled:"CommentsPanelToggled",CommentCreated:"CommentCreated",CommentRemoved:"CommentRemoved",CommentChanged:"CommentChanged",PageTextReady:"PageTextReady",Click:"Click"};PCCViewer.RedactionViewMode={Draft:"Draft",Normal:"Normal"};PCCViewer.ScaleTrigger={Pinch:"Pinch",Zoom:"Zoom",Fit:"Fit",ViewMode:"ViewMode"};PCCViewer.MarkHandleMode={HideSideHandlesWhenClose:"HideSideHandlesWhenClose",HideCornerHandlesWhenClose:"HideCornerHandlesWhenClose"};}());PCCViewer.zR={};PCCViewer.zR.uu=function(target){"use strict";var source;if(!target){throw new Error("target must be defined.");}else if(typeof target!=='object'){throw new Error("typeof target must be 'object'");}else{for(var i=1;i<arguments.length;i++){source=arguments[i];for(var property in source){if(source.hasOwnProperty(property)){target[property]=source[property];}}}}return target;};(function(PCCViewer,undefined){"use strict";var printAlgorithm={standard:1,contentWindowContents:2};var VX=function VX(bg,bS,G){if(bg.addEventListener){bg.addEventListener(bS,G,false);}else if(bg.attachEvent){bg.attachEvent('on'+bS,G);}};var WC=function WC(bg,bS,G){if(bg.removeEventListener){bg.removeEventListener(bS,G,false);}else if(bg.detachEvent){bg.detachEvent('on'+bS,G);}};function apS(eT){var Pk={};eT=eT.split('&');for(var i=eT.length;i--;){var q=eT[i].split('=');Pk[q.shift()]=q.join('=');}return Pk;};function asS(){var OX=document.getElementById('pccPrintFrame');if(OX){OX.contentWindow['destroy']();OX.parentElement.removeChild(OX);}};function asr(bp,vN,alo,akd,np){asS();if(!bp.algorithm){bp.algorithm=printAlgorithm.standard;}var dv;var hC=document.createElement('iframe');hC.id='pccPrintFrame';hC.className='pccPrintFrame';hC.style.position='absolute';hC.style.bottom=hC.style.right='0px';hC.style.width=hC.style.height='1px';hC.style.zIndex='0';hC.style.border='none';if(bp.algorithm!==printAlgorithm.contentWindowContents){hC.style.visibility='0';}function Qv(){WC(window,'message',akW);};function akP(){WC(hC,'load',akP);if(hC.contentDocument){dv=hC.contentDocument;}else if(hC.contentWindow){dv=hC.contentWindow.document;}else{dv=hC.document;}if(bp.algorithm===printAlgorithm.contentWindowContents){hC.contentWindow.contents=bp.template;hC.src='javascript:window["contents"]';}else{dv.open();dv.write(bp.template);dv.close();}np();};var akW=function(message){if(message.data.match(/loadArt/)){var afN=JSON.parse(message.data);var bM=alo(afN.pageIndex);hC.contentWindow[afN.callbackName](bM);}else if(message.data==='extra'){var Kx=akd(bp);hC.contentWindow['extra'](bp.encryption,Kx);}else if(message.data==='done'){if(bp.algorithm===printAlgorithm.contentWindowContents){setTimeout(function(){hC.contentWindow.focus();hC.contentWindow.document.execCommand('print',false,null);window.focus();Qv();vN.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);},200);}else{hC.contentWindow.focus();hC.contentWindow.print();window.focus();Qv();vN.trigger(PCCViewer.PrintRequest.EventType.PrintCompleted);}}else if(message.data==='fail'){Qv();vN.trigger(PCCViewer.PrintRequest.EventType.PrintFailed);}else{var tx=apS(message.data);tx.index= +tx.index;tx.pageNumber= +tx.pageNumber;tx.totalPages= +tx.totalPages;vN.aaz= +tx.index+1;vN.trigger(PCCViewer.PrintRequest.EventType.PrintPagePrepared,tx);}};VX(window,'message',akW);VX(hC,'load',akP);document.body.appendChild(hC);return Qv;};function atf(df){return function alo(aH){return df.aF.hu(df.dK.getPage(aH));};};function asx(df){return function akd(options){var ay,J,wY=[],Bm=[],DB={},Iu={},yE={},eS={},GF='',aiq,cK,bh,Ke,ar,Kj,bI,akv={},BA={},F=0,cc=0,ba=0,aAv=function(a,b){return a-b;};if(options.includeComments!=='none'||options.includeReasons!=='none'){ay=df.getAllMarks();for(F=0;F<options.pages.length;F++){akv[options.pages[F]]=true;}for(cc=0;cc<ay.length;cc++){J=ay[cc];bI=J.bI;if(options.includeReasons!=='none'&&J.getReason){GF=J.getReason();if(GF){if(!yE[bI]){eS[GF]=1;yE[bI]=eS;eS={};}else{if(yE[bI][GF]){yE[bI][GF]+=1;}else{yE[bI][GF]=1;}}}}if(J.ps||J.aE.search("Redaction")!== -1){if(BA[bI]){BA[bI]+=1;}else{BA[bI]=1;}}if(options.range.length&&akv[bI]!==true|| !options.includeRedactions&&J.ps|| !options.includeAnnotations&& !J.ps){continue;}cK=J.getConversation();if(cK&&cK.getComments().length){if(!Ke){Ke=bI;}else if(bI!==Ke){wY.sort(aAv);for(ba=0;ba<wY.length;ba++){Bm=Bm.concat(DB[wY[ba]]);}Iu[Ke]=Bm;Ke=bI;wY=[];DB={};Bm=[];}bh=df.getCharacterIndex(J);aiq=bI;ar=J.h.get_boundingRectangle();Kj=(bh>0)?bh*10000+ar.y:ar.y;wY.push(Kj);if(!DB[Kj]){DB[Kj]=[cK];}else{DB[Kj].push(cK);}}}if(wY.length){wY.sort(function(a,b){return a-b;});for(F=0;F<wY.length;F++){Bm=Bm.concat(DB[wY[F]]);}Iu[aiq]=Bm;}}return{Iu:Iu,yE:yE,BA:BA};};};PCCViewer.ViewerControl.prototype.print=function print(options){options=options||{};options.range=options.range||'all';options.orientation=(options.orientation&&options.orientation.toLowerCase()==='landscape')?'landscape':'portrait';options.paperSize=options.paperSize||'letter';options.margins=(options.margins&&options.margins.toLowerCase()==='none')?'none':'default';options.includeMarks=options.includeMarks!==undefined?(! !options.includeMarks&&this.canPrintMarks()):undefined;options.includeAnnotations=options.includeAnnotations!==undefined?(! !options.includeAnnotations&&this.canPrintMarks()):undefined;options.includeRedactions=options.includeRedactions!==undefined?(! !options.includeRedactions&&this.canPrintMarks()):undefined;options.includeComments=(options.includeComments)?options.includeComments:'none';options.includeReasons=(options.includeReasons)?options.includeReasons:'none';options.redactionViewMode=(options.redactionViewMode)?options.redactionViewMode:'Normal';if(options.includeAnnotations===undefined){options.includeAnnotations=options.includeMarks;}if(options.includeRedactions===undefined){options.includeRedactions=options.includeMarks;}var cQ=PCCViewer.Util.convertPageRangeToArray(options.range.toString().toLowerCase(),{upperLimit:this.getPageCount()});var qu=this.bp.imageHandlerUrl;var arX=this.bp.documentID;var aoJ=this.avM;options.vsID=arX;options.handler=qu;options.pages=cQ;var isOldIE= ! !navigator.appName.match('Microsoft');var isEdge= ! !navigator.userAgent.match('Edge');var isIE= ! !navigator.userAgent.match('Trident');var isSafari= ! !(navigator.userAgent.search('Safari')>=0&&navigator.userAgent.search('Chrome')<0);options.template=aoJ.replace(/{{viewingSessionId}}/g,options.vsID).replace(/{{handler}}/g,options.handler).replace(/{{pages}}/g,options.pages.join(',')).replace(/{{orientation}}/g,options.orientation).replace(/{{paperSize}}/g,options.paperSize).replace(/{{isIE}}/g,isIE.toString()).replace(/{{isSafari}}/g,isSafari.toString()).replace(/{{includeAnnotations}}/g,options.includeAnnotations).replace(/{{includeRedactions}}/g,options.includeRedactions).replace(/{{includeComments}}/g,options.includeComments).replace(/{{includeReasons}}/g,options.includeReasons).replace(/{{margins}}/g,options.margins).replace(/{{redactionViewMode}}/g,options.redactionViewMode);options.encryption= ! !this.bp.encryption;if(isOldIE||isEdge){options.algorithm=printAlgorithm.contentWindowContents;}var Tf;function bC(){if(! !Tf){Tf();}};var vN=new PCCViewer.PrintRequest(options,cQ.length,bC,this);this.trigger(PCCViewer.EventType.PrintRequested,{printRequest:vN});Tf=asr(options,vN,atf(this),asx(this),function(){});return vN;};PCCViewer.ViewerControl.prototype.validatePrintRange=function validatePrintRange(range){return PCCViewer.Util.validatePageRange(range.toString().toLowerCase(),{upperLimit:this.getPageCount()});};PCCViewer.ViewerControl.prototype.canPrintMarks=function canPrintMarks(){return(document.documentMode!==8);};PCCViewer.PrintRequest=function(options,totalPages,cancelFunc,that){this.bp=options;this.bC=cancelFunc;this.aaz=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.PrintRequest.EventType={PrintPagePrepared:"PrintPagePrepared",PrintCompleted:"PrintCompleted",PrintCancelled:"PrintCancelled",PrintFailed:"PrintFailed"};PCCViewer.PrintRequest.prototype.cancel=function(){this.bC();this.trigger(PCCViewer.PrintRequest.EventType.PrintCancelled);};PCCViewer.PrintRequest.prototype.getOptions=function(){return{range:this.bp.pages.toString(),orientation:this.bp.orientation,paperSize:this.bp.paperSize,includeMarks:this.bp.includeMarks,includeAnnotations:this.bp.includeAnnotations,includeRedactions:this.bp.includeRedactions,margins:this.bp.margins};};PCCViewer.PrintRequest.prototype.getPageCount=function(){return this.bp.pages.length;};PCCViewer.PrintRequest.prototype.getPreparedCount=function(){return this.aaz;};if(Object.defineProperties){Object.defineProperties(PCCViewer.PrintRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"pageCount":{enumerable:true,get:function(){return this.getPageCount();}},"preparedCount":{enumerable:true,get:function(){return this.getPreparedCount();}}});}PCCViewer.PrintControl=function(domElement,options){var acH=[];options.includeAnnotations=options.includeAnnotations!=='false';options.includeRedactions=options.includeRedactions!=='false';domElement.className=domElement.className+' '+options.orientation;function BB(n){(window.parent)?window.parent.postMessage(n,'*'):window.opener.postMessage(n,'*');};function aqF(bI,Ib){var fS=[];fS.push("pageNumber="+(1+bI));fS.push("index="+Ib);fS.push("totalPages="+options.pages.length);return fS.join('&');};function kX(bI,Ib,next){var bf={documentIdentifier:options.vsID,pageNumber:bI,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:options.handler,encryption:options.encryption};var iB=document.createElement('div');iB.className=options.paperSize+" ";iB.className+=options.isIE?'pageIE':options.isSafari?'pageSafari':'page';iB.id='printpage'+bI;if(options.margins==='none'){iB.className+=' nomargins';}domElement.appendChild(iB);var pv=IPCC.initializePageViewPlugin(iB,bf);pv.set_debug(false);acH.push(pv);var yI=false;function HA(){BB(aqF(bI,Ib));next();};pv.add_pageOpened(function(){var ai=pv.lG(),bE=pv.nh();var zZ=(options.orientation==='portrait'&&ai>bE)||(options.orientation==='landscape'&&bE>ai);if(zZ){pv.zZ(90);}});pv.add_pageDisplayed(function(){if(!yI){HA();}});pv.add_textPageReady(function(){if(yI){pv.dF();HA();}});pv.add_pageOpenFailed(function(){BB('fail');});pv.add_textExtractionFailed(function(){if(yI){BB('fail');}});if(options.redactionViewMode){if(options.redactionViewMode.toLowerCase()==="draft"){pv.rg(true);}else if(options.redactionViewMode.toLowerCase()==="normal"){pv.rg(false);}}if(PCCViewer.ViewerControl.prototype.canPrintMarks()&&(options.includeAnnotations||options.includeRedactions)){var ahV='loadArt'+bI;var tx={pageIndex:bI,callbackName:ahV};window[ahV]=function(bM){var ph,Rm,F,cK={},LW={},Bl='',nH,Ml,eS,Fv='';var MJ=[];bM.FJ(function(J){if(J.get_type()===IPCC.Web.UI.MarkType.HighlightText){yI=true;}if(options.includeRedactions&&J.hO()){MJ.push(J);}if(options.includeAnnotations&& !J.hO()){MJ.push(J);}});var acE=new IPCC.Web.UI.ArtPage();IPCC.bb.forEach(MJ,function(J){J.kZ(undefined);acE.addMark(J);});bf.artPage=acE;LW=options.pagedConversations[bI+1];if(options.pagedConversations&&LW&&options.includeComments==='followingPage'){ph=document.createElement('div');ph.className+='commentPage';ph.id='printcommentpage'+bI;if(options.margins==='none'){ph.className+=' nomargins';}Rm='<h1>Comments for Page {{pageNumber}}</h1><hr><div class="pageConversations">{{conversationList}}</div>';for(F=0;F<LW.length;F++){cK=LW[F];Bl+=ajG(cK,bI+1);}ph.innerHTML=Rm.replace('{{pageNumber}}',bI+1).replace('{{conversationList}}',Bl);domElement.appendChild(ph);}Ml=options.pagedReasons[bI+1];if(options.pagedReasons&&Ml&&options.includeReasons==='followingPage'){nH=document.createElement('div');nH.className+='reasonPage';nH.id='printreasonpage'+bI;if(options.margins==='none'){nH.className+=' nomargins';}Rm='<h1>Redaction Reasons for Page {{pageNumber}}</h1>'+'<div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr>'+'<div class="pageReasons">{{reasonList}}</div>';for(eS in Ml){if(Ml.hasOwnProperty(eS)){Fv+=akh(eS,Ml[eS]);}}nH.innerHTML=Rm.replace('{{pageNumber}}',bI+1).replace('{{reasonList}}',Fv).replace('{{date}}',ajM()).replace('{{count}}',options.pagedRedactionCount[bI+1]);domElement.appendChild(nH);}pv.openPage(bf);IPCC.bb.forEach(MJ,function(J){J.kZ(bM);});};BB(JSON.stringify(tx));}else{pv.openPage(bf);}};function ajG(cK,bI){var aiR='',kv='',J=cK.getMark(),hI,cr,F;switch(J.h.lo()){case IPCC.Web.UI.MarkType.Rectangle:kv=(J.h.hO())?'Highlight Redaction ':'Rectangle Annotation';break;case IPCC.Web.UI.MarkType.Ellipse:kv='Ellipse Annotation';break;case IPCC.Web.UI.MarkType.RectangleRedaction:kv='Rectangle Redaction';break;case IPCC.Web.UI.MarkType.Line:kv=(J.mF==='None')?'Line Annotation':'Arrow Annotation';break;case IPCC.Web.UI.MarkType.Polyline:kv='Polyline Annotation';break;case IPCC.Web.UI.MarkType.Polygon:kv='Polygon Annotation';break;case IPCC.Web.UI.MarkType.Text:kv='Text Annotation';break;case IPCC.Web.UI.MarkType.Highlight:kv='Highlight Annotation';break;case IPCC.Web.UI.MarkType.Stamp:kv='Stamp Annotation';break;case IPCC.Web.UI.MarkType.HighlightText:kv='Highlight Text Annotation';break;case IPCC.Web.UI.MarkType.SignaturePath:kv='Signature Path';break;case IPCC.Web.UI.MarkType.Freehand:kv='Freehand Annotation';break;case IPCC.Web.UI.MarkType.SignatureText:kv='Signature Text';break;case IPCC.Web.UI.MarkType.TextLine:kv='Text Input Signature';break;case IPCC.Web.UI.MarkType.SignatureImage:kv='Signature Image';break;case IPCC.Web.UI.MarkType.TextSelectionRedaction:kv='Text Selection Redaction';break;case IPCC.Web.UI.MarkType.ImageStampAnnotation:kv='Image Stamp Annotation';break;case IPCC.Web.UI.MarkType.ImageStampRedaction:kv='Image Stamp Redaction';break;default:break;}hI=cK.getComments();for(F=0;F<hI.length;F++){cr=hI[F];aiR+='<li>'+atP({text:cr.getText(),createDate:cr.qE.ZQ,pageNumber:bI+1})+'</li>';}return '<h3>'+kv+'</h3><ul>'+aiR+'</ul>';};function atP(cr){var gl=new Date(cr.createDate),Vi='{{month}}/{{day}}/{{year}} {{hour}}:{{minutes}}{{period}}'.replace('{{month}}',gl.getMonth()+1).replace('{{day}}',gl.getDate()).replace('{{year}}',gl.getFullYear()).replace('{{hour}}',(gl.getHours()<10?'0':'')+gl.getHours()).replace('{{minutes}}',(gl.getMinutes()<10?'0':'')+gl.getMinutes()).replace('{{period}}',gl.getHours()<12?'am':'pm');var al=cr.text.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');return "{{comment}} - {{date}}".replace('{{comment}}',al).replace('{{date}}',Vi);};function ajM(){var gl=new Date();return '{{month}}/{{day}}/{{year}}'.replace('{{month}}',gl.getMonth()+1).replace('{{day}}',gl.getDate()).replace('{{year}}',gl.getFullYear());};function akh(eS,mI){eS=eS.replace(/</g,'&#60;').replace(/>/g,'&#62;').replace(/\n/g,'<br/>');var arO=(mI>1)?'times':'time';return '<li>"{{reason}}" occurs {{count}} {{times}}</li>'.replace('{{reason}}',eS).replace('{{count}}',mI).replace('{{times}}',arO);};function apW(){window.onerror=function(ev){BB('fail');};function sync(funcs,done){var counter=funcs.length;var idx=0;var next=function(){if(--counter===0)done();else funcs[idx++](next);};funcs[idx++](next);};function asf(bI,Ib){return function(next){kX(bI,Ib,next);};};var funcs=[];for(var i=0;i<options.pages.length;i++){var bw= +options.pages[i]-1;funcs.push(asf(bw,i));}sync(funcs,function(){var ph,Op='',bw,Dm='',Bl='',cK,J,aiZ='<h1>Comments</h1><hr>{{pageSections}}',nH,Fv='',ayK='<h1>Redaction Reasons</h1><hr>{{pageSections}}';if(options.includeComments==='documentEnd'){for(bw in options.pagedConversations){if(options.pagedConversations.hasOwnProperty(bw)){if(!ph){ph=document.createElement('div');ph.className+=' commentPage';ph.id='printpage_comments';if(options.margins==='none'){ph.className+=' nomargins';}}Op='<div class="pageConversations"><h2>Page #{{pageNumber}}</h2><hr><ol>{{conversationList}}</ol></div>';Bl='';for(var F=0;F<options.pagedConversations[bw].length;F++){cK=options.pagedConversations[bw][F];J=cK.getMark();Bl+=ajG(cK,J.pageNumber);}Dm+=Op.replace('{{pageNumber}}',J.pageNumber).replace('{{conversationList}}',Bl);if(Bl.length){ph.innerHTML=aiZ.replace('{{pageSections}}',Dm);domElement.appendChild(ph);}}}}if(options.includeReasons==='documentEnd'){Dm='';aiZ='';Op='<div class="pageReasons"><h2>Page #{{pageNumber}}</h2><div class="redactionReasonPageHeader"><ul><li>Date: {{date}}</li><li>Number of Redactions on this Page: {{count}}</li></div><hr><ul>{{reasonList}}</ul></div>';for(bw in options.pagedReasons){if(options.pagedReasons.hasOwnProperty(bw)){if(!nH){nH=document.createElement('div');nH.className+='reasonPage';nH.id='printpage_reason';if(options.margins==='none'){nH.className+=' nomargins';}}Fv='';for(var eS in options.pagedReasons[bw]){if(options.pagedReasons[bw].hasOwnProperty(eS)){Fv+=akh(eS,options.pagedReasons[bw][eS]);}}Dm+=Op.replace('{{pageNumber}}',bw).replace('{{reasonList}}',Fv).replace('{{date}}',ajM()).replace('{{count}}',options.pagedRedactionCount[bw]);}}if(Dm.length){nH.innerHTML=ayK.replace('{{pageSections}}',Dm);domElement.appendChild(nH);}}BB('done');});};function arM(){window['extra']=function(bool,Kx){options.encryption= ! !bool;options.pagedConversations=Kx.Iu;options.pagedReasons=Kx.yE;options.pagedRedactionCount=Kx.BA;apW();window['extra']=function(){};};BB('extra');};function amU(){var bM;IPCC.bb.forEach(acH,function(aW){bM=aW.get_artPage();bM.removeAllMarks();aW.dispose();bM=undefined;});};window['destroy']=amU;arM();};}(PCCViewer));(function(PCCViewer){function akt(clientBB){this.top=clientBB.top;this.bottom=clientBB.bottom;this.left=clientBB.left;this.right=clientBB.right;this.width=clientBB.width||clientBB.right-clientBB.left;this.height=clientBB.height||clientBB.bottom-clientBB.top;};function Xp(x,y){this.x=x;this.y=y;this.getDistance=function(point){var x=point.x-this.x,y=point.y-this.y,d=x*x+y*y,squared=false;return squared?d:Math.sqrt(d);};this.equals=function(point){return this===point||point&&(this.x===point.x&&this.y===point.y)||false;};this.close=function(point){return this.getDistance(point)<4;};this.clone=function(){return new Xp(this.x,this.y);};};function Vb(aS){return(aS&&aS.nodeType===1);};function Qc(fU,GV){var SU=(GV&&IPCC.bb.BX)?'m':'M';var Zc=(GV&&IPCC.bb.BX)?'l':'L';return IPCC.bb.map(fU,function(el,i){if(i===0){return SU+el.x+','+el.y;}else{return Zc+el.x+','+el.y;}}).join('');};function anm(cC,nr,fe){return function(au){if(IPCC.bb.Jx&&au.type.match('mouse')){au.preventDefault();au.stopPropagation();return false;}if(au.preventDefault){au.preventDefault();}else{au.returnValue=false;}var x,y;if(au.changedTouches){var je=au.changedTouches[0];if(au.type==='touchstart'){nr=au.target.getBoundingClientRect();}else if(au.type==='touchend'){fe&&fe();return;}x=je.clientX-nr.left;y=je.clientY-nr.top;}else{if(IPCC.bb.BX){x=au.clientX-nr.left;y=au.clientY-nr.top;}else{x=au.offsetX||au.clientX-nr.left;y=au.offsetY||au.clientY-nr.top;}}var aT=new Xp(x,y);cC.fU.push(aT);var sZ=Qc(cC.fU);if(IPCC.bb.BX){cC.dR.path=sZ.toLowerCase();}else{cC.dR.setAttribute('d',sZ);}fe&&fe();};};function amG(points){var AR=3,cO='',vb;var rF=(points.length<AR)?points:IPCC.bb.filter(points,function(el){if(vb&&vb.close(el)){return false;}else{vb=el;return true;}});if(rF.length<AR){rF=[points[0],points[points.length-1]];}vb=undefined;if(rF.length<AR){cO+=Qc(rF);}else{cO='M'+IPCC.bb.bspline(rF);cO=cO.replace(/\d*\.?\d*/g,function(cg){var JW=cg.indexOf('.');if(cg.length&&JW>0){return cg.substr(0,JW+3);}else if(cg!==""){return cg;}else{return cg;}});}return cO;};function SignatureControl(dom){var C=this;if(typeof dom==='string'){this.bF=document.querySelector(dom);if(!(Vb(this.bF))){throw new Error('The query selector "'+dom+'" did not match any DOM element.');}}else if(Vb(dom)){this.bF=dom;}else{throw new Error('The SignatureControl target is not a valid DOM element.');}this.Ix=[];this.nr=new akt(this.bF.getBoundingClientRect());this.gN=IPCC.bb.xS.SVG([0,0,this.nr.width,this.nr.height].join(' '));this.bF.appendChild(this.gN);function BO(ev){var dR=IPCC.bb.xS.Path(undefined,{width:2000,height:2000,color:'black',thickness:4});C.gN.appendChild(dR);var cC={fU:[],dR:dR,fe:function(){C.Ix.push(cC.fU);IPCC.bb.removeEvent(C.bF,'mousemove',Bh);IPCC.bb.removeEvent(C.bF,'mouseup',Ep);if(IPCC.bb.Jx){IPCC.bb.removeEvent(C.bF,'MSPointerMove',Bh);IPCC.bb.removeEvent(C.bF,'MSPointerUp',Ep);}if(IPCC.bb.OU){IPCC.bb.removeEvent(C.bF,'touchmove',Bh);IPCC.bb.removeEvent(C.bF,'touchend',Ep);}}};var Bh=anm(cC,C.nr);var Ep=anm(cC,C.nr,cC.fe);Bh(ev);IPCC.bb.addEvent(C.bF,'mousemove',Bh);IPCC.bb.addEvent(C.bF,'mouseup',Ep);if(IPCC.bb.Jx){IPCC.bb.addEvent(C.bF,'MSPointerMove',Bh);IPCC.bb.addEvent(C.bF,'MSPointerUp',Ep);}if(IPCC.bb.OU){IPCC.bb.addEvent(C.bF,'touchmove',Bh);IPCC.bb.addEvent(C.bF,'touchend',Ep);}};IPCC.bb.addEvent(C.bF,'mousedown',BO);if(IPCC.bb.Jx){this.bF.style['-ms-touch-action']='none';this.bF.style['touch-action']='none';IPCC.bb.addEvent(C.bF,'MSPointerDown',BO);}if(IPCC.bb.OU){IPCC.bb.addEvent(C.bF,'touchstart',BO);}this.QR=function(){C.nr=new akt(C.bF.getBoundingClientRect());C.gN.setAttribute('viewBox',[0,0,C.nr.width,C.nr.height].join(' '));};IPCC.bb.addEvent(window,'resize',this.QR);this.aiP=function(){IPCC.bb.removeEvent(window,'resize',C.QR);IPCC.bb.removeEvent(C.bF,'mousedown',BO);if(IPCC.bb.Jx){IPCC.bb.removeEvent(C.bF,'MSPointerDown',BO);}if(IPCC.bb.OU){IPCC.bb.removeEvent(C.bF,'touchstart',BO);}while(C.bF.firstChild){C.bF.removeChild(C.bF.firstChild);}};};SignatureControl.prototype.done=function(){var mD,mO,pr,oM,sZ='M0,0',afy=this;IPCC.bb.forEach(afy.Ix,function(pj){IPCC.bb.forEach(pj,function(p){if(mD===undefined||mD>p.x){mD=p.x;}if(mO===undefined||mO>p.y){mO=p.y;}if(pr===undefined||pr<p.x){pr=p.x;}if(oM===undefined||oM<p.y){oM=p.y;}});});IPCC.bb.forEach(afy.Ix,function(pj){var axV=IPCC.bb.map(pj,function(p){return new Xp(p.x-mD,p.y-mO);});sZ+=amG(axV);});this.aiP();return{type:'path',path:sZ,width:(pr-mD)||0,height:(oM-mO)||0};};SignatureControl.prototype.resize=function(){this.QR();return this;};SignatureControl.prototype.clear=function(){var svg=this.gN;while(svg&&svg.firstChild){svg.removeChild(svg.firstChild);}this.Ix=[];return this;};SignatureControl.prototype.undo=function(){if(this.gN.lastChild){this.gN.removeChild(this.gN.lastChild);}this.Ix.pop();return this;};SignatureControl.prototype.cancel=function(){this.aiP();return this;};PCCViewer.SignatureControl=function(dom){return new SignatureControl(dom);};PCCViewer.Signatures=new PCCViewer.ObservableCollection();PCCViewer.SignatureDisplay=function(domElement,signature){function handleSignatureAsPath(){if(!signature.path||signature.path.match(/[^MLC0-9.,\s]/)){throw new Error('A valid path is required in the signature object.');}var tf=IPCC.bb.aaX(signature.path);var gN=IPCC.bb.xS.SVG([0,0,tf.width,tf.height].join(' '));var dR=IPCC.bb.xS.Path(signature.path,{width:tf.width,height:tf.height,color:'black',thickness:4});if(IPCC.bb.BX){var avB=(tf.height/tf.width)*100;gN.style.width=dR.style.width='100%';gN.style.height=dR.style.height='0px';gN.style.paddingBottom=dR.style.paddingBottom=avB+'%';}else{gN.style.width='100%';gN.style.maxHeight='100%';gN.setAttribute('preserveAspectRatio','xMinYMin meet');}gN.appendChild(dR);domElement.appendChild(gN);return{width:tf.width,height:tf.height,clear:function(){domElement.removeChild(gN);}};};function handleSignatureAsText(){if(!signature.text||typeof signature.text!=='string'){throw new Error('The signature text is not a valid string.');}var iB=document.createElement('div');var uO=document.createTextNode(signature.text);var ks=(typeof signature.fontName==='string')?signature.fontName:'serif';iB.appendChild(uO);iB.style.textAlign='center';iB.style.fontFamily='"'+ks+'", cursive';iB.style.fontSize='2.5em';iB.style.overflow='hidden';domElement.appendChild(iB);var tf=IPCC.bb.uE(signature.text,ks);return{width:tf.width,height:tf.height,clear:function(){domElement.removeChild(iB);}};};if(!Vb(domElement)){throw new Error('The `domElement` parameter is not a valid HTMLElement.');}else if(!signature){throw new Error('The `signature` parameter is required.');}else if(signature.path){return handleSignatureAsPath();}else if(signature.text){return handleSignatureAsText();}else{throw new Error('The signature provided does not have a known type.');}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.Comment=function Comment(comment,conversation){if(!(comment instanceof IPCC.Web.UI.Comment)&&(typeof comment!=='string')){throw new Error(comment+' is not a string.');}if(!(conversation instanceof PCCViewer.Conversation)){throw new Error(conversation+' is not a PCCViewer.Conversation object.');}this.getConversation=function aEJ(){return conversation;};if(typeof comment==='string'){this.qE=new IPCC.Web.UI.Comment(comment);}else{this.qE=comment;}this.qE.Kt=this;this.cj=this.qE.get_data();PCCViewer.Data.extend(this);this.CL=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Comment.prototype.getMarkupLayer=function aFS(){return this.jt;};PCCViewer.Comment.prototype.getText=function aGh(){return this.qE.get_text();};PCCViewer.Comment.prototype.setText=function aDX(text){if(typeof text!=='string'){throw new Error(text+' is not a string.');}this.qE.set_text(text);return this;};PCCViewer.Comment.prototype.getCreationTime=function aFJ(){var anH=IPCC.bb.IT(this.qE.get_creationTime());return new Date(anH);};PCCViewer.Comment.prototype.setCreationTime=function aEB(time){function agn(){throw new Error(time+' is not a valid string or Date object.');};if(typeof time==='string'){var aiy=IPCC.bb.IT(time);if(aiy instanceof Error){agn();}time=new Date(aiy);}if(!(time instanceof Date)){agn();}this.qE.set_creationTime(IPCC.bb.An(time));return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.Comment.prototype,{"text":{enumerable:true,get:function(){return this.getText();},set:function(text){return this.setText(text);}},"creationTime":{enumerable:true,get:function(){return this.getCreationTime();},set:function(time){return this.setCreationTime(time);}}});}PCCViewer.Conversation=function Conversation(mark){if(!(mark instanceof PCCViewer.Mark)){throw new Error(mark+' is not a PCCViewer.Mark object.');}this.getMark=function My(){return mark;};this.kF=new PCCViewer.ObservableCollection();if(typeof mark.h!=="undefined"){this.yf=mark.h.get_conversation();this.yf.forEach(function(qE){var cr=new PCCViewer.Comment(qE,this);this.kF.add(cr);},this);}else{this.yf=new IPCC.Web.UI.Conversation();}this.cj=this.yf.get_data();PCCViewer.Data.extend(this);this.CL=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);};PCCViewer.Conversation.prototype.addComment=function Lz(commentText){var cr=new PCCViewer.Comment(commentText,this);this.kF.add(cr);this.yf.addComment(cr.qE);return cr;};PCCViewer.Conversation.prototype.deleteComments=function(comments){var C=this;var aah=this.kF.toArray();var afQ=function(cr){for(var i=0,length=aah.length;i<length;i++){if(aah[i]===cr){return true;}}return false;};function agb(cr,cB){throw new Error(cr+((cB!==undefined)?' (Array index '+cB+')':'')+' is not a PCCViewer.Comment object.');};function ahj(cr,cB){throw new Error(((cB!==undefined)?' (Array index '+cB+')':'')+' is not part of this Conversation object.');};if(comments instanceof PCCViewer.Comment){if(!afQ(comments)){ahj(comments);}C.kF.remove(comments);C.yf.removeCommentInstance(comments.qE);}else if(comments instanceof Array){IPCC.bb.forEach(comments,function(el,idx){if(!(el instanceof PCCViewer.Comment)){agb(el,idx);}if(!afQ(el)){ahj(el,idx);}});IPCC.bb.forEach(comments,function(el){C.kF.remove(el);C.yf.removeCommentInstance(el.qE);});}else{agb(comments);}return this;};PCCViewer.Conversation.prototype.getComments=function(){return this.kF.toArray().sort(function(a,b){return a.getCreationTime().getTime()-b.getCreationTime().getTime();});};PCCViewer.Conversation.sj=function(ge,rf){if(typeof ge.getComments!=="function"||typeof rf.addComment!=="function"){throw new Error("Arguments `_source` and `_destination` must be Conversation objects.");}PCCViewer.Data.qw(ge,rf);var hI=ge.getComments(),i,length=hI.length;for(i=0;i<length;i++){var adH=hI[i];var aoU=rf.addComment(adH.getText());PCCViewer.Data.qw(adH,aoU);}};})(PCCViewer||{});(function(PCCViewer){PCCViewer.ImageStamps=function(Options){this.bp=PCCViewer.zR.uu({},Options);};PCCViewer.ImageStamps.prototype.requestImageStampList=function(){var aw=PCCViewer.Deferred();var cY=aw.getPromise();try{var dc=this.bp.imageHandlerUrl+'/ImageStampList';var cG;var abv=function(){var sb;if(typeof cG.responseText!=='unknown'&&cG.responseText.length>0){try{sb=JSON.parse(cG.responseText);}catch(e){}if(cG.readyState===4){if(cG.status===200){aw.resolve(sb);}else{aw.reject(new PCCViewer.Error("ImageStampListFail","Unable to retrieve ImageStamp list from server."));}}}};cG=new XMLHttpRequest();if(cG===null){aw.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}cG.open("GET",dc,true);cG.onreadystatechange=abv;cG.send();}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return cY;};PCCViewer.ImageStamps.prototype.reqestImageSourceBase64=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}var aw=PCCViewer.Deferred();var cY=aw.getPromise();try{var dc=this.bp.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Base64';var cG;var aBp=function(){var sb;if(typeof cG.responseText!=='unknown'&&cG.responseText.length>0){try{sb=JSON.parse(cG.responseText);}catch(e){}if(cG.readyState===4){if(cG.status===200){aw.resolve(sb);}else{aw.reject(new PCCViewer.Error("ImageStampDataFail","Unable to retrieve image stamp data URL and dataHash from server."));}}}};cG=new XMLHttpRequest();if(cG===null){aw.reject(new PCCViewer.Error("AjaxUnsupported","AJAX (XMLHTTP) not supported."));}cG.open("GET",dc,true);cG.onreadystatechange=aBp;cG.send();}catch(e){aw.reject(new PCCViewer.Error("Error",e.message));}return cY;};PCCViewer.ImageStamps.prototype.getImageSourceURL=function(ImageStampID){if(!ImageStampID){throw new Error("Parameter imageStampId is not valid.");}if(typeof ImageStampID!=='string'){throw new Error("Parameter imageStampId should be of type string.");}return this.bp.imageHandlerUrl+'/ImageStamp/'+ImageStampID+'/q?format=Image';};})(PCCViewer||{});(function(undefined){PCCViewer.DocumentHyperlink=function DocumentHyperlink(parameters){this.BZ=parameters.BZ;this.bI=parameters.bI;};PCCViewer.DocumentHyperlink.prototype.getHref=function(){return this.BZ.ahS();};PCCViewer.DocumentHyperlink.prototype.getPageNumber=function(){return this.bI;};PCCViewer.DocumentHyperlink.prototype.getRectangle=function(){return this.BZ.fF();};if(Object.defineProperties){Object.defineProperties(PCCViewer.DocumentHyperlink.prototype,{"href":{enumerable:true,get:function(){return this.getHref();}},"pageNumber":{enumerable:true,get:function(){return this.getPageNumber();}},"rectangle":{enumerable:true,get:function(){return this.getRectangle();}}});}PCCViewer.ViewerControl.prototype.requestDocumentHyperlinks=function(pageNumber){var bI;var aw=PCCViewer.Deferred();var cY=aw.getPromise();var df=this;try{if(typeof(pageNumber)==='number'){bI=pageNumber;}else{if(isNaN(+pageNumber)){throw "The parameter pageNumber is not a number.";}else{bI=parseInt(pageNumber,10);}}if(bI<1||bI>this.getPageCount()|| !isFinite(pageNumber)){throw "The specified page is out of range.";}var XZ=this.Hj[bI-1];if(!XZ){XZ=this.Hj[bI-1]=new PCCViewer.Deferred();this.BG.then(function(){var bw=df.dK.getPage(bI-1);bw.Aq();});}aw.resolve(XZ.getPromise());}catch(e){aw.reject(new PCCViewer.Error('Error',e));}return cY;};PCCViewer.ViewerControl.prototype.azH=function(avN){var i,j,xK;for(j=0;j<this.Vd.length;j++){xK=this.Vd[j];if(xK){for(i=0;i<xK.length;i++){if(xK[i].BZ.RM()===avN){return xK[i];}}}}return null;};})();var PCCViewer=window.PCCViewer||{};PCCViewer.Search=function(){this.Yl=[];this.dN={};this.ej=[];this.cB=0;this.ut='';this.hc={};this.FX=[];this.Jk=0;this.fo={};this.Uj=0;this.gG=false;var C=this;this.azR=function(aiE,aG){var F=0;var alN=function(sender,R){if(R.error=== -1){C.aCN();return;}try{if(C.gG===false){C.awf(R.textPagesReceived,R.error,aG);}}catch(e){C.dN.dP=e.message;C.dN.js="1010";C.dN.AG=true;setTimeout(function(){C.dN.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.dN.trigger("SearchCompleted",{completedSearchResults:(C.ej)});},10);C.gG=true;return;}};try{if(aiE===false){aG.add_textPagesReceived(alN);}C.fo=this.buildSearchObject();for(F;F<aG.eB;F++){C.Yl[F]=false;}if(aiE){this.axd(aG);}}catch(e){C.dN.dP=e.message;C.dN.js="1010";C.dN.AG=true;setTimeout(function(){C.dN.trigger("SearchFailed",{errorMessage:(e.message)});},10);setTimeout(function(){C.dN.trigger("SearchCompleted",{completedSearchResults:(C.ej)});},10);return;}};this.aCN=function(){C.dN.dP="Unable to communicate with server, please retry loading the document.";C.dN.js="1011";C.dN.AG=true;setTimeout(function(){C.dN.trigger("SearchFailed",{errorMessage:("Unable to communicate with server, please retry loading the document.")});},10);setTimeout(function(){C.dN.trigger("SearchCompleted",{completedSearchResults:(C.ej)});},10);C.gG=true;};this.axd=function(aG){var F=0;for(F=0;F<aG.eB;F++){var al=this.air(aG,F);if(!al&&al!==null){C.FX[C.Jk]=F;C.Jk++;continue;}this.aeX(al,F,aG);if(C.dN.rk){break;}}C.dN.gR=C.ej;C.dN.AG=true;C.dN.aaQ=C.FX;setTimeout(function(){C.dN.trigger("SearchResultsAvailable",{completedSearchResults:(C.ej)});},10);setTimeout(function(){C.dN.trigger("SearchCompleted",{completedSearchResults:(C.ej)});},10);};this.awf=function(Ad,FZ,aG){var F=0;for(F=0;F<Ad.length;F++){if(C.Yl[Ad[F]]===false){C.Yl[Ad[F]]=true;var al=this.air(aG,Ad[F]);if(!al&&al!==null){C.FX[C.Jk]=Ad[F];C.Jk++;continue;}this.aeX(al,Ad[F],aG);if(C.dN.rk){break;}}}if(((aG.eB-1)===Ad[F-1]||C.dN.rk)&& !C.dN.AG){C.dN.gR=C.ej;C.dN.aaQ=C.FX;C.dN.AG=true;setTimeout(function(){C.dN.trigger("SearchResultsAvailable",{completedSearchResults:(C.ej)});},10);setTimeout(function(){C.dN.trigger("SearchCompleted",{completedSearchResults:(C.ej)});},10);}};this.buildSearchObject=function(){var Xe=[];var Pg=0;for(var F=0;F<C.hc.searchTerms.length;F++){var fo={};if(C.hc.searchTerms[F].matchingOptions.exactPhrase===false&&C.hc.searchTerms[F].searchTermIsRegex===false){var BH=C.hc.searchTerms[F].searchTerm.split(' ');for(var ba=0;ba<BH.length;ba++){fo={};if(BH[ba].length<0){continue;}fo.searchText=BH[ba];fo.Ie=C.hc.searchTerms[F];if(C.hc.searchTerms[F].matchingOptions.matchWholeWord){fo.searchTerm=this.amN(this.EO(BH[ba]),C.hc.searchTerms[F].matchingOptions);}else{if(C.hc.searchTerms[F].matchingOptions.wildcard===true){fo.searchTerm=this.aju(this.EO(BH[ba]),C.hc.searchTerms[F].matchingOptions);}else if(C.hc.searchTerms[F].matchingOptions.beginsWith===true||C.hc.searchTerms[F].matchingOptions.endsWith===true){fo.searchTerm=this.aih(this.EO(BH[ba]),C.hc.searchTerms[F].matchingOptions);}else{fo.searchTerm=this.afb(BH[ba],C.hc.searchTerms[F].matchingOptions,false);}}fo.highlightColor=this.adZ(C.hc.searchTerms[F].highlightColor);Xe[Pg]=fo;Pg++;}}else{fo={};fo.searchText=C.hc.searchTerms[F].searchTerm;fo.Ie=C.hc.searchTerms[F];if(C.hc.searchTerms[F].matchingOptions.matchWholeWord){fo.searchTerm=this.amN(this.EO(C.hc.searchTerms[F].searchTerm),C.hc.searchTerms[F].matchingOptions);}else{if(C.hc.searchTerms[F].matchingOptions.wildcard===true){fo.searchTerm=this.aju(this.EO(C.hc.searchTerms[F].searchTerm),C.hc.searchTerms[F].matchingOptions);}else if(C.hc.searchTerms[F].matchingOptions.beginsWith===true||C.hc.searchTerms[F].matchingOptions.endsWith===true){fo.searchTerm=this.aih(this.EO(C.hc.searchTerms[F].searchTerm),C.hc.searchTerms[F].matchingOptions);}else{fo.searchTerm=this.afb(C.hc.searchTerms[F].searchTerm,C.hc.searchTerms[F].matchingOptions,C.hc.searchTerms[F].searchTermIsRegex);}}fo.highlightColor=this.adZ(C.hc.searchTerms[F].highlightColor);Xe[Pg]=fo;Pg++;}}return Xe;};this.aeX=function(Yn,aH,aG){var agf=false;var amh=[];var ajD=0;var d=new Date();var CJ=d.getTime();var bw=aG.cQ.kX(aH);var ir=bw.dJ();var fr=ir.ey();for(var F=0;F<C.fo.length;F++){var Hq=C.fo[F].searchTerm;var eA=Hq.exec(Yn);var gM=C.fo[F];var Us=gM.Ie.contextPadding;while(eA!==null){var cC=this.aiv(Yn,eA,Us);C.ej[C.cB]=new PCCViewer.SearchResult();C.ej[C.cB].cD=C.cB;C.ej[C.cB].bI=aH+1;C.ej[C.cB].cC=cC.afn;C.ej[C.cB].al=eA[0];C.ej[C.cB].BY=cC.ao;C.ej[C.cB].uk=C.fo[F].highlightColor;C.ej[C.cB].ZS=eA.index;C.ej[C.cB].ut=C.fo[F].Ie;C.ej[C.cB].NB=aG.get_documentIdentifier();C.ej[C.cB].CJ=CJ;var hd=Number.MAX_VALUE,gO=0,_top=Number.MAX_VALUE,iT=0;var ds=eA.index+eA[0].length;for(var ba=eA.index;ba<ds-1;ba++){var dV=fr.lf(ba);if(dV.bQ.x<hd){hd=dV.bQ.x;}if(dV.bQ.x+dV.bQ.width>gO){gO=dV.bQ.x+dV.bQ.width;}if(dV.bQ.y<_top){_top=dV.bQ.y;}if(dV.bQ.y+dV.bQ.height>iT){iT=dV.bQ.y+dV.bQ.height;}}C.ej[C.cB].qD={width:gO-hd,height:iT-_top,x:hd,y:_top};amh[ajD]=C.ej[C.cB];C.dN.gR=C.ej;eA=Hq.exec(Yn);C.cB++;ajD++;agf=true;}}if(agf){setTimeout(function(){C.dN.trigger("PartialSearchResultsAvailable",{partialSearchResults:(amh),pagesWithoutText:(C.FX)});},10);}};this.aiv=function(al,eA,Lp){Lp=Lp||0;var atB=eA[0],cT=atB.length,aai=Math.max(eA.index-Lp,0),atp=eA.index+cT,aoL=Math.min(atp+Lp,al.length);return{ao:(aai===0)?eA.index:Lp,afn:al.substring(aai,aoL)};};this.air=function(aG,aH){var bw=aG.cQ.kX(aH);var ir=bw.dJ();var al=ir.EG();return al;};this.amN=function(sk,pI){var vk=new RegExp('\\b'+sk+'\\b',this.wQ(pI.matchCase));return vk;};this.aih=function(sk,pI){if(pI.beginsWith){return new RegExp("\\b"+sk+'(\\w+)',this.wQ(pI.matchCase));}if(pI.endsWith){sk=sk.replace("*","");return new RegExp('(\\w+)'+sk+"\\b",this.wQ(pI.matchCase));}};this.EO=function(sk){return sk.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");};this.aju=function(wM,pI){wM=wM.replace(/[*]{2,}/g,'*').replace(/(\\\*){2,}/g,'\\*');if(wM==='\\*'){var cR=new Error("The search term must contain one or more non-wildcard characters.");cR.awz=true;throw cR;}wM=wM.replace(/\\\?/g,'.');var ha=this.OQ(wM);var WM,QN,vk,Zt;var Mx=wM.substring(0,1);for(var F=0;F<ha.length;++F){if(F>0){WM=ha.substring(F-1,F);}Mx=ha.substring(F,F+1);if(F<ha.length){QN=ha.substring(F+1,F+2);}if(F===0){if(Mx==='*'&&QN===" "||Mx==='*'&&QN==="*"){ha=ha.substring(2,ha.length);}}if(F+1===ha.length){if(Mx==='*'&&WM===" "||Mx==='*'&&WM==="*"){ha=ha.substring(0,ha.length-2);}}}ha=ha.replace(/^\s+|\s+$/g,'');var afY=ha.indexOf('*');if(afY===1){ha=ha.replace(/\\\*/g,'\\S*')+'\\S*';}else if(afY===ha.length-1){ha='\\S*'+ha.replace(/\\\*/g,'\\S*');}else{if(pI.exactPhrase===false){ha=ha.replace(/\\\*/g,'.*?');}else{ha=ha.replace(/\\\*/g,'\\S*');}}vk=new RegExp(ha,this.wQ(pI.matchCase));if(ha.substring(0,1)!=='*'&&Zt!=='*'){vk=new RegExp('\\b'+ha+'\\b',this.wQ(pI.matchCase));}if(ha.substring(0,1)==='*'&&Zt!=='*'){vk=new RegExp(ha+'\\b',this.wQ(pI.matchCase));}if(ha.substring(0,1)!=='*'&&Zt==='*'){vk=new RegExp('\\b'+ha,this.wQ(pI.matchCase));}return vk;};this.OQ=function(sk){return sk.replace(/\ /g,'\\s+');};this.afb=function(Pm,matchingOptions,isRegex){var vO='';if(isRegex===true){vO=this.OQ(Pm);}else if(matchingOptions.wildcard===true){vO=Pm.replace(/[-[\]{}()+,^$|#]/g,"\\$&");vO=this.OQ(vO);}else if(matchingOptions.exactPhrase){vO=Pm.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");vO=this.OQ(vO);}else{vO=Pm.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&");}return new RegExp(vO,this.wQ(matchingOptions.matchCase));};this.wQ=function(matchCase){if(matchCase){return 'gm';}else{return 'igm';}};this.aEd=function(wM){var vk=new RegExp('\\b'+wM+'\\b',C.wQ());return vk;};var aew=["#1c86ee","#ff8c00","#9932cc","#FFBA00","#00c5cd","#ee3a8c","#4169e1","#00cd00","#6959cd","#ff4500"];this.adZ=function(fp){if(!fp){return aew[C.Uj++ %aew.length];}else{return fp;}};this.azn=function(al){try{this.ate(al);}catch(e){C.dN.dP=e.message;C.dN.js="1010";return;}};this.ate=function(al){var d=new Date();var CJ=d.getTime();for(var F=0;F<C.fo.length;F++){var Hq=C.fo[F].searchTerm;var eA=Hq.exec(al);var gM=C.fo[F];var Us=gM.Ie.contextPadding;while(eA!==null){var cC=this.aiv(al,eA,Us);C.ej[C.cB]=new PCCViewer.SearchTaskResult();C.ej[C.cB].cD=C.cB;C.ej[C.cB].cC=cC.afn;C.ej[C.cB].al=eA[0];C.ej[C.cB].BY=cC.ao;C.ej[C.cB].uk=C.fo[F].highlightColor;C.ej[C.cB].Zh=eA.index;C.ej[C.cB].ut=C.fo[F].Ie;C.ej[C.cB].CJ=CJ;C.dN.gR=C.ej;eA=Hq.exec(al);C.cB++;}}};this.ajQ=function(gM){var searchTermObj;if(typeof gM==='string'){gM={searchTerms:[{searchTerm:gM,highlightColor:undefined,contextPadding:25,searchTermIsRegex:false,matchingOptions:{exactPhrase:true,matchCase:false,matchWholeWord:false,beginsWith:false,endsWith:false,wildcard:false}}]};return gM;}for(var i=0;i<gM.searchTerms.length;i++){searchTermObj=gM.searchTerms[i];if(typeof searchTermObj.contextPadding==="undefined"){searchTermObj.contextPadding=25;}if(typeof searchTermObj.searchTermIsRegex==="undefined"){searchTermObj.searchTermIsRegex=false;}if(typeof searchTermObj.matchingOptions==="undefined"){searchTermObj.matchingOptions={};}if(!searchTermObj.matchingOptions.hasOwnProperty('matchCase')){searchTermObj.matchingOptions.matchCase=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('exactPhrase')){searchTermObj.matchingOptions.exactPhrase=true;}if(!searchTermObj.matchingOptions.hasOwnProperty('matchWholeWord')){searchTermObj.matchingOptions.matchWholeWord=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('beginsWith')){searchTermObj.matchingOptions.beginsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('endsWith')){searchTermObj.matchingOptions.endsWith=false;}if(!searchTermObj.matchingOptions.hasOwnProperty('wildcard')){searchTermObj.matchingOptions.wildcard=false;}if(typeof searchTermObj.highlightColor!=='undefined'){try{IPCC.bU.fp(searchTermObj.highlightColor,"selectText");}catch(e){searchTermObj.highlightColor=undefined;}}}return gM;};};PCCViewer.Search.prototype._search=function(searchQuery,RX,aG){this.fo={};this.dN=new PCCViewer.SearchRequest();this.hc=searchQuery;this.ej.length=0;this.dN.gM=searchQuery;this.FX.length=0;this.Jk=0;this.cB=0;this.ut=searchQuery;this.Uj=0;this.azR(RX,aG);return this.dN;};PCCViewer.Search.prototype.aCz=function(searchQuery){this.fo={};this.dN=new PCCViewer.SearchRequest();this.hc=searchQuery;this.ej.length=0;this.dN.gM=searchQuery;this.cB=0;this.ut=searchQuery;this.Uj=0;return this.dN;};PCCViewer.SearchTask=function(searchQuery){this.adE(searchQuery);var _search=new PCCViewer.Search();searchQuery=_search.ajQ(searchQuery);this.dN=_search.aCz(searchQuery);try{_search.fo=_search.buildSearchObject();}catch(e){if(e.awz){throw new Error(e.message);}else{throw new Error(e.message);}}this.search=function(text){_search.ej=[];_search.cB=0;_search.azn(text);return _search.ej;};};PCCViewer.SearchTask.prototype.adE=function(searchQuery){if(typeof searchQuery==='string'){return;}var afI;if(searchQuery&&searchQuery.searchTerms&&Object.prototype.toString.call(searchQuery.searchTerms)==='[object Array]'){afI=searchQuery.searchTerms;}else{throw new Error('The `searchQuery` parameter is not a string, or a search terms array was not present in the search query.');}IPCC.bb.forEach(afI,function(anf,F){if(typeof anf.searchTerm!=='string'){throw new Error("Search term index "+F+" does not have a valid `searchTerm` string property.");}});};var PCCViewer=window.PCCViewer||{};PCCViewer.SearchResult=function(){this.cD=0;this.bI=0;this.ao=0;this.al='';this.uk='';this.ZS=0;this.cC='';this.BY=0;this.ut='';this.NB='';this.qD=null;};PCCViewer.SearchResult.prototype.getId=function(){return this.cD;};PCCViewer.SearchResult.prototype.getPageNumber=function(){return this.bI;};PCCViewer.SearchResult.prototype.getText=function(){return this.al;};PCCViewer.SearchResult.prototype.getHighlightColor=function(){return this.uk;};PCCViewer.SearchResult.prototype.getStartIndexInPage=function(){return this.ZS;};PCCViewer.SearchResult.prototype.getContext=function(){return this.cC;};PCCViewer.SearchResult.prototype.getStartIndexInContext=function(){return this.BY;};PCCViewer.SearchResult.prototype.getSearchTerm=function(){return this.ut;};PCCViewer.SearchResult.prototype.getBoundingRectangle=function(){return this.qD;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchResult.prototype,{"pageNumber":{enumerable:true,get:function(){return this.bI;}},"id":{enumerable:true,get:function(){return this.cD;}},"text":{enumerable:true,get:function(){return this.al;}},"highlightColor":{enumerable:true,get:function(){return this.uk;}},"startIndexInPage":{enumerable:true,get:function(){return this.ZS;}},"context":{enumerable:true,get:function(){return this.cC;}},"startIndexInContext":{enumerable:true,get:function(){return this.BY;}},"searchTerm":{enumerable:true,get:function(){return this.ut;}},"boundingRectangle":{enumerable:true,get:function(){return this.getBoundingRectangle();}}});}PCCViewer.SearchTaskResult=function(){this.cD=0;this.ao=0;this.al='';this.uk='';this.Zh=0;this.cC='';this.BY=0;this.ut='';};PCCViewer.SearchTaskResult.prototype.getId=function(){return this.cD;};PCCViewer.SearchTaskResult.prototype.getText=function(){return this.al;};PCCViewer.SearchTaskResult.prototype.getHighlightColor=function(){return this.uk;};PCCViewer.SearchTaskResult.prototype.getStartIndexInInput=function(){return this.Zh;};PCCViewer.SearchTaskResult.prototype.getContext=function(){return this.cC;};PCCViewer.SearchTaskResult.prototype.getStartIndexInContext=function(){return this.BY;};PCCViewer.SearchTaskResult.prototype.getSearchTerm=function(){return this.ut;};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchTaskResult.prototype,{"id":{enumerable:true,get:function(){return this.cD;}},"text":{enumerable:true,get:function(){return this.al;}},"highlightColor":{enumerable:true,get:function(){return this.uk;}},"startIndexInInput":{enumerable:true,get:function(){return this.Zh;}},"context":{enumerable:true,get:function(){return this.cC;}},"startIndexInContext":{enumerable:true,get:function(){return this.BY;}},"searchTerm":{enumerable:true,get:function(){return this.ut;}}});}var PCCViewer=window.PCCViewer||{};PCCViewer.SearchRequest=function(){this.jR={};this.gM={};this.gR=[];this.AG=false;this.js=null;this.dP=null;this.aaQ=[];PCCViewer.EventEmitter.extend(this);};PCCViewer.SearchRequest.prototype.getSearchQuery=function(){return this.gM;};PCCViewer.SearchRequest.prototype.getResults=function(){return this.gR;};PCCViewer.SearchRequest.prototype.getIsComplete=function(){return this.AG;};PCCViewer.SearchRequest.prototype.getErrorCode=function(){return this.js;};PCCViewer.SearchRequest.prototype.getErrorMessage=function(){return this.dP;};PCCViewer.SearchRequest.prototype.getPagesWithoutText=function(){return this.aaQ;};PCCViewer.SearchRequest.prototype.cancel=function(){this.rk=true;this.trigger('SearchCancelled');};if(Object.defineProperties){Object.defineProperties(PCCViewer.SearchRequest.prototype,{"searchQuery":{enumerable:true,get:function(){return this.gM;}},"results":{enumerable:true,get:function(){return this.gR;}},"isComplete":{enumerable:true,get:function(){return this.AG;}},"errorCode":{enumerable:true,get:function(){return this.js;}},"errorMessage":{enumerable:true,get:function(){return this.dP;}}});}(function(PCCViewer){PCCViewer.BurnRequest=function(bp){this.qf="";this.fj="";this.mH=0;this.pW="";this.js="";this.ud=0;this.gV=false;this.ue=0;this.Xi="";this.rk=false;this.aw=PCCViewer.Deferred();this.cY=this.aw.getPromise();this.then=this.cY.then;this.bp=bp;this.js=null;this.hm=undefined;this.uZ=false;this.PR=null;PCCViewer.EventEmitter.extend(this);};PCCViewer.BurnRequest.EventType={BurnProgress:"BurnProgress",BurnCompleted:"BurnCompleted",BurnFailed:"BurnFailed",BurnCancelled:"BurnCancelled",BurnWorkerCreated:"BurnWorkerCreated"};PCCViewer.BurnRequest.prototype.cancel=function(){var C=this;this.rk=true;this.js="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCancelled,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.BurnRequest.prototype.getProgress=function(){return this.mH;};PCCViewer.BurnRequest.prototype.getWorkerID=function(){return this.qf;};PCCViewer.BurnRequest.prototype.getOptions=function(){return this.bp;};PCCViewer.BurnRequest.prototype.getErrorCode=function(){return this.js;};PCCViewer.BurnRequest.prototype.getBurnedDocumentDownloadURL=function(){return this.PR;};PCCViewer.BurnRequest.prototype.aAQ=function(mu){this.Xi=mu;};PCCViewer.BurnRequest.prototype.aaF=function(hm){this.hm=hm;};PCCViewer.BurnRequest.prototype.aBd=function(){var C=this;this.js="Failure to generate Markup XML";setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("MarkupXMLFail",C.js));},0);return this;};PCCViewer.BurnRequest.prototype.Ik=function(){var cG=new XMLHttpRequest();try{if(!this.Xi){throw new Error("XMl Markup data for burn is missing");}if(cG===null){throw new Error("AJAX (XMLHTTP) not supported.");}var C=this;var aee=function(){var Xr;if(!(/^[\x00-\x7F]*$/.test(C.hm.aG.get_documentIdentifier()))){Xr=C.hm.bp.imageHandlerUrl+'/ViewingSession/e'+C.hm.bp.documentID+'/MarkupBurner/'+C.qf;}else{Xr=C.hm.bp.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.hm.bp.documentID)+'/MarkupBurner/'+C.qf;}cG.open("GET",Xr,true);cG.setRequestHeader('Content-Type','application/json');cG.onreadystatechange=aey;cG.send();};var awv=function(gu){if(gu){if(C.rk===true){C.gV=false;return;}if(gu.percentComplete>=0&&C.gV===true){if(gu.percentComplete===100&&gu.state==='complete'){if(gu.processId){C.gV=false;C.qf=gu.processId;C.fj=gu.state;C.ud+=1;C.ue=1000;C.mH= +(gu.percentComplete);var Ia;if(!(/^[\x00-\x7F]*$/.test(C.hm.aG.get_documentIdentifier()))){Ia=C.hm.bp.imageHandlerUrl+'/ViewingSession/e'+C.hm.bp.documentID+'/MarkupBurner/'+C.qf+"/Document";}else{Ia=C.hm.bp.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.hm.bp.documentID)+'/MarkupBurner/'+C.qf+"/Document";}if(C.bp.filename){Ia+="?ContentDispositionFilename="+C.bp.filename;}C.PR=Ia;C.uZ=true;var axi= +(gu.percentComplete);setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:axi});C.aw.resolve(Ia);},10);return;}}else{if(gu.state==='error'){C.gV=false;C.js=gu.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+C.js));},0);C.gV=false;C.uZ=true;return;}if(gu.processId){var VL= +(gu.percentComplete);if(C.mH!==VL){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnProgress,{progress:VL});},10);}if(!C.qf){C.qf=gu.processId;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnWorkerCreated,{});},0);C.fj=gu.state;C.ud=1;C.gV=true;C.ue=1000;C.mH= +(gu.percentComplete);}if(gu.percentComplete<100){if(C.ud>1){C.ue+=1000;}C.ud+=1;C.fj=gu.state;C.mH= +(gu.percentComplete);if(C.gV===true&&C.rk===false&&C.uZ===false){setTimeout(aee,C.ue);}}}}}else{if(C.uZ===false){var Yj=false;if(C.gV===false){if(gu.state==='complete'){if(!C.PR){Yj=true;}else{C.uZ=true;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnCompleted,{});C.aw.resolve(C.PR);},10);return;}}if(gu.state==='processing'&&gu.errorCode===null){if(gu.percentComplete>=0&&gu.percentComplete<100){if(C.ud>1){C.ue+=1000;}C.ud+=1;C.gV=true;C.fj=gu.state;C.mH= +(gu.percentComplete);if(C.gV===true&&C.rk===false){setTimeout(aee,C.ue);}}else{Yj=true;}}if(gu.state==='error'||Yj===true){C.gV=false;C.js=gu.errorCode;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("BurnFailError","BurnProcess failed, errorCode: "+gu.errorCode));},0);C.gV=false;C.uZ=true;return;}}}}}};var aey=function(){var gZ,aU;if(cG.readyState===4){if(cG.status===200){try{gZ=cG.responseText;if(!gZ){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("ResponseEmpty","Empty/invalid response from the server"));},0);C.uZ=true;return;}else{if(typeof JSON!=='undefined'){aU=JSON.parse(gZ);}else{aU=IPCC.cJ.pu(gZ);}setTimeout(function(){awv(aU);},0);}}catch(e){setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("BurnFailErrorCode","Burn process failed, error: "+e.message));},0);C.uZ=true;return;}}else{C.gV=false;var bq=cG.status+" "+cG.statusText;setTimeout(function(){C.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});C.aw.reject(new PCCViewer.Error("StatusCode","Status Code "+bq));},0);C.uZ=true;return;}}};var dc;if(!(/^[\x00-\x7F]*$/.test(C.hm.aG.get_documentIdentifier()))){dc=C.hm.bp.imageHandlerUrl+'/ViewingSession/e'+C.hm.bp.documentID+'/MarkupBurner';}else{dc=C.hm.bp.imageHandlerUrl+'/ViewingSession/u'+encodeURIComponent(C.hm.bp.documentID)+'/MarkupBurner';}cG.open("POST",dc,true);cG.setRequestHeader("Content-Type","application/xml");cG.onreadystatechange=aey;C.gV=true;cG.send(C.Xi);}catch(e){this.gV=false;var bA=this,fS=e.message;setTimeout(function(){bA.trigger(PCCViewer.BurnRequest.EventType.BurnFailed,{});bA.aw.reject(new PCCViewer.Error("BurnFailErrorCode","The burn process failed, error: "+fS));},0);this.uZ=true;}};if(Object.defineProperties){Object.defineProperties(PCCViewer.BurnRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"burnedDocumentDownloadURL":{enumerable:true,get:function(){return this.getBurnedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.ConversionRequest=function(bp){this.qf="";this.fj="";this.mH=0;this.js="";this.gV=false;this.rk=false;this.bp=bp;this.Lo=null;this.hm=undefined;this.aw=PCCViewer.Deferred();this.cY=this.aw.getPromise();this.then=this.cY.then;PCCViewer.EventEmitter.extend(this);};PCCViewer.ConversionRequest.EventType={ConversionProgress:"ConversionProgress",ConversionCompleted:"ConversionCompleted",ConversionFailed:"ConversionFailed",ConversionCancelled:"ConversionCancelled",ConversionWorkerCreated:"ConversionWorkerCreated"};PCCViewer.ConversionRequest.prototype.cancel=function(){var C=this;this.rk=true;this.js="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCancelled,{});C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});C.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.ConversionRequest.prototype.getProgress=function(){return this.mH;};PCCViewer.ConversionRequest.prototype.getWorkerID=function(){return this.qf;};PCCViewer.ConversionRequest.prototype.getOptions=function(){return this.bp;};PCCViewer.ConversionRequest.prototype.getErrorCode=function(){return this.js;};PCCViewer.ConversionRequest.prototype.getConvertedDocumentDownloadURL=function(){return this.Lo;};PCCViewer.ConversionRequest.prototype.aaF=function(hm){this.hm=hm;};PCCViewer.ConversionRequest.prototype.Ik=function(){var C=this;C.gV=true;C.atx().then(function onResolve(vh){C.qf=vh.processId;C.mH=vh.percentComplete;C.fj=vh.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionWorkerCreated,{});C.awg(vh).then(function onResolve(aAL){C.gV=false;C.Lo=C.hm.bp.imageHandlerUrl+'/WorkFile/'+aAL+"?ContentDispositionFilename="+C.bp.filename;if(vh.affinityToken){C.Lo+="&affinityToken="+encodeURIComponent(vh.affinityToken);}C.aw.resolve(C.Lo);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionCompleted,{});},function onReject(reason){C.gV=false;C.aw.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});},function onReject(reason){C.gV=false;C.aw.reject(reason);C.trigger(PCCViewer.ConversionRequest.EventType.ConversionFailed,{});});};PCCViewer.ConversionRequest.prototype.atx=function(){var oY=PCCViewer.Deferred(),dc=this.hm.bp.imageHandlerUrl+'/contentConverters/';IPCC.bb.Lx({url:dc,method:'POST',headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:'json',body:{viewingSessionId:this.hm.bp.documentID}}).then(function onResolve(lb){var sF=JSON.parse(lb);oY.resolve(sF);},function onReject(reason){oY.reject(reason);});return oY.getPromise();};PCCViewer.ConversionRequest.prototype.awg=function(vh){var dc=this.hm.bp.imageHandlerUrl+'/contentConverters/'+vh.processId,oY=PCCViewer.Deferred(),C=this;if(vh.affinityToken){var aBg={"Accusoft-Affinity-Token":vh.affinityToken};}(function poll(){setTimeout(function(){IPCC.bb.Lx({url:dc,headers:aBg}).then(function onResolve(lb){var sF=JSON.parse(lb);C.qf=sF.processId;C.mH=sF.percentComplete;C.fj=sF.state;C.trigger(PCCViewer.ConversionRequest.EventType.ConversionProgress,{progress:C.mH});if(sF.percentComplete===100){oY.resolve(sF.output.results[0].fileId);}else{poll();}},function onReject(reason){oY.reject(reason);});},3000);})();return oY.getPromise();};if(Object.defineProperties){Object.defineProperties(PCCViewer.ConversionRequest.prototype,{"options":{enumerable:true,get:function(){return this.getOptions();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"workerID":{enumerable:true,get:function(){return this.getWorkerID();}},"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"convertedDocumentDownloadURL":{enumerable:true,get:function(){return this.getConvertedDocumentDownloadURL();}}});}})(PCCViewer||{});(function(PCCViewer){var Un=function(){},iJ={agZ:0,aww:1,aqW:2};PCCViewer.ThumbnailControl=function(domElement,viewerControl){if(!domElement|| !IPCC.bb.vJ(domElement)){throw new Error('The "domElement" parameter is not a valid HTML Element');}if(!viewerControl|| !(viewerControl instanceof PCCViewer.ViewerControl)){throw new Error('The "viewerControl" parameter is not a valid PCCViewer.ViewerControl object');}var C=this;this.iJ=iJ.agZ;this.bp=viewerControl.bp;this._debug= ! !this.bp.debug;this.PN="Single";this.JQ=[];this.ti={};if(!this.df){this.df=viewerControl;}else{throw new Error("This instance of thumbnail already is attached to a ViewerControl.");}PCCViewer.EventEmitter.extend(this);this.be=domElement;if(viewerControl.pZ){C.iJ=iJ.aqW;C.Xc(viewerControl.getPageCount());C.WW(C.be);}else{C.iJ=iJ.aww;C.Xc(1,0);viewerControl.on('PageCountReady',function(){C.Xc(viewerControl.getPageCount(),1);C.WW(C.be);});}viewerControl.on('PageRotated',function(au){IPCC.bb.forEach(C.ti,function(av){if(av.aH===(au.pageNumber-1)){if(av.zw===true){C.Ut(av);}}});});viewerControl.on('DocumentRotated',function(au){IPCC.bb.forEach(C.ti,function(av){if(av.zw===true){C.Ut(av);}});});};PCCViewer.ThumbnailControl.prototype.getViewerControl=function(){return this.df;};PCCViewer.ThumbnailControl.prototype.Xc=function(eB,lg){lg=lg||0;var C=this,KT=document.createDocumentFragment();for(var i=lg;i<eB;i++){var _parent=document.createElement('div');_parent.className='pccThumbnailWrapper';var cA=document.createElement('div');cA.className='pccThumbnail';var sO=document.createElement('div');sO.className='pccThumbnailView';sO.id='pcc-thumbnailPage-'+i+'-'+IPCC.Do();cA.appendChild(sO);_parent.appendChild(cA);KT.appendChild(_parent);C.ti[i]={VB:_parent,bF:cA,sO:sO,aH:i,aW:{},zw:false,lv:0,jL:0,ci:0};}IPCC.bb.forEach(C.ti,function(av){var ZC=document.createElement('div'),wV=document.createElement('span'),atV=document.createTextNode(av.aH+1);ZC.className='pccThumbnailLabel';wV.appendChild(atV);ZC.appendChild(wV);av.bF.appendChild(ZC);av.bF.onclick=function(){C.acd([av.aH+1]);};});C.be.appendChild(KT);this.Yf();return this;};PCCViewer.ThumbnailControl.EventType={PageSelectionChanged:"PageSelectionChanged"};PCCViewer.ThumbnailControl.prototype.getSelectedPages=function getSelectedPages(){if(!this.iJ){return[];}return[].concat(this.JQ);};PCCViewer.ThumbnailControl.prototype.setSelectedPages=function setSelectedPages(pageNumbers){if(!this.iJ){return this;}var eB=this.df.getPageCount();if(typeof pageNumbers==='number'){pageNumbers=[pageNumbers];}else if(Object.prototype.toString.call(pageNumbers)!=='[object Array]'){throw new Error(pageNumbers+' is not a number or an array of numbers');}IPCC.bb.forEach(pageNumbers,function(dS,F){if(isNaN(dS)){throw new Error(dS+' (array index '+F+') is not a number');}if(dS<1||dS>eB){throw new Error(dS+' (array index '+F+') is out of range');}});this.acd([].concat(pageNumbers).sort());return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.ThumbnailControl.prototype,{"selectedPages":{enumerable:true,get:function(){return this.getSelectedPages();},set:function(pageNumbers){return this.setSelectedPages(pageNumbers);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"visiblePages":{emunerable:true,get:function(){return this.getVisiblePages();}}});}PCCViewer.ThumbnailControl.prototype.scrollTo=function(pageNumber,options){var dS=Number(pageNumber);if(dS!==(dS|0)||dS<1||dS>this.df.getPageCount()){throw new Error(pageNumber+' is not a valid page number');}var kR=false,C=this,bp=options||{};IPCC.bb.forEach(this.ti,function(av){if(kR){return;}if(av.aH+1===dS){kR=true;C.Zn(av,undefined,! !bp.forceAlignTop);}});return this;};PCCViewer.ThumbnailControl.prototype.Zn=function(av,nf,ard){nf=nf||IPCC.bb.YY(this.be.getBoundingClientRect());var vp=IPCC.bb.YY(av.VB.getBoundingClientRect());if(vp.top>nf.top&&vp.bottom<nf.bottom){return;}var aia=window.getComputedStyle?getComputedStyle(av.VB):av.VB.currentStyle,hT;if(vp.top<nf.top||ard){hT=vp.top-nf.top+this.be.scrollTop-parseInt(aia.marginTop,10);}else if(vp.bottom>nf.bottom){hT=vp.bottom-nf.top-nf.height+this.be.scrollTop+parseInt(aia.marginBottom,10);}if(hT!==undefined){this.be.scrollTop=hT;}return this;};PCCViewer.ThumbnailControl.prototype.acd=function(ke){if(IPCC.bb.arU(this.JQ,ke)){return this;}var WT='pcc-thumbnail-selected',IJ=new RegExp(WT),abq=false,amn=[].concat(ke),amK=amn.shift(),afh=false,nf=IPCC.bb.YY(this.be.getBoundingClientRect()),C=this;IPCC.bb.forEach(this.ti,function(av){if(av.aH===amK-1){IPCC.bb.anp(av.bF,WT);abq=true;amK=amn.shift()||0;if(!afh){afh=true;C.Zn(av,nf);}return;}if(IJ.test(av.bF.className)){IPCC.bb.amw(av.bF,WT);abq=true;}});this.JQ=ke;if(abq){this.trigger(PCCViewer.ThumbnailControl.EventType.PageSelectionChanged,{pageNumbers:[].concat(this.JQ)});}return this;};PCCViewer.ThumbnailControl.prototype.aCD=function(){var gX=this.Rd(),C=this,yU;IPCC.bb.forEach(gX,function(av){if(!yU&&IPCC.bb.inArray(C.JQ,av.aH+1)){yU=av;}});if(!yU){yU=gX[0];}return yU;};PCCViewer.ThumbnailControl.prototype.reflow=function(){if(!this.iJ){return this;}var DU,Dh,ai,bE,Qx,Ov,ci,yU=this.aCD();IPCC.bb.forEach(this.ti,function(av){if(av.zw){av.bF.style.height=av.sO.style.height='';av.bF.style.width=av.sO.style.width='';}});IPCC.bb.forEach(this.ti,function(av){if(av.zw){DU=av.bF.offsetWidth;Dh=av.bF.offsetHeight;ci=av.aW.aBv();if(Math.abs(ci)===90||Math.abs(ci)===270){bE=av.aW.lG();ai=av.aW.nh();}else{ai=av.aW.lG();bE=av.aW.nh();}Qx=ai/bE;Ov=DU/Dh;var lv,jL;if(Qx<Ov){jL=Dh;lv=Math.floor(jL*ai/bE);}else{lv=DU;jL=Math.floor(lv*bE/ai);}av.lv=lv;av.jL=jL;}});IPCC.bb.forEach(this.ti,function(av){if(av.zw&&av.aW){av.sO.style.height=av.jL+'px';av.sO.style.width=av.lv+'px';av.aW.YN(IPCC.Web.UI.FitType.FullImage);av.aW.dF();}});if(yU){this.Zn(yU);}this.Yf();return this;};PCCViewer.ThumbnailControl.prototype.destroy=function(){if(!this.iJ){return this;}this.iJ=iJ.agZ;IPCC.bb.forEach(this.ti,function(av){if(av.aW&&av.aW.dispose){av.aW.dispose();}});while(this.be.firstChild){this.be.removeChild(this.be.firstChild);}this.on=this.off=this.trigger=Un;this.jR={};};PCCViewer.ThumbnailControl.prototype.getVisiblePages=function(){if(!this.iJ){return[];}var gX=this.Rd();return IPCC.bb.map(gX,function(av){return av.aH+1;});};PCCViewer.ThumbnailControl.prototype.Rd=function Rd(){var GO=this.be.getBoundingClientRect(),vp;function Vp(nf,Lb){return(!(Lb.top>=nf.bottom||Lb.left>=nf.right||Lb.bottom<=nf.top||Lb.right<=nf.left));};return IPCC.bb.filter(this.ti,function(av){vp=av.bF.getBoundingClientRect();return Vp(GO,vp);});};PCCViewer.ThumbnailControl.prototype.Yf=function(){var C=this,gX=C.Rd();IPCC.bb.forEach(gX,function(av){if(!av.zw){av.aW=C.kX(av);av.zw=true;}});return this;};PCCViewer.ThumbnailControl.prototype.WW=function WW(bF){var QZ={},C=this;function asE(ct,Ox,DG){if(QZ[ct]){clearTimeout(QZ[ct]);QZ[ct]=undefined;}QZ[ct]=setTimeout(Ox,DG||0);};IPCC.Web.UI.aJ.addHandler(bF,'scroll',function(ev){asE('scroll',function(){C.Yf();},300);});};PCCViewer.ThumbnailControl.prototype.kX=function(av,oJ){var C=this;oJ=oJ||Un;var bf={documentIdentifier:C.bp.documentID,pageNumber:av.aH,viewFitType:IPCC.Web.UI.FitType.FullImage,imageHandlerUrl:C.bp.imageHandlerUrl,encryption:C.bp.encryption,handleTouchEvents:false};var aW=IPCC.initializePageViewPlugin(av.sO,bf);aW.set_debug(C._debug);aW.set_mouseTool(IPCC.Web.UI.MouseTool.None);var yI=false;function HA(){oJ();};aW.add_pageOpened(function(){C.Ut(av);});aW.add_pageDisplayed(function(){if(!yI){HA();}});aW.add_textPageReady(function(){if(yI){aW.dF();HA();}});aW.add_pageOpenFailed(function(){});aW.add_textExtractionFailed(function(){});bf.artPage=C.df.aF.hu(C.df.dK.getPage(av.aH));bf.artPage.FJ(function(J){if(J.get_type()===608){yI=true;}});aW.axj(bf);aW.set_mouseTool(IPCC.Web.UI.MouseTool.None);return aW;};PCCViewer.ThumbnailControl.prototype.Ut=function(av){var C=this;var Ff=C.df.aF.aaK(av.aH);var ci=av.ci;var adN=ci;if(Ff!==av.ci){adN=Ff-ci;}var aW=av.aW,iB=av.sO,bE,ai;iB.style.height='';iB.style.width='';if(Math.abs(Ff)===90||Math.abs(Ff)===270){bE=aW.lG();ai=aW.nh();}else{bE=aW.nh();ai=aW.lG();}var DU=iB.offsetWidth,Dh=iB.offsetHeight;if(av.ci!==Ff){aW.rotate(adN);av.ci=Ff;}var Qx=ai/bE,Ov=DU/Dh;var lv,jL;if(Qx<Ov){jL=Dh;lv=Math.floor(jL*ai/bE);}else{lv=DU;jL=Math.floor(lv*bE/ai);}iB.style.height=jL+'px';iB.style.width=lv+'px';};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.en={copyRectangle:function(V){return{x:V.x,y:V.y,width:V.width,height:V.height};},Common:function(bf,cf){var bE;var ai;if(bf.page){bE=bf.page.get_pageHeight();ai=bf.page.get_pageWidth();}else{bE=null;ai=null;}var bI=bf.mark.getPageNumber();var bg={uid:bf.mark.getUid(),interactionMode:bf.mark.getInteractionMode(),pageNumber:bI,type:bf.mark.getType(),creationDateTime:IPCC.bb.An(bf.mark.h.afZ()),modificationDateTime:IPCC.bb.An(bf.mark.h.ahc()),data:PCCViewer.en.Data(bf.mark),conversation:PCCViewer.en.Conversation(bf.mark.getConversation())};function zH(aT){return{x:aT.x,y:aT.y};};function amS(){var IC=IPCC.bb.map([].concat(bf.mark.h,bf.mark.bW),function(h){if(ai!==null){return{pageNumber:h.aH+1,pageData:{width:ai,height:bE},startIndex:h.get_startIndex(),textLength:h.get_textLength(),lines:IPCC.bb.map(h.cl,function(ar){if(ar.get_rectangle){return PCCViewer.en.copyRectangle(ar.get_rectangle());}else{return PCCViewer.en.copyRectangle(ar);}})};}else{return{pageNumber:h.aH+1,startIndex:h.get_startIndex(),textLength:h.get_textLength(),lines:IPCC.bb.map(h.cl,function(ar){if(ar.get_rectangle){return PCCViewer.en.copyRectangle(ar.get_rectangle());}else{return PCCViewer.en.copyRectangle(ar);}})};}});bg.lineGroups=IC;};function amH(){if(bf.mark.getRectangle){bg.rectangle=PCCViewer.en.copyRectangle(bf.mark.getRectangle());if(ai!==null){bg.pageData={width:ai,height:bE};}}if(bf.mark.getStartPoint){bg.startPoint=zH(bf.mark.getStartPoint());if(ai!==null){bg.pageData=bg.pageData||{width:ai,height:bE};}}if(bf.mark.getEndPoint){bg.endPoint=zH(bf.mark.getEndPoint());if(ai!==null){bg.pageData=bg.pageData||{width:ai,height:bE};}}if(bf.mark.getPoints){var bv=bf.mark.getPoints();bg.points=IPCC.bb.map(bv,zH);if(ai!==null){bg.pageData={width:ai,height:bE};}}if(bf.mark.h.cl){amS();}};if(ai!==undefined&&bE!==undefined&&ai!==0&&bE!==0){amH();cf(undefined,bg);}else{bf.vc.requestPageAttributes(bI).then(function aDO(afA){bE=afA.height;ai=afA.width;amH();cf(undefined,bg);},function aEe(eS){cf(eS);});}},Data:function(bg){return IPCC.bb.reduce(bg.getDataKeys(),function(fM,aI){fM[aI]=bg.getData(aI);return fM;},{});},Comment:function(cr){return{text:cr.getText(),data:PCCViewer.en.Data(cr),creationDateTime:IPCC.bb.An(cr.getCreationTime())};},Conversation:function(cK){return{comments:IPCC.bb.map(cK.getComments(),function(cr){return PCCViewer.en.Comment(cr);}),data:PCCViewer.en.Data(cK)};},EllipseAnnotation:function(bf,cf){PCCViewer.en.RectangleAnnotation(bf,cf);},FreehandAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{color:bf.mark.getColor(),opacity:bf.mark.getOpacity(),path:bf.mark.getPath(),thickness:bf.mark.getThickness()});cf(undefined,bg);});},FreehandSignature:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{color:bf.mark.getColor(),path:bf.mark.getPath(),thickness:bf.mark.getThickness()});cf(undefined,bg);});},HighlightAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}var di=bf.mark.getPosition();bg=IPCC.bb.extend(bg,{fillColor:bf.mark.getFillColor(),textLength:di.length,startIndex:di.startIndex,selectedText:bf.mark.getText()});cf(undefined,bg);});},ImageStampAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}var aQ=bf.mark.getImage();bg=IPCC.bb.extend(bg,{imageDataUrl:aQ.dataUrl,imageId:aQ.id});cf(undefined,bg);});},ImageStampRedaction:function(bf,cf){PCCViewer.en.ImageStampAnnotation(bf,cf);},LineAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{color:bf.mark.getColor(),endHeadType:bf.mark.getEndHeadType(),opacity:bf.mark.getOpacity(),thickness:bf.mark.getThickness()});cf(undefined,bg);});},PolylineAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{color:bf.mark.getColor(),opacity:bf.mark.getOpacity(),thickness:bf.mark.getThickness()});cf(undefined,bg);});},RectangleAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{borderColor:bf.mark.getBorderColor(),borderThickness:bf.mark.getBorderThickness(),fillColor:bf.mark.getFillColor(),opacity:bf.mark.getOpacity()});cf(undefined,bg);});},RectangleRedaction:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{reason:bf.mark.getReason()});cf(undefined,bg);});},StampAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{label:bf.mark.getLabel(),color:bf.mark.getColor()});cf(undefined,bg);});},StampRedaction:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{label:bf.mark.getLabel()});cf(undefined,bg);});},TextAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{borderColor:bf.mark.getBorderColor(),borderThickness:bf.mark.getBorderThickness(),fillColor:bf.mark.getFillColor(),fontColor:bf.mark.getFontColor(),fontName:bf.mark.getFontName(),fontSize:bf.mark.getFontSize(),fontStyle:bf.mark.getFontStyle(),horizontalAlignment:bf.mark.getHorizontalAlignment(),opacity:bf.mark.getOpacity(),text:bf.mark.getText()});cf(undefined,bg);});},TextHyperlinkAnnotation:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}var di=bf.mark.getPosition();bg=IPCC.bb.extend(bg,{href:bf.mark.getHref(),textLength:di.length,startIndex:di.startIndex,selectedText:bf.mark.getText()});cf(undefined,bg);});},TextInputSignature:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{fontColor:bf.mark.getFontColor(),fontName:bf.mark.getFontName(),text:bf.mark.getText()});cf(undefined,bg);});},TextRedaction:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{fontColor:bf.mark.getFontColor(),fontName:bf.mark.getFontName(),fontSize:bf.mark.getFontSize(),text:bf.mark.getText()});cf(undefined,bg);});},TextSelectionRedaction:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}var di=bf.mark.getPosition();bg=IPCC.bb.extend(bg,{reason:bf.mark.getReason(),textLength:di.length,startIndex:di.startIndex,selectedText:bf.mark.getText()});cf(undefined,bg);});},TextSignature:function(bf,cf){PCCViewer.en.Common(bf,function(cR,bg){if(cR){cf(cR);return;}bg=IPCC.bb.extend(bg,{color:bf.mark.getColor(),fontName:bf.mark.getFontName(),text:bf.mark.getText()});cf(undefined,bg);});},TransparentRectangleRedaction:function(bf,cf){PCCViewer.en.Common(bf,cf);}};PCCViewer.ViewerControl.prototype.serializeMarks=function serializeMarks(marks){var aw=PCCViewer.Deferred();var cY=aw.getPromise();var C=this,ay,awd=false;function anr(eS){setTimeout(function(){aw.reject(eS);},0);};if(Object.prototype.toString.call(marks)==='[object Array]'){ay=marks;}else if(marks){ay=[marks];awd=true;}else{anr(new PCCViewer.Error('InvalidArgument','`marks` is not defined or falsy.'));return cY;}var RV;ay=IPCC.bb.filter(ay,function(nn,cB){var agg=nn instanceof PCCViewer.Mark&&nn===C.getMarkById(nn.getId())&& ! !PCCViewer.en[nn.getType()];if(!agg&& !RV){RV=cB;}return agg;});if(RV){anr(new PCCViewer.Error('InvalidArgument','Cannot serialize object at index '+RV+' because it is not a valid mark or a mark known to ViewerControl'));return cY;}var ZV=C.aG.get_pages();var cQ=IPCC.bb.reduce(ay,function(fM,nn){var bI=nn.getPageNumber();if(fM[bI]){return fM;}fM[bI]=ZV.getPage(bI-1);return fM;},{});function asz(J,bw,axX){return function(oJ){PCCViewer.en[J.getType()]({mark:J,page:bw,vc:C},function(cR,cj){if(!cR){axX(cj);oJ();}else{aw.reject(cR);}});};};var uG=[];var aAP=IPCC.bb.map(ay,function(nn,cB){return asz(nn,cQ[nn.getPageNumber()],function(cj){uG[cB]=cj;});});IPCC.bb.VZ(aAP,function(){aw.resolve(uG);});return cY;};})(PCCViewer||{});;(function(PCCViewer){PCCViewer.fh={calculateRectangle:function(bg,bp){if(bg.pageData===undefined||(bg.pageData.width===bp.ai&&bg.pageData.height===bp.bE)){return bg.rectangle;}else{return{x:bg.rectangle.x*bp.ai/bg.pageData.width,y:bg.rectangle.y*bp.bE/bg.pageData.height,width:bg.rectangle.width*bp.ai/bg.pageData.width,height:bg.rectangle.height*bp.bE/bg.pageData.height};}},setRectangle:function(J,bg,bp){J.setRectangle(PCCViewer.fh.calculateRectangle(bg,bp));},setLines:function(J,bg,bp){var adG,nU,ds=bg.textLength+bg.startIndex-1,cu=bg.selectedText,di={startIndex:bg.startIndex,length:bg.textLength};nU=[];var aH,Bi;adG=IPCC.bb.reduce(bg.lineGroups,function(fM,pj){aH=pj.pageNumber-1;fM[aH]=IPCC.bb.map(pj.lines,function(hT){if(pj.pageData!==undefined){Bi=PCCViewer.fh.calculateRectangle({rectangle:hT,pageData:pj.pageData},bp);return new IPCC.Web.UI.Rectangle(Bi.x,Bi.y,Bi.width,Bi.height);}else{return new IPCC.Web.UI.Rectangle(hT.x,hT.y,hT.width,hT.height);}});nU.push({pageIndex:aH,endIndex:pj.startIndex+pj.textLength-1});return fM;},{});J.HN(nU,ds,cu,di,adG);},postCreate:function(J,bg){J.h.adw(new Date(IPCC.bb.IT(bg.creationDateTime)));J.h.abi(new Date(IPCC.bb.IT(bg.modificationDateTime)));return J;},calculatePoint:function(aT,GP,bp){if(GP===undefined||(GP.width===bp.ai&&GP.height===bp.bE)){return aT;}else{return{x:aT.x*bp.ai/GP.width,y:aT.y*bp.bE/GP.height};}},Data:function(bg,cj){IPCC.bb.forEach(cj,function(cg,aI){bg.setData(aI,cg);});},Comment:function(cK,cr){var oP=cK.addComment(cr.text);oP.setCreationTime(cr.creationDateTime);PCCViewer.fh.Data(oP,cr.data);},Conversation:function(J,cK){var aku=J.getConversation();IPCC.bb.forEach(cK.comments?cK.comments:[],function(oP){PCCViewer.fh.Comment(aku,oP);});PCCViewer.fh.Data(aku,cK.data);},Common:function(bg,bp){if(bg.uid===undefined){bg.uid=IPCC.bb.adU();}var J=this.aeD(bg.pageNumber,bg.type,{uid:bg.uid});if(bg.rectangle&&J.setRectangle){PCCViewer.fh.setRectangle(J,bg,bp);}if(bg.startPoint&&J.setStartPoint){J.setStartPoint(PCCViewer.fh.calculatePoint(bg.startPoint,bg.pageData,bp));}if(bg.endPoint&&J.setEndPoint){J.setEndPoint(PCCViewer.fh.calculatePoint(bg.endPoint,bg.pageData,bp));}if(bg.points&&J.setPoints){J.setPoints(IPCC.bb.map(bg.points,function(aT){return PCCViewer.fh.calculatePoint(aT,bg.pageData,bp);}));}if(bg.lineGroups&&J.HN){J.cI=bg.uid;PCCViewer.fh.setLines(J,bg,bp);}if(bg.interactionMode){J.setInteractionMode(bg.interactionMode);}PCCViewer.fh.Data(J,bg.data);PCCViewer.fh.Conversation(J,bg.conversation);return J;},EllipseAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.borderColor){J.setBorderColor(bg.borderColor);}if(bg.borderThickness){J.setBorderThickness(bg.borderThickness);}if(bg.fillColor){J.setFillColor(bg.fillColor);}if(bg.opacity){J.setOpacity(bg.opacity);}return PCCViewer.fh.postCreate(J,bg);},FreehandAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.color){J.setColor(bg.color);}if(bg.opacity){J.setOpacity(bg.opacity);}if(bg.path){J.setPath(bg.path);}if(bg.thickness){J.setThickness(bg.thickness);}return PCCViewer.fh.postCreate(J,bg);},FreehandSignature:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.color){J.setColor(bg.color);}if(bg.path){J.setPath(bg.path);}if(bg.thickness){J.setThickness(bg.thickness);}return PCCViewer.fh.postCreate(J,bg);},HighlightAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.fillColor){J.setFillColor(bg.fillColor);}return PCCViewer.fh.postCreate(J,bg);},ImageStampAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.imageDataUrl&&bg.imageId){J.setImage({id:bg.imageId,dataUrl:bg.imageDataUrl});}return PCCViewer.fh.postCreate(J,bg);},ImageStampRedaction:function(bg,bp){return PCCViewer.fh.ImageStampAnnotation.apply(this,arguments);},LineAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.color){J.setColor(bg.color);}if(bg.endHeadType){J.setEndHeadType(bg.endHeadType);}if(bg.opacity){J.setOpacity(bg.opacity);}if(bg.thickness){J.setThickness(bg.thickness);}return PCCViewer.fh.postCreate(J,bg);},PolylineAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.color){J.setColor(bg.color);}if(bg.opacity){J.setOpacity(bg.opacity);}if(bg.thickness){J.setThickness(bg.thickness);}return PCCViewer.fh.postCreate(J,bg);},RectangleAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.borderColor){J.setBorderColor(bg.borderColor);}if(bg.borderThickness){J.setBorderThickness(bg.borderThickness);}if(bg.fillColor){J.setFillColor(bg.fillColor);}if(bg.opacity){J.setOpacity(bg.opacity);}return PCCViewer.fh.postCreate(J,bg);},RectangleRedaction:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.reason){J.setReason(bg.reason);}return PCCViewer.fh.postCreate(J,bg);},StampAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.label){J.setLabel(bg.label);}if(bg.color){J.setColor(bg.color);}return PCCViewer.fh.postCreate(J,bg);},StampRedaction:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.label){J.setLabel(bg.label);}return PCCViewer.fh.postCreate(J,bg);},TextAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.borderColor){J.setBorderColor(bg.borderColor);}if(bg.borderThickness){J.setBorderThickness(bg.borderThickness);}if(bg.fillColor){J.setFillColor(bg.fillColor);}if(bg.fontColor){J.setFontColor(bg.fontColor);}if(bg.fontName){J.setFontName(bg.fontName);}if(bg.fontSize){J.setFontSize(bg.fontSize);}if(bg.fontStyle){J.setFontStyle(bg.fontStyle);}if(bg.horizontalAlignment){J.setHorizontalAlignment(bg.horizontalAlignment);}if(bg.opacity){J.setOpacity(bg.opacity);}if(bg.text){J.setText(bg.text);}return PCCViewer.fh.postCreate(J,bg);},TextHyperlinkAnnotation:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.href){J.setHref(bg.href);}return PCCViewer.fh.postCreate(J,bg);},TextInputSignature:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.fontColor){J.setFontColor(bg.fontColor);}if(bg.fontName){J.setFontName(bg.fontName);}if(bg.text){J.setText(bg.text);}return PCCViewer.fh.postCreate(J,bg);},TextRedaction:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.fontColor){J.setFontColor(bg.fontColor);}if(bg.fontName){J.setFontName(bg.fontName);}if(bg.fontSize){J.setFontSize(bg.fontSize);}if(bg.text){J.setText(bg.text);}return PCCViewer.fh.postCreate(J,bg);},TextSelectionRedaction:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.reason){J.setReason(bg.reason);}return PCCViewer.fh.postCreate(J,bg);},TextSignature:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);if(bg.color){J.setColor(bg.color);}if(bg.fontName){J.setFontName(bg.fontName);}if(bg.text){J.setText(bg.text);}return PCCViewer.fh.postCreate(J,bg);},TransparentRectangleRedaction:function(bg,bp){var J=PCCViewer.fh.Common.apply(this,arguments);return PCCViewer.fh.postCreate(J,bg);}};PCCViewer.ViewerControl.prototype.deserializeMarks=function deserializeMarks(values){if(this.eW===false){throw new Error("The method addMark is not available until 'ViewerReady' state is reached.");}var C=this;var eB=C.getPageCount();var fg;if(typeof values==='string'){try{fg=JSON.parse(values);}catch(e){throw new Error('JSON parse error: '+e.message);}}else{fg=values;}if(fg.constructor!==Array){fg=[fg];}function Xn(eS,cB){throw new Error('Cannot serialize mark (at index '+cB+') because of '+eS);};var YA=IPCC.bb.map(C.getAllMarks(),function(J){return J.getUid();});IPCC.bb.forEach(fg,function validateObject(bg,cB){if(!bg.pageNumber||isNaN(+bg.pageNumber)||bg.pageNumber<1||bg.pageNumber>eB){Xn('unknown page number '+bg.pageNumber,cB);}if(!PCCViewer.Mark.Type[bg.type]){Xn('unknown type '+bg.type,cB);}if(IPCC.bb.contains(YA,bg.uid)){Xn('uid '+bg.uid+' is being duplicated or already exists',cB);}else if(bg.uid!==undefined){YA.push(bg.uid);}});if(fg.length===0){return[];}var cQ=C.aG.get_pages();var aky=cQ.kX(0);var es=aky.get_pageWidth();var gx=aky.get_pageHeight();var asC=[];cQ.nl(function(bw){asC.push(C.aF.hu(bw));});var ay=IPCC.bb.map(fg,function(bg){var J=PCCViewer.fh[bg.type].call(C,bg,{ai:es,bE:gx});if(bg.uid===undefined){YA.push(J.getUid());}var bw=cQ.kX(bg.pageNumber-1);bw.AN=true;return J;});return ay;};})(PCCViewer||{});(function(PCCViewer){PCCViewer.LoadMarkupLayersRequest=function(layerRecordIds,viewerControl,options){this.AJ=layerRecordIds;this.df=viewerControl;this.js="";this.gV=false;this.rk=false;this.mH=0;this.aw=PCCViewer.Deferred();this.cY=this.aw.getPromise();this.then=this.cY.then;this.tw=options.loadAsHidden===true;PCCViewer.EventEmitter.extend(this);};PCCViewer.LoadMarkupLayersRequest.EventType={LoadMarkupLayersFailed:"LoadMarkupLayersFailed",LoadMarkupLayersCompleted:"LoadMarkupLayersCompleted",LoadMarkupLayersCancelled:"LoadMarkupLayersCancelled",LoadMarkupLayersProgress:"LoadMarkupLayersProgress"};PCCViewer.LoadMarkupLayersRequest.prototype.getProgress=function(){return this.mH;};PCCViewer.LoadMarkupLayersRequest.prototype.cancel=function(){var C=this;this.rk=true;this.js="User Cancelled";setTimeout(function(){C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCancelled,{});C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});C.aw.reject(new PCCViewer.Error("UserCancelled","User Cancelled"));},0);return this;};PCCViewer.LoadMarkupLayersRequest.prototype.getViewerControl=function(){return this.df;};PCCViewer.LoadMarkupLayersRequest.prototype.getErrorCode=function(){return this.js;};PCCViewer.LoadMarkupLayersRequest.prototype.Ik=function(){var C=this,Yy=1,Wf,YQ=[];var tw=this.tw;var uh=function(agL){var dc=Wf+agL;IPCC.bb.Lx({url:dc,method:'GET'}).then(function onResolve(lb){var rW=JSON.parse(lb),Nh=C.awK(rW),gJ,uG=[],ay,gf=[],ame={},NH=0,Pi;for(var mZ in Nh.gf){if(Nh.gf.hasOwnProperty(mZ)){gf=gf.concat(Nh.gf[mZ]);}}gJ=new PCCViewer.MarkupLayer(C.df,gf);gJ.aEi={dc:dc};IPCC.bb.forEach(Nh.uG,function(adm){uG.push(adm);NH++;ame[adm.uid]=true;});if(rW.name){gJ.setName(rW.name);}if(rW.originalXmlName){gJ.setOriginalXmlName(rW.originalXmlName);}if(NH>0){Pi=function(ev){if(ame[ev.mark.getUid()]){NH--;}if(!NH){C.df.off(PCCViewer.EventType.MarkCreated,Pi);C.df.tK=true;}};C.df.on(PCCViewer.EventType.MarkCreated,Pi);C.df.tK=false;try{ay=C.df.deserializeMarks(uG);}catch(cR){C.gV=false;C.df.off(PCCViewer.EventType.MarkCreated,Pi);C.df.tK=true;C.aw.reject(new PCCViewer.Error('Error',cR.message));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}if(tw){IPCC.bb.forEach(ay,function(J){J.setVisible(false);});}gJ.addMarks(ay);}gJ.Uf=agL;for(var wS in rW.data){if(rW.data.hasOwnProperty(wS)){gJ.setData(wS,rW.data[wS]);}}C.df.getMarkupLayerCollection().addItem(gJ);YQ.push(gJ);Yy--;C.mH=(C.AJ.length-Yy)/C.AJ.length;C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersProgress,{progress:C.mH});if(C.mH===1){C.gV=false;C.aw.resolve(YQ);C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersCompleted,{markupLayers:YQ});}},function onReject(eS){C.gV=false;C.aw.reject(new PCCViewer.Error("Error",eS));C.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});});};if(!(/^[\x00-\x7F]*$/.test(this.df.aG.get_documentIdentifier()))){Wf=this.df.bp.imageHandlerUrl+'/MarkupLayers/e'+this.df.bp.documentID+'/';}else{Wf=this.df.bp.imageHandlerUrl+'/MarkupLayers/u'+encodeURIComponent(this.df.bp.documentID)+'/';}if(this.rk){return;}if(Object.prototype.toString.call(this.AJ)==='[object Array]'&&this.AJ.length>0){Yy=this.AJ.length;this.gV=true;IPCC.bb.forEach(this.AJ,uh,this);}else if(typeof this.AJ==="string"){this.gV=true;uh(this.AJ);}else{this.gV=false;this.aw.reject(new PCCViewer.Error("InvalidParameter",'layerRecordIds parameter is missing or invalid.'));this.trigger(PCCViewer.LoadMarkupLayersRequest.EventType.LoadMarkupLayersFailed,{});return;}};PCCViewer.LoadMarkupLayersRequest.prototype.awK=function(rW){var LP={},MU={};IPCC.bb.forEach(rW.marks,function(TC){TC.conversation.comments=[];LP[TC.uid]=TC;},this);IPCC.bb.forEach(rW.comments,function(zv){if(LP[zv.markUid]){LP[zv.markUid].conversation.comments.push(zv);}else if(MU[zv.markUid]){MU[zv.markUid].push(zv);}else{MU[zv.markUid]=[zv];}},this);return{uG:LP,gf:MU};};if(Object.defineProperties){Object.defineProperties(PCCViewer.LoadMarkupLayersRequest.prototype,{"errorCode":{enumerable:true,get:function(){return this.getErrorCode();}},"progress":{enumerable:true,get:function(){return this.getProgress();}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}}});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayer=function(viewerControl,markReferences){var C=this;if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.cD=function(){var d=new Date().getTime();var uuid='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x3|0x8)).toString(16);});return uuid;}();this.df=viewerControl;this.ct=undefined;this.Uf=undefined;this.akH=undefined;this.ay=[];this.gf={};this.oW=PCCViewer.Mark.InteractionMode.Full;if(markReferences!==undefined){switch(Object.prototype.toString.call(markReferences)){case "[object Object]":markReferences=[markReferences];break;case "[object Array]":break;default:throw new Error('`markReferences` param is not an object or an array.');}IPCC.bb.forEach(markReferences,function(rD){var Lg=rD.markUid;rD.markupLayer=C;if(C.gf[Lg]){C.gf[Lg]=C.gf[Lg].concat(rD);}else{C.gf[Lg]=[rD];}});}var qF={};PCCViewer.EventEmitter.extend(qF);qF.Si=function(Fx,cs){var C=this;return setTimeout(function(){C.trigger(Fx,cs);},0);};PCCViewer.EventEmitter.extend(this);this.cj=new IPCC.Web.UI.Data();PCCViewer.Data.extend(this);this.CL=new IPCC.Web.UI.Data();PCCViewer.SessionData.extend(this);setTimeout(function(){C.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerCreated,{});},0);};PCCViewer.MarkupLayer.EventType={MarkupLayerCreated:"MarkupLayerCreated",MarkupLayerDestroyed:"MarkupLayerDestroyed",MarksAddedToLayer:"MarksAddedToLayer",MarksRemovedFromLayer:"MarksRemovedFromLayer",MarkupLayerInteractionModeChanged:"MarkupLayerInteractionModeChanged",MarkupLayerHidden:"MarkupLayerHidden",MarkupLayerShown:"MarkupLayerShown"};PCCViewer.MarkupLayer.prototype.getViewerControl=function(){return this.df;};PCCViewer.MarkupLayer.prototype.addMarks=function(marks){var C=this,aqg=function(cr){cr.jt=C;};switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var F=0;F<marks.length;F++){if(!(marks[F]instanceof PCCViewer.Mark)){throw new Error('`marks` param contains an item that is not an instanceof `PCCViewer.Mark`');}if(this.hasMark(marks[F].getId())){marks.splice(F,1);continue;}IPCC.bb.forEach(marks[F].getConversation().getComments(),aqg);}if(marks.length){this.ay=this.ay.concat(marks);this.trigger(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,{marks:marks});}return this;};PCCViewer.MarkupLayer.prototype.removeMarks=function(marks){switch(Object.prototype.toString.call(marks)){case "[object Object]":marks=[marks];break;case "[object Array]":break;default:throw new Error('`marks` param is not an object or an array.');}for(var F=0;F<this.ay.length;F++){for(var ba=0;ba<marks.length;ba++){if(this.ay[F].getUid()===marks[ba].getUid()){this.ay.splice(F,1);this.trigger(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,{marks:[marks[ba]]});break;}}}};PCCViewer.MarkupLayer.prototype.getMarks=function(){var agO=[];IPCC.bb.forEach(this.ay,function(J){agO.push(J);});return agO;};PCCViewer.MarkupLayer.prototype.hasMark=function(markId){if(typeof markId!=='string'){throw new Error('`markId` param is not a string.');}var F=0,acY=false,J;for(F;F<this.ay.length;F++){J=this.ay[F];if(J.getId()===markId){acY=true;break;}}return acY;};PCCViewer.MarkupLayer.prototype.getMarkReferences=function(){var gf=[];for(var mZ in this.gf){if(this.gf.hasOwnProperty(mZ)){gf=gf.concat(this.gf[mZ]);}}return gf;};PCCViewer.MarkupLayer.prototype.hide=function(){var df=this.df;df.hideMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerHidden,{});return this;};PCCViewer.MarkupLayer.prototype.show=function(){var df=this.df;df.showMarks(this.getMarks());this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerShown,{});return this;};PCCViewer.MarkupLayer.prototype.copyLayers=function(markupLayers){var df=this.df,C=this;if(markupLayers instanceof PCCViewer.MarkupLayer){markupLayers=[markupLayers];}if(markupLayers instanceof Array===false){throw new PCCViewer.Error("InvalidArgument","The parameter, markupLayers, is not an Array of MarkupLayers or a single MarkupLayer.");}var ay=[];IPCC.bb.forEach(markupLayers,function(jt){df.getMarkupLayerCollection().getItem(jt.getId());ay=ay.concat(jt.getMarks());});var copiedMarks=df.copyMarks(ay);this.addMarks(copiedMarks);IPCC.bb.forEach(this.ay,function(J){IPCC.bb.forEach(J.getConversation().getComments(),function(cr){cr.jt=C;});});return this;};PCCViewer.MarkupLayer.prototype.getId=function(){return this.cD;};PCCViewer.MarkupLayer.prototype.getName=function(){return this.ct;};PCCViewer.MarkupLayer.prototype.setName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.ct=name;return this;};PCCViewer.MarkupLayer.prototype.getRecordId=function(){return this.Uf;};PCCViewer.MarkupLayer.prototype.destroy=function(){this.df.getMarkupLayerCollection().removeItem(this.cD);this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerDestroyed,{});};PCCViewer.MarkupLayer.prototype.setInteractionMode=function(interactionMode){if(typeof interactionMode!=='string'){throw new Error('`interactionMode` param is not a string.');}this.oW=interactionMode;IPCC.bb.forEach(this.ay,function(J){J.setInteractionMode(interactionMode);});this.trigger(PCCViewer.MarkupLayer.EventType.MarkupLayerInteractionModeChanged,{interactionMode:interactionMode});return this;};PCCViewer.MarkupLayer.prototype.getOriginalXmlName=function(){return this.akH;};PCCViewer.MarkupLayer.prototype.setOriginalXmlName=function(name){if(typeof name!=='string'){throw new Error('`name` param is not a string.');}this.akH=name;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayer.prototype,{"id":{enumerable:true,get:function(){return this.getId();}},"recordId":{enumerable:true,get:function(){return this.getRecordId();}},"name":{enumerable:true,get:function(){return this.getName();},set:function(name){return this.setName(name);}},"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"originalXmlName":{enumerable:true,get:function(){return this.getOriginalXmlName();},set:function(name){return this.setOriginalXmlName(name);}},});}})(PCCViewer||{});(function(PCCViewer){PCCViewer.MarkupLayerCollection=function(viewerControl){if(!viewerControl){throw new Error('`viewerControl` param is missing.');}this.df=viewerControl;this.uB={};this.ay={};this.jx={};this.mI=0;PCCViewer.EventEmitter.extend(this);};PCCViewer.MarkupLayerCollection.EventType={MarkupLayerAdded:"MarkupLayerAdded",MarkupLayerRemoved:"MarkupLayerRemoved"};PCCViewer.MarkupLayerCollection.prototype.getViewerControl=function(){return this.df;};PCCViewer.MarkupLayerCollection.prototype.forEach=function(iterator,thisArg){if(typeof iterator!=='function'){throw new TypeError('The iterator parameter is not a function');}IPCC.bb.forEach(this.uB,iterator,thisArg);return this;};PCCViewer.MarkupLayerCollection.prototype.getItem=function(layerId){if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}return this.uB[layerId];};PCCViewer.MarkupLayerCollection.prototype.getCount=function(){return this.mI;};PCCViewer.MarkupLayerCollection.prototype.getAll=function(){var agM=[],ZN;for(ZN in this.uB){if(this.uB.hasOwnProperty(ZN)){agM.push(this.uB[ZN]);}}return agM;};PCCViewer.MarkupLayerCollection.prototype.addItem=function(layer){var C=this,gf,Yu=layer.gf,Lz=function(J,rD){var cr=J.getConversation().addComment(rD.text);cr.creationTime=new Date(rD.creationDateTime);cr.jt=rD.markupLayer;for(var wS in rD.data){if(rD.data.hasOwnProperty(wS)){cr.setData(wS,rD.data[wS]);}}},avW=function(atr){Lz(C.ay[ze],atr);},aeC=function(J){var mZ=J.getUid();C.ay[J.getUid()]=J;if(C.jx[mZ]){IPCC.bb.forEach(C.jx[mZ],function(rn){Lz(J,rn);});delete C.jx[mZ];}};if(!(layer instanceof PCCViewer.MarkupLayer)){throw new Error('`layer` param is not an instance of PCCViewer.MarkupLayer.');}this.uB[layer.getId()]=layer;for(var ze in Yu){if(Yu.hasOwnProperty(ze)){gf=Yu[ze];if(C.ay[ze]){IPCC.bb.forEach(gf,avW);}else if(C.jx[ze]){C.jx[ze]=C.jx[ze].concat(gf);}else{C.jx[ze]=gf;}}}IPCC.bb.forEach(layer.getMarks(),function(J){aeC(J);});this.mI++;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerAdded,{layerId:layer.getId()});layer.on(PCCViewer.MarkupLayer.EventType.MarksAddedToLayer,function(ev){IPCC.bb.forEach(ev.marks,function(J){aeC(J);});});layer.on(PCCViewer.MarkupLayer.EventType.MarksRemovedFromLayer,function(ev){var ayB=ev.dA;IPCC.bb.forEach(ev.marks,function(J){var mZ=J.getUid();IPCC.bb.forEach(C.ay[mZ].getConversation().getComments(),function(JZ){if(ayB.id!==JZ.jt.id){var rn={creationDateTime:IPCC.bb.An(JZ.creationTime),data:JZ.cj.za(),markUid:J.getUid(),markupLayer:JZ.jt,text:JZ.text};if(C.jx[mZ]){C.jx[mZ]=C.jx[mZ].concat([rn]);}else{C.jx[mZ]=[rn];}}});C.wf(J);});});return this;};PCCViewer.MarkupLayerCollection.prototype.wf=function(J){var NT;IPCC.bb.forEach(this.uB,function(gJ){var agu=gJ.hasMark(J.getId());NT=(typeof NT!=='undefined')? +agu^NT: +agu;});if(NT===0){delete this.ay[J.getUid()];}};PCCViewer.MarkupLayerCollection.prototype.removeItem=function(layerId){var gJ=this.uB[layerId],C=this,auE=function(rn,bh){if(rn.markupLayer.getId()===layerId){C.jx[cD].splice(bh);}};if(typeof layerId!=='string'){throw new Error('`layerId` param is not a string.');}IPCC.bb.forEach(this.ay,function(J){var hI=J.getConversation().getComments();var RU=gJ.hasMark(J.getId());IPCC.bb.forEach(hI,function(cr){if(RU&&cr.jt.getId()!==layerId){var acl={"markUid":J.getUid(),"markupLayer":cr.jt,"text":cr.getText(),"data":cr.cj.cj,"creationDateTime":IPCC.bb.An(cr.getCreationTime())};if(C.jx[J.getUid()]){C.jx[J.getUid()].push(acl);}else{C.jx[J.getUid()]=[acl];}J.getConversation().deleteComments(cr);}else if(RU&&cr.jt.getId()===layerId){J.getConversation().deleteComments(cr);}else if(!RU&&cr.jt.getId()===layerId){J.getConversation().deleteComments(cr);}});if(RU&&C.ay[J.getUid()]){C.wf(J);}});for(var cD in this.jx){if(this.jx.hasOwnProperty(cD)){IPCC.bb.forEach(this.jx[cD],auE);}}delete this.uB[layerId];this.mI--;this.trigger(PCCViewer.MarkupLayerCollection.EventType.MarkupLayerRemoved,{layerId:layerId});return this;};PCCViewer.MarkupLayerCollection.prototype.removeAll=function(){this.uB={};this.mI=0;return this;};if(Object.defineProperties){Object.defineProperties(PCCViewer.MarkupLayerCollection.prototype,{"viewerControl":{enumerable:true,get:function(){return this.getViewerControl();}},"count":{enumerable:true,get:function(){return this.getCount();}}});}})(PCCViewer||{}); 